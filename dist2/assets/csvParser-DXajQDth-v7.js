const h=t=>{const e=[];let n=[],r="",a=!1;const o=t.trim();for(let c=0;c<o.length;c++){const i=o[c],u=o[c+1];a?i==='"'&&u==='"'?(r+='"',c++):i==='"'?a=!1:r+=i:i==='"'?a=!0:i===","?(n.push(r.trim()),r=""):i===`
`||i==="\r"?((r||n.length>0)&&(n.push(r.trim()),e.push(n)),n=[],r="",i==="\r"&&u===`
`&&c++):r+=i}if((r||n.length>0)&&(n.push(r.trim()),e.push(n)),e.length===0)return[];const f=e[0];return e.slice(1).map(c=>{const i={};return f.forEach((u,l)=>{let s=c[l]||"";s.startsWith('="')&&s.endsWith('"')&&(s=s.substring(2,s.length-1)),s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1)),i[u]=s}),i})};function g(t){if(!t)return 3;if(t.includes("TTC")||t.includes("ttc"))return 6;const e=t.match(/(\d+)개월/);return e?parseInt(e[1],10):(t.includes("쿠폰"),3)}function d(t,e){if(!t)return"";try{const n=new Date(t);return isNaN(n.getTime())?"":(n.setMonth(n.getMonth()+e),n.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}))}catch(n){return console.error("날짜 계산 오류:",n),""}}function m(t){if(!t)return"";if(t.includes("~")){const n=t.split("~").map(r=>r.trim());return n.length===2?n[1]:""}const e=t.trim();return e.length>=8?e:""}function p(t){return t&&t.trim().toLowerCase().includes("마포")?"mapo":"gwangheungchang"}function w(t){if(!t||t.trim()==="")return 999;const e=t.match(/(\d+)/);return e?parseInt(e[1],10):999}function x(t){if(!t||t.includes("0")&&!t.match(/\d{2,}/))return 0;const e=t.replace(/[^\d]/g,"");return e?parseInt(e,10):0}function C(t){if(!t)return"";const e=t.match(/(\d{4}-\d{2}-\d{2})/);if(e)try{return new Date(e[1]).toISOString()}catch{return""}return""}export{d as calculateEndDate,p as convertToBranchId,m as extractEndDateFromPeriod,g as extractMonthsFromProduct,x as parseAmount,h as parseCSV,w as parseCredits,C as parseLastVisit};
//# sourceMappingURL=csvParser-DXajQDth-v7.js.map
