const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminDashboard-Cgh_-RZo-v7.js","assets/CommonIcons-5q3SwwL--v7.js","assets/Share.es-CrG1KySg-v7.js","assets/Sun.es-DG79aZPN-v7.js","assets/User.es-ByxEiKSl-v7.js","assets/price_table_2-EjFdeYrd-v7.js","assets/holidays-BTzqNUnu-v7.js","assets/logo-CsBpws1v-v7.js","assets/csvParser-DXajQDth-v7.js","assets/usePWA-48e7bRDr-v7.js","assets/CheckInPage-T8I_kDQ1-v7.js","assets/RYS200-d-9xVU_h-v7.js","assets/CheckInPage-DDveCjRV-v7.css","assets/MemberProfile-lZ6IVTXg-v7.js","assets/zen_yoga_bg-D_59akH8-v7.js","assets/InstallGuideModal-DzhpClxo-v7.js","assets/LoginPage-D3leJo7i-v7.js","assets/InstructorPage-BNN2uAk7-v7.js","assets/MeditationPage-C3pt8ShF-v7.js"])))=>i.map(i=>d[i]);
function pR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function hx(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var kg={exports:{}},kc={};var w1;function yR(){if(w1)return kc;w1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:u,ref:o!==void 0?o:null,props:l}}return kc.Fragment=e,kc.jsx=t,kc.jsxs=t,kc}var T1;function _R(){return T1||(T1=1,kg.exports=yR()),kg.exports}var re=_R(),Mg={exports:{}},Re={};var S1;function vR(){if(S1)return Re;S1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,P={};function Y(x,te,ce){this.props=x,this.context=te,this.refs=P,this.updater=ce||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},Y.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function B(){}B.prototype=Y.prototype;function Q(x,te,ce){this.props=x,this.context=te,this.refs=P,this.updater=ce||j}var se=Q.prototype=new B;se.constructor=Q,V(se,Y.prototype),se.isPureReactComponent=!0;var fe=Array.isArray;function de(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(x,te,ce){var he=ce.ref;return{$$typeof:n,type:x,key:te,ref:he!==void 0?he:null,props:ce}}function L(x,te){return D(x.type,te,x.props)}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function z(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ce){return te[ce]})}var N=/\/+/g;function ct(x,te){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):te.toString(36)}function zt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(de,de):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function W(x,te,ce,he,Se){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(Ne){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case n:case e:ze=!0;break;case _:return ze=x._init,W(ze(x._payload),te,ce,he,Se)}}if(ze)return Se=Se(x),ze=he===""?"."+ct(x,0):he,fe(Se)?(ce="",ze!=null&&(ce=ze.replace(N,"$&/")+"/"),W(Se,te,ce,"",function(ia){return ia})):Se!=null&&(k(Se)&&(Se=L(Se,ce+(Se.key==null||x&&x.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+ze)),te.push(Se)),1;ze=0;var jt=he===""?".":he+":";if(fe(x))for(var ut=0;ut<x.length;ut++)he=x[ut],Ne=jt+ct(he,ut),ze+=W(he,te,ce,Ne,Se);else if(ut=C(x),typeof ut=="function")for(x=ut.call(x),ut=0;!(he=x.next()).done;)he=he.value,Ne=jt+ct(he,ut++),ze+=W(he,te,ce,Ne,Se);else if(Ne==="object"){if(typeof x.then=="function")return W(zt(x),te,ce,he,Se);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(x,te,ce){if(x==null)return x;var he=[],Se=0;return W(x,he,"","",function(Ne){return te.call(ce,Ne,Se++)}),he}function _e(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(ce){(x._status===0||x._status===-1)&&(x._status=1,x._result=ce)},function(ce){(x._status===0||x._status===-1)&&(x._status=2,x._result=ce)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var Fe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qe={map:le,forEach:function(x,te,ce){le(x,function(){te.apply(this,arguments)},ce)},count:function(x){var te=0;return le(x,function(){te++}),te},toArray:function(x){return le(x,function(te){return te})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Re.Activity=w,Re.Children=Qe,Re.Component=Y,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(x,te,ce){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var he=V({},x.props),Se=x.key;if(te!=null)for(Ne in te.key!==void 0&&(Se=""+te.key),te)!R.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(he[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=ce;else if(1<Ne){for(var ze=Array(Ne),jt=0;jt<Ne;jt++)ze[jt]=arguments[jt+2];he.children=ze}return D(x.type,Se,he)},Re.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Re.createElement=function(x,te,ce){var he,Se={},Ne=null;if(te!=null)for(he in te.key!==void 0&&(Ne=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=te[he]);var ze=arguments.length-2;if(ze===1)Se.children=ce;else if(1<ze){for(var jt=Array(ze),ut=0;ut<ze;ut++)jt[ut]=arguments[ut+2];Se.children=jt}if(x&&x.defaultProps)for(he in ze=x.defaultProps,ze)Se[he]===void 0&&(Se[he]=ze[he]);return D(x,Ne,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=k,Re.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:_e}},Re.memo=function(x,te){return{$$typeof:p,type:x,compare:te===void 0?null:te}},Re.startTransition=function(x){var te=I.T,ce={};I.T=ce;try{var he=x(),Se=I.S;Se!==null&&Se(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,Fe)}catch(Ne){Fe(Ne)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),I.T=te}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(x){return I.H.use(x)},Re.useActionState=function(x,te,ce){return I.H.useActionState(x,te,ce)},Re.useCallback=function(x,te){return I.H.useCallback(x,te)},Re.useContext=function(x){return I.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,te){return I.H.useDeferredValue(x,te)},Re.useEffect=function(x,te){return I.H.useEffect(x,te)},Re.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(x,te,ce){return I.H.useImperativeHandle(x,te,ce)},Re.useInsertionEffect=function(x,te){return I.H.useInsertionEffect(x,te)},Re.useLayoutEffect=function(x,te){return I.H.useLayoutEffect(x,te)},Re.useMemo=function(x,te){return I.H.useMemo(x,te)},Re.useOptimistic=function(x,te){return I.H.useOptimistic(x,te)},Re.useReducer=function(x,te,ce){return I.H.useReducer(x,te,ce)},Re.useRef=function(x){return I.H.useRef(x)},Re.useState=function(x){return I.H.useState(x)},Re.useSyncExternalStore=function(x,te,ce){return I.H.useSyncExternalStore(x,te,ce)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var b1;function zp(){return b1||(b1=1,Mg.exports=vR()),Mg.exports}var A=zp();const ER=kw(A),fx=pR({__proto__:null,default:ER},[A]);var Pg={exports:{}},Mc={},xg={exports:{}},Lg={};var A1;function wR(){return A1||(A1=1,(function(n){function e(W,le){var _e=W.length;W.push(le);e:for(;0<_e;){var Fe=_e-1>>>1,Qe=W[Fe];if(0<o(Qe,le))W[Fe]=le,W[_e]=Qe,_e=Fe;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],_e=W.pop();if(_e!==le){W[0]=_e;e:for(var Fe=0,Qe=W.length,x=Qe>>>1;Fe<x;){var te=2*(Fe+1)-1,ce=W[te],he=te+1,Se=W[he];if(0>o(ce,_e))he<Qe&&0>o(Se,ce)?(W[Fe]=Se,W[he]=_e,Fe=he):(W[Fe]=ce,W[te]=_e,Fe=te);else if(he<Qe&&0>o(Se,_e))W[Fe]=Se,W[he]=_e,Fe=he;else break e}}return le}function o(W,le){var _e=W.sortIndex-le.sortIndex;return _e!==0?_e:W.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var g=[],p=[],_=1,w=null,T=3,C=!1,j=!1,V=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=W)r(p),le.sortIndex=le.expirationTime,e(g,le);else break;le=t(p)}}function fe(W){if(V=!1,se(W),!j)if(t(g)!==null)j=!0,de||(de=!0,z());else{var le=t(p);le!==null&&zt(fe,le.startTime-W)}}var de=!1,I=-1,R=5,D=-1;function L(){return P?!0:!(n.unstable_now()-D<R)}function k(){if(P=!1,de){var W=n.unstable_now();D=W;var le=!0;try{e:{j=!1,V&&(V=!1,B(I),I=-1),C=!0;var _e=T;try{t:{for(se(W),w=t(g);w!==null&&!(w.expirationTime>W&&L());){var Fe=w.callback;if(typeof Fe=="function"){w.callback=null,T=w.priorityLevel;var Qe=Fe(w.expirationTime<=W);if(W=n.unstable_now(),typeof Qe=="function"){w.callback=Qe,se(W),le=!0;break t}w===t(g)&&r(g),se(W)}else r(g);w=t(g)}if(w!==null)le=!0;else{var x=t(p);x!==null&&zt(fe,x.startTime-W),le=!1}}break e}finally{w=null,T=_e,C=!1}le=void 0}}finally{le?z():de=!1}}}var z;if(typeof Q=="function")z=function(){Q(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ct=N.port2;N.port1.onmessage=k,z=function(){ct.postMessage(null)}}else z=function(){Y(k,0)};function zt(W,le){I=Y(function(){W(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var _e=T;T=le;try{return W()}finally{T=_e}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var _e=T;T=W;try{return le()}finally{T=_e}},n.unstable_scheduleCallback=function(W,le,_e){var Fe=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Fe+_e:Fe):_e=Fe,W){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=_e+Qe,W={id:_++,callback:le,priorityLevel:W,startTime:_e,expirationTime:Qe,sortIndex:-1},_e>Fe?(W.sortIndex=_e,e(p,W),t(g)===null&&W===t(p)&&(V?(B(I),I=-1):V=!0,zt(fe,_e-Fe))):(W.sortIndex=Qe,e(g,W),j||C||(j=!0,de||(de=!0,z()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var le=T;return function(){var _e=T;T=le;try{return W.apply(this,arguments)}finally{T=_e}}}})(Lg)),Lg}var R1;function TR(){return R1||(R1=1,xg.exports=wR()),xg.exports}var Vg={exports:{}},an={};var I1;function SR(){if(I1)return an;I1=1;var n=zp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,_)},an.flushSync=function(g){var p=u.T,_=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=p,r.p=_,r.d.f()}},an.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,w=m(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):_==="script"&&r.d.X(g,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},an.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,w=m(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,p){return g(p)},an.useFormState=function(g,p,_){return u.H.useFormState(g,p,_)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.3",an}var C1;function bR(){if(C1)return Vg.exports;C1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vg.exports=SR(),Vg.exports}var D1;function AR(){if(D1)return Mc;D1=1;var n=TR(),e=zp(),t=bR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,c=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),i;if(d===c)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,c=d;break}if(S===c){v=!0,c=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,c=f;break}if(S===c){v=!0,c=d,a=f;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case fe:return"Suspense";case de:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case Q:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:ct(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return ct(i(s))}catch{}}return null}var zt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Fe=[],Qe=-1;function x(i){return{current:i}}function te(i){0>Qe||(i.current=Fe[Qe],Fe[Qe]=null,Qe--)}function ce(i,s){Qe++,Fe[Qe]=i.current,i.current=s}var he=x(null),Se=x(null),Ne=x(null),ze=x(null);function jt(i,s){switch(ce(Ne,s),ce(Se,i),ce(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?qv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=qv(s),i=Gv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(he),ce(he,i)}function ut(){te(he),te(Se),te(Ne)}function ia(i){i.memoizedState!==null&&ce(ze,i);var s=he.current,a=Gv(s,i.type);s!==a&&(ce(Se,i),ce(he,a))}function eo(i){Se.current===i&&(te(he),te(Se)),ze.current===i&&(te(ze),Cc._currentValue=_e)}var to,no;function Oi(i){if(to===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);to=s&&s[1]||"",no=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+i+no}var Cl=!1;function ra(i,s){if(!i||Cl)return"";Cl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(K){G=K}i.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=c.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var O=v.split(`
`),q=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===q.length)for(c=O.length-1,f=q.length-1;1<=c&&0<=f&&O[c]!==q[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==q[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==q[f]){var X=`
`+O[c].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=c&&0<=f);break}}}finally{Cl=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Oi(a):""}function Dl(i,s){switch(i.tag){case 26:case 27:case 5:return Oi(i.type);case 16:return Oi("Lazy");case 13:return i.child!==s&&s!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return ra(i.type,!1);case 11:return ra(i.type.render,!1);case 1:return ra(i.type,!0);case 31:return Oi("Activity");default:return""}}function Nl(i){try{var s="",a=null;do s+=Dl(i,a),a=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ct=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,is=n.unstable_cancelCallback,Pd=n.unstable_shouldYield,Cu=n.unstable_requestPaint,gn=n.unstable_now,sa=n.unstable_getCurrentPriorityLevel,Ol=n.unstable_ImmediatePriority,kl=n.unstable_UserBlockingPriority,rs=n.unstable_NormalPriority,xd=n.unstable_LowPriority,Du=n.unstable_IdlePriority,Nu=n.log,Ou=n.unstable_setDisableYieldValue,fi=null,Zt=null;function Qn(i){if(typeof Nu=="function"&&Ou(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(fi,i)}catch{}}var Tt=Math.clz32?Math.clz32:Mu,ku=Math.log,io=Math.LN2;function Mu(i){return i>>>=0,i===0?32:31-(ku(i)/io|0)|0}var ki=256,aa=262144,Dt=4194304;function Mi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pi(i,s,a){var c=i.pendingLanes;if(c===0)return 0;var f=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~d,c!==0?f=Mi(c):(v&=S,v!==0?f=Mi(v):a||(a=S&~i,a!==0&&(f=Mi(a))))):(S=c&~d,S!==0?f=Mi(S):v!==0?f=Mi(v):a||(a=c&~i,a!==0&&(f=Mi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function di(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ld(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function xi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function oa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vd(i,s,a,c,f,d){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,O=i.expirationTimes,q=i.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Tt(a),ee=1<<X;S[X]=0,O[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~ee}c!==0&&la(i,c,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~s))}function la(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Tt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|a&261930}function Ml(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var c=31-Tt(a),f=1<<c;f&s|i[c]&s&&(i[c]|=s),a&=~f}}function Pl(i,s){var a=s&-s;return a=(a&42)!==0?1:ca(a),(a&(i.suspendedLanes|s))!==0?0:a}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xu(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:m1(i.type))}function mi(i,s){var a=le.p;try{return le.p=i,s()}finally{le.p=a}}var gi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+gi,Gt="__reactProps$"+gi,Li="__reactContainer$"+gi,ro="__reactEvents$"+gi,Ud="__reactListeners$"+gi,Lu="__reactHandles$"+gi,Vu="__reactResources$"+gi,Vi="__reactMarker$"+gi;function so(i){delete i[Nt],delete i[Gt],delete i[ro],delete i[Ud],delete i[Lu]}function Ui(i){var s=i[Nt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Li]||a[Nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Zv(i);i!==null;){if(a=i[Nt])return a;i=Zv(i)}return s}i=a,a=i.parentNode}return null}function Xn(i){if(i=i[Nt]||i[Li]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Mn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Bi(i){var s=i[Vu];return s||(s=i[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(i){i[Vi]=!0}var xl=new Set,Ll={};function zi(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(Ll[i]=s,i=0;i<s.length;i++)xl.add(s[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Bl={};function Uu(i){return Ct.call(Bl,i)?!0:Ct.call(Ul,i)?!1:Vl.test(i)?Bl[i]=!0:(Ul[i]=!0,!1)}function ao(i,s,a){if(Uu(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Pn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function kt(i,s,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+c)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ss(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zl(i,s,a){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,d=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=ss(i)?"checked":"value";i._valueTracker=zl(i,s,""+i[s])}}function ua(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return i&&(c=ss(i)?i.checked?"true":"false":i.value),i=c,i!==a?(s.setValue(i),!0):!1}function Fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ha=/[\n"\\]/g;function Sn(i){return i.replace(ha,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function oo(i,s,a,c,f,d,v,S){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+$t(s)):i.value!==""+$t(s)&&(i.value=""+$t(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?jl(i,v,$t(s)):a!=null?jl(i,v,$t(a)):c!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+$t(S):i.removeAttribute("name")}function Bu(i,s,a,c,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xe(i);return}a=a!=null?""+$t(a):"",s=s!=null?""+$t(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Xe(i)}function jl(i,s,a){s==="number"&&Fi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function as(i,s,a,c){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&c&&(i[a].defaultSelected=!0)}else{for(a=""+$t(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function zu(i,s,a){if(s!=null&&(s=""+$t(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+$t(a):""}function os(i,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(zt(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=$t(s),i.defaultValue=a,c=i.textContent,c===a&&c!==""&&c!==null&&(i.value=c),Xe(i)}function bn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,a):typeof a!="number"||a===0||ju.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Hl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&Fl(i,f,c)}else for(var d in s)s.hasOwnProperty(d)&&Fl(i,d,s[d])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(i){return ls.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function pi(){}var ql=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,Hi=null;function fa(i){var s=Xn(i);if(s&&(i=s.stateNode)){var a=i[Gt]||null;e:switch(i=s.stateNode,s.type){case"input":if(oo(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==i&&c.form===i.form){var f=c[Gt]||null;if(!f)throw Error(r(90));oo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===i.form&&ua(c)}break e;case"textarea":zu(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&as(i,!!a.multiple,s,!1)}}}var uo=!1;function us(i,s,a){if(uo)return i(s,a);uo=!0;try{var c=i(s);return c}finally{if(uo=!1,(cs!==null||Hi!==null)&&(xh(),cs&&(s=cs,i=Hi,Hi=cs=null,fa(s),i)))for(s=0;s<i.length;s++)fa(i[s])}}function yi(i,s){var a=i.stateNode;if(a===null)return null;var c=a[Gt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Zn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){da=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{da=!1}var qi=null,Gl=null,ma=null;function $l(){if(ma)return ma;var i,s=Gl,a=s.length,c,f="value"in qi?qi.value:qi.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(c=1;c<=v&&s[a-c]===f[d-c];c++);return ma=f.slice(i,1<c?1-c:void 0)}function ga(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function dr(){return!0}function _i(){return!1}function Jt(i){function s(a,c,f,d,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:_i,this.isPropagationStopped=_i,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Jt(mr),hs=w({},mr,{view:0,detail:0}),Kl=Jt(hs),fs,ho,$i,fo=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(fs=i.screenX-$i.screenX,ho=i.screenY-$i.screenY):ho=fs=0,$i=i),fs)},movementY:function(i){return"movementY"in i?i.movementY:ho}}),Yl=Jt(fo),pa=w({},fo,{dataTransfer:0}),Hu=Jt(pa),qu=w({},hs,{relatedTarget:0}),ya=Jt(qu),Ql=w({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Jt(Ql),mo=w({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$u=Jt(mo),Ku=w({},mr,{data:0}),Ki=Jt(Ku),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xu[i])?!!s[i]:!1}function ds(){return Wu}var pn=w({},hs,{key:function(i){if(i.key){var s=Yu[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zu=Jt(pn),Ju=w({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=Jt(Ju),h=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),y=Jt(h),E=w({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Jt(E),F=w({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Jt(F),ae=w({},mr,{newState:0,oldState:0}),Ce=Jt(ae),St=[9,13,27,32],Ge=Zn&&"CompositionEvent"in window,ht=null;Zn&&"documentMode"in document&&(ht=document.documentMode);var Jn=Zn&&"TextEvent"in window&&!ht,Yi=Zn&&(!Ge||ht&&8<ht&&11>=ht),vi=" ",Ei=!1;function _a(i,s){switch(i){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function zA(i,s){switch(i){case"compositionend":return go(s);case"keypress":return s.which!==32?null:(Ei=!0,vi);case"textInput":return i=s.data,i===vi&&Ei?null:i;default:return null}}function jA(i,s){if(po)return i==="compositionend"||!Ge&&_a(i,s)?(i=$l(),ma=Gl=qi=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!FA[i.type]:s==="textarea"}function n_(i,s,a,c){cs?Hi?Hi.push(c):Hi=[c]:cs=c,s=Fh(s,"onChange"),0<s.length&&(a=new Gi("onChange","change",null,a,c),i.push({event:a,listeners:s}))}var Xl=null,Wl=null;function HA(i){Uv(i,0)}function eh(i){var s=Mn(i);if(ua(s))return i}function i_(i,s){if(i==="change")return s}var r_=!1;if(Zn){var Bd;if(Zn){var zd="oninput"in document;if(!zd){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),zd=typeof s_.oninput=="function"}Bd=zd}else Bd=!1;r_=Bd&&(!document.documentMode||9<document.documentMode)}function a_(){Xl&&(Xl.detachEvent("onpropertychange",o_),Wl=Xl=null)}function o_(i){if(i.propertyName==="value"&&eh(Wl)){var s=[];n_(s,Wl,i,Wn(i)),us(HA,s)}}function qA(i,s,a){i==="focusin"?(a_(),Xl=s,Wl=a,Xl.attachEvent("onpropertychange",o_)):i==="focusout"&&a_()}function GA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eh(Wl)}function $A(i,s){if(i==="click")return eh(s)}function KA(i,s){if(i==="input"||i==="change")return eh(s)}function YA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var xn=typeof Object.is=="function"?Object.is:YA;function Zl(i,s){if(xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Ct.call(s,f)||!xn(i[f],s[f]))return!1}return!0}function l_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c_(i,s){var a=l_(i);i=0;for(var c;a;){if(a.nodeType===3){if(c=i+a.textContent.length,i<=s&&c>=s)return{node:a,offset:s-i};i=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=l_(a)}}function u_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?u_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function h_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Fi(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Fi(i.document)}return s}function jd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var QA=Zn&&"documentMode"in document&&11>=document.documentMode,yo=null,Fd=null,Jl=null,Hd=!1;function f_(i,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hd||yo==null||yo!==Fi(c)||(c=yo,"selectionStart"in c&&jd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Jl&&Zl(Jl,c)||(Jl=c,c=Fh(Fd,"onSelect"),0<c.length&&(s=new Gi("onSelect","select",null,s,a),i.push({event:s,listeners:c}),s.target=yo)))}function va(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var _o={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},qd={},d_={};Zn&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Ea(i){if(qd[i])return qd[i];if(!_o[i])return i;var s=_o[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in d_)return qd[i]=s[a];return i}var m_=Ea("animationend"),g_=Ea("animationiteration"),p_=Ea("animationstart"),XA=Ea("transitionrun"),WA=Ea("transitionstart"),ZA=Ea("transitioncancel"),y_=Ea("transitionend"),__=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function wi(i,s){__.set(i,s),zi(s,[i])}var th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ei=[],vo=0,$d=0;function nh(){for(var i=vo,s=$d=vo=0;s<i;){var a=ei[s];ei[s++]=null;var c=ei[s];ei[s++]=null;var f=ei[s];ei[s++]=null;var d=ei[s];if(ei[s++]=null,c!==null&&f!==null){var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}d!==0&&v_(a,f,d)}}function ih(i,s,a,c){ei[vo++]=i,ei[vo++]=s,ei[vo++]=a,ei[vo++]=c,$d|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Kd(i,s,a,c){return ih(i,s,a,c),rh(i)}function wa(i,s){return ih(i,null,null,s),rh(i)}function v_(i,s,a){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,c=d.alternate,c!==null&&(c.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-Tt(a),i=d.hiddenUpdates,c=i[f],c===null?i[f]=[s]:c.push(s),s.lane=a|536870912),d):null}function rh(i){if(50<wc)throw wc=0,ng=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Eo={};function JA(i,s,a,c){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,s,a,c){return new JA(i,s,a,c)}function Yd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pr(i,s){var a=i.alternate;return a===null?(a=Ln(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function E_(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function sh(i,s,a,c,f,d){var v=0;if(c=i,typeof i=="function")Yd(i)&&(v=1);else if(typeof i=="string")v=rR(i,a,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Ln(31,a,s,f),i.elementType=D,i.lanes=d,i;case V:return Ta(a.children,f,d,s);case P:v=8,f|=24;break;case Y:return i=Ln(12,a,s,f|2),i.elementType=Y,i.lanes=d,i;case fe:return i=Ln(13,a,s,f),i.elementType=fe,i.lanes=d,i;case de:return i=Ln(19,a,s,f),i.elementType=de,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:v=10;break e;case B:v=9;break e;case se:v=11;break e;case I:v=14;break e;case R:v=16,c=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Ln(v,a,s,f),s.elementType=i,s.type=c,s.lanes=d,s}function Ta(i,s,a,c){return i=Ln(7,i,c,s),i.lanes=a,i}function Qd(i,s,a){return i=Ln(6,i,null,s),i.lanes=a,i}function w_(i){var s=Ln(18,null,null,0);return s.stateNode=i,s}function Xd(i,s,a){return s=Ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var T_=new WeakMap;function ti(i,s){if(typeof i=="object"&&i!==null){var a=T_.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Nl(s)},T_.set(i,s),s)}return{value:i,source:s,stack:Nl(s)}}var wo=[],To=0,ah=null,ec=0,ni=[],ii=0,ms=null,Qi=1,Xi="";function yr(i,s){wo[To++]=ec,wo[To++]=ah,ah=i,ec=s}function S_(i,s,a){ni[ii++]=Qi,ni[ii++]=Xi,ni[ii++]=ms,ms=i;var c=Qi;i=Xi;var f=32-Tt(c)-1;c&=~(1<<f),a+=1;var d=32-Tt(s)+f;if(30<d){var v=f-f%5;d=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Qi=1<<32-Tt(s)+f|a<<f|c,Xi=d+i}else Qi=1<<d|a<<f|c,Xi=i}function Wd(i){i.return!==null&&(yr(i,1),S_(i,1,0))}function Zd(i){for(;i===ah;)ah=wo[--To],wo[To]=null,ec=wo[--To],wo[To]=null;for(;i===ms;)ms=ni[--ii],ni[ii]=null,Xi=ni[--ii],ni[ii]=null,Qi=ni[--ii],ni[ii]=null}function b_(i,s){ni[ii++]=Qi,ni[ii++]=Xi,ni[ii++]=ms,Qi=s.id,Xi=s.overflow,ms=i}var en=null,at=null,Be=!1,gs=null,ri=!1,Jd=Error(r(519));function ps(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tc(ti(s,i)),Jd}function A_(i){var s=i.stateNode,a=i.type,c=i.memoizedProps;switch(s[Nt]=i,s[Gt]=c,a){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(a=0;a<Sc.length;a++)Me(Sc[a],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Bu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),os(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Fv(s.textContent,a)?(c.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),c.onScroll!=null&&Me("scroll",s),c.onScrollEnd!=null&&Me("scrollend",s),c.onClick!=null&&(s.onclick=pi),s=!0):s=!1,s||ps(i,!0)}function R_(i){for(en=i.return;en;)switch(en.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:en=en.return}}function So(i){if(i!==en)return!1;if(!Be)return R_(i),Be=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||yg(i.type,i.memoizedProps)),a=!a),a&&at&&ps(i),R_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=Wv(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=Wv(i)}else s===27?(s=at,Ns(i.type)?(i=Tg,Tg=null,at=i):at=s):at=en?ai(i.stateNode.nextSibling):null;return!0}function Sa(){at=en=null,Be=!1}function em(){var i=gs;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),gs=null),i}function tc(i){gs===null?gs=[i]:gs.push(i)}var tm=x(null),ba=null,_r=null;function ys(i,s,a){ce(tm,s._currentValue),s._currentValue=a}function vr(i){i._currentValue=tm.current,te(tm)}function nm(i,s,a){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===a)break;i=i.return}}function im(i,s,a,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var O=0;O<s.length;O++)if(S.context===s[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),nm(d.return,a,i),c||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),nm(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function bo(i,s,a,c){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=f.type;xn(f.pendingProps.value,v.value)||(i!==null?i.push(S):i=[S])}}else if(f===ze.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Cc):i=[Cc])}f=f.return}i!==null&&im(s,i,a,c),s.flags|=262144}function oh(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){ba=i,_r=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return I_(ba,i)}function lh(i,s){return ba===null&&Aa(i),I_(i,s)}function I_(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},_r===null){if(i===null)throw Error(r(308));_r=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _r=_r.next=s;return a}var e2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},t2=n.unstable_scheduleCallback,n2=n.unstable_NormalPriority,Mt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new e2,data:new Map,refCount:0}}function nc(i){i.refCount--,i.refCount===0&&t2(n2,function(){i.controller.abort()})}var ic=null,sm=0,Ao=0,Ro=null;function i2(i,s){if(ic===null){var a=ic=[];sm=0,Ao=lg(),Ro={status:"pending",value:void 0,then:function(c){a.push(c)}}}return sm++,s.then(C_,C_),s}function C_(){if(--sm===0&&ic!==null){Ro!==null&&(Ro.status="fulfilled");var i=ic;ic=null,Ao=0,Ro=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function r2(i,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var D_=W.S;W.S=function(i,s){fv=gn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&i2(i,s),D_!==null&&D_(i,s)};var Ra=x(null);function am(){var i=Ra.current;return i!==null?i:it.pooledCache}function ch(i,s){s===null?ce(Ra,Ra.current):ce(Ra,s.pool)}function N_(){var i=am();return i===null?null:{parent:Mt._currentValue,pool:i}}var Io=Error(r(460)),om=Error(r(474)),uh=Error(r(542)),hh={then:function(){}};function O_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function k_(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(pi,pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,P_(i),i;default:if(typeof s.status=="string")s.then(pi,pi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,P_(i),i}throw Ca=s,Io}}function Ia(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ca=a,Io):a}}var Ca=null;function M_(){if(Ca===null)throw Error(r(459));var i=Ca;return Ca=null,i}function P_(i){if(i===Io||i===uh)throw Error(r(483))}var Co=null,rc=0;function fh(i){var s=rc;return rc+=1,Co===null&&(Co=[]),k_(Co,i,s)}function sc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function dh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function x_(i){function s(U,M){if(i){var H=U.deletions;H===null?(U.deletions=[M],U.flags|=16):H.push(M)}}function a(U,M){if(!i)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function c(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=pr(U,M),U.index=0,U.sibling=null,U}function d(U,M,H){return U.index=H,i?(H=U.alternate,H!==null?(H=H.index,H<M?(U.flags|=67108866,M):H):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,H,J){return M===null||M.tag!==6?(M=Qd(H,U.mode,J),M.return=U,M):(M=f(M,H),M.return=U,M)}function O(U,M,H,J){var ye=H.type;return ye===V?X(U,M,H.props.children,J,H.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ia(ye)===M.type)?(M=f(M,H.props),sc(M,H),M.return=U,M):(M=sh(H.type,H.key,H.props,null,U.mode,J),sc(M,H),M.return=U,M)}function q(U,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Xd(H,U.mode,J),M.return=U,M):(M=f(M,H.children||[]),M.return=U,M)}function X(U,M,H,J,ye){return M===null||M.tag!==7?(M=Ta(H,U.mode,J,ye),M.return=U,M):(M=f(M,H),M.return=U,M)}function ee(U,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qd(""+M,U.mode,H),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return H=sh(M.type,M.key,M.props,null,U.mode,H),sc(H,M),H.return=U,H;case j:return M=Xd(M,U.mode,H),M.return=U,M;case R:return M=Ia(M),ee(U,M,H)}if(zt(M)||z(M))return M=Ta(M,U.mode,H,null),M.return=U,M;if(typeof M.then=="function")return ee(U,fh(M),H);if(M.$$typeof===Q)return ee(U,lh(U,M),H);dh(U,M)}return null}function G(U,M,H,J){var ye=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:S(U,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===ye?O(U,M,H,J):null;case j:return H.key===ye?q(U,M,H,J):null;case R:return H=Ia(H),G(U,M,H,J)}if(zt(H)||z(H))return ye!==null?null:X(U,M,H,J,null);if(typeof H.then=="function")return G(U,M,fh(H),J);if(H.$$typeof===Q)return G(U,M,lh(U,H),J);dh(U,H)}return null}function K(U,M,H,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,S(M,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return U=U.get(J.key===null?H:J.key)||null,O(M,U,J,ye);case j:return U=U.get(J.key===null?H:J.key)||null,q(M,U,J,ye);case R:return J=Ia(J),K(U,M,H,J,ye)}if(zt(J)||z(J))return U=U.get(H)||null,X(M,U,J,ye,null);if(typeof J.then=="function")return K(U,M,H,fh(J),ye);if(J.$$typeof===Q)return K(U,M,H,lh(M,J),ye);dh(M,J)}return null}function me(U,M,H,J){for(var ye=null,He=null,ge=M,Oe=M=0,xe=null;ge!==null&&Oe<H.length;Oe++){ge.index>Oe?(xe=ge,ge=null):xe=ge.sibling;var qe=G(U,ge,H[Oe],J);if(qe===null){ge===null&&(ge=xe);break}i&&ge&&qe.alternate===null&&s(U,ge),M=d(qe,M,Oe),He===null?ye=qe:He.sibling=qe,He=qe,ge=xe}if(Oe===H.length)return a(U,ge),Be&&yr(U,Oe),ye;if(ge===null){for(;Oe<H.length;Oe++)ge=ee(U,H[Oe],J),ge!==null&&(M=d(ge,M,Oe),He===null?ye=ge:He.sibling=ge,He=ge);return Be&&yr(U,Oe),ye}for(ge=c(ge);Oe<H.length;Oe++)xe=K(ge,U,Oe,H[Oe],J),xe!==null&&(i&&xe.alternate!==null&&ge.delete(xe.key===null?Oe:xe.key),M=d(xe,M,Oe),He===null?ye=xe:He.sibling=xe,He=xe);return i&&ge.forEach(function(xs){return s(U,xs)}),Be&&yr(U,Oe),ye}function Ee(U,M,H,J){if(H==null)throw Error(r(151));for(var ye=null,He=null,ge=M,Oe=M=0,xe=null,qe=H.next();ge!==null&&!qe.done;Oe++,qe=H.next()){ge.index>Oe?(xe=ge,ge=null):xe=ge.sibling;var xs=G(U,ge,qe.value,J);if(xs===null){ge===null&&(ge=xe);break}i&&ge&&xs.alternate===null&&s(U,ge),M=d(xs,M,Oe),He===null?ye=xs:He.sibling=xs,He=xs,ge=xe}if(qe.done)return a(U,ge),Be&&yr(U,Oe),ye;if(ge===null){for(;!qe.done;Oe++,qe=H.next())qe=ee(U,qe.value,J),qe!==null&&(M=d(qe,M,Oe),He===null?ye=qe:He.sibling=qe,He=qe);return Be&&yr(U,Oe),ye}for(ge=c(ge);!qe.done;Oe++,qe=H.next())qe=K(ge,U,Oe,qe.value,J),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?Oe:qe.key),M=d(qe,M,Oe),He===null?ye=qe:He.sibling=qe,He=qe);return i&&ge.forEach(function(gR){return s(U,gR)}),Be&&yr(U,Oe),ye}function nt(U,M,H,J){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:e:{for(var ye=H.key;M!==null;){if(M.key===ye){if(ye=H.type,ye===V){if(M.tag===7){a(U,M.sibling),J=f(M,H.props.children),J.return=U,U=J;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ia(ye)===M.type){a(U,M.sibling),J=f(M,H.props),sc(J,H),J.return=U,U=J;break e}a(U,M);break}else s(U,M);M=M.sibling}H.type===V?(J=Ta(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=sh(H.type,H.key,H.props,null,U.mode,J),sc(J,H),J.return=U,U=J)}return v(U);case j:e:{for(ye=H.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(U,M.sibling),J=f(M,H.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else s(U,M);M=M.sibling}J=Xd(H,U.mode,J),J.return=U,U=J}return v(U);case R:return H=Ia(H),nt(U,M,H,J)}if(zt(H))return me(U,M,H,J);if(z(H)){if(ye=z(H),typeof ye!="function")throw Error(r(150));return H=ye.call(H),Ee(U,M,H,J)}if(typeof H.then=="function")return nt(U,M,fh(H),J);if(H.$$typeof===Q)return nt(U,M,lh(U,H),J);dh(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,H),J.return=U,U=J):(a(U,M),J=Qd(H,U.mode,J),J.return=U,U=J),v(U)):a(U,M)}return function(U,M,H,J){try{rc=0;var ye=nt(U,M,H,J);return Co=null,ye}catch(ge){if(ge===Io||ge===uh)throw ge;var He=Ln(29,ge,null,U.mode);return He.lanes=J,He.return=U,He}}}var Da=x_(!0),L_=x_(!1),_s=!1;function lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,a){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=rh(i),v_(i,null,a),s}return ih(i,c,s,a),rh(i)}function ac(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,Ml(i,a)}}function um(i,s){var a=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:c.shared,callbacks:c.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var hm=!1;function oc(){if(hm){var i=Ro;if(i!==null)throw i}}function lc(i,s,a,c){hm=!1;var f=i.updateQueue;_s=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,q=O.next;O.next=null,v===null?d=q:v.next=q,v=O;var X=i.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=q:S.next=q,X.lastBaseUpdate=O))}if(d!==null){var ee=f.baseState;v=0,X=q=O=null,S=d;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Pe&G)===G:(c&G)===G){G!==0&&G===Ao&&(hm=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,Ee=S;G=s;var nt=a;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){ee=me.call(nt,ee,G);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,G=typeof me=="function"?me.call(nt,ee,G):me,G==null)break e;ee=w({},ee,G);break e;case 2:_s=!0}}G=S.callback,G!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(q=X=K,O=ee):X=X.next=K,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),As|=v,i.lanes=v,i.memoizedState=ee}}function V_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function U_(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)V_(a[i],s)}var Do=x(null),mh=x(0);function B_(i,s){i=Cr,ce(mh,i),ce(Do,s),Cr=i|s.baseLanes}function fm(){ce(mh,Cr),ce(Do,Do.current)}function dm(){Cr=mh.current,te(Do),te(mh)}var Vn=x(null),si=null;function ws(i){var s=i.alternate;ce(bt,bt.current&1),ce(Vn,i),si===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&(si=i)}function mm(i){ce(bt,bt.current),ce(Vn,i),si===null&&(si=i)}function z_(i){i.tag===22?(ce(bt,bt.current),ce(Vn,i),si===null&&(si=i)):Ts()}function Ts(){ce(bt,bt.current),ce(Vn,Vn.current)}function Un(i){te(Vn),si===i&&(si=null),te(bt)}var bt=x(0);function gh(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eg(a)||wg(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Er=0,De=null,et=null,Pt=null,ph=!1,No=!1,Na=!1,yh=0,cc=0,Oo=null,s2=0;function _t(){throw Error(r(321))}function gm(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!xn(i[a],s[a]))return!1;return!0}function pm(i,s,a,c,f,d){return Er=d,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?S0:Om,Na=!1,d=a(c,f),Na=!1,No&&(d=F_(s,a,c,f)),j_(i),d}function j_(i){W.H=fc;var s=et!==null&&et.next!==null;if(Er=0,Pt=et=De=null,ph=!1,cc=0,Oo=null,s)throw Error(r(300));i===null||xt||(i=i.dependencies,i!==null&&oh(i)&&(xt=!0))}function F_(i,s,a,c){De=i;var f=0;do{if(No&&(Oo=null),cc=0,No=!1,25<=f)throw Error(r(301));if(f+=1,Pt=et=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=b0,d=s(a,c)}while(No);return d}function a2(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?uc(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function ym(){var i=yh!==0;return yh=0,i}function _m(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function vm(i){if(ph){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ph=!1}Er=0,Pt=et=De=null,No=!1,cc=yh=0,Oo=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function At(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Pt===null?De.memoizedState:Pt.next;if(s!==null)Pt=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(i){var s=cc;return cc+=1,Oo===null&&(Oo=[]),i=k_(Oo,i,s),s=De,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?S0:Om),i}function vh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return uc(i);if(i.$$typeof===Q)return tn(i)}throw Error(r(438,String(i)))}function Em(i){var s=null,a=De.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=_h(),De.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),c=0;c<i;c++)a[c]=L;return s.index++,a}function wr(i,s){return typeof s=="function"?s(i):s}function Eh(i){var s=At();return wm(s,et,i)}function wm(i,s,a){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=i.baseQueue,d=c.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,c.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=v=null,O=null,q=s,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Pe&ee)===ee:(Er&ee)===ee){var G=q.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ao&&(X=!0);else if((Er&G)===G){q=q.next,G===Ao&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=ee,v=d):O=O.next=ee,De.lanes|=G,As|=G;ee=q.action,Na&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else G={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=G,v=d):O=O.next=G,De.lanes|=ee,As|=ee;q=q.next}while(q!==null&&q!==s);if(O===null?v=d:O.next=S,!xn(d,i.memoizedState)&&(xt=!0,X&&(a=Ro,a!==null)))throw a;i.memoizedState=d,i.baseState=v,i.baseQueue=O,c.lastRenderedState=d}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Tm(i){var s=At(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var c=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=i(d,v.action),v=v.next;while(v!==f);xn(d,s.memoizedState)||(xt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,c]}function H_(i,s,a){var c=De,f=At(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!xn((et||f).memoizedState,a);if(v&&(f.memoizedState=a,xt=!0),f=f.queue,Am($_.bind(null,c,f,i),[i]),f.getSnapshot!==s||v||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},G_.bind(null,c,f,a,s),null),it===null)throw Error(r(349));d||(Er&127)!==0||q_(c,s,a)}return a}function q_(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=De.updateQueue,s===null?(s=_h(),De.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function G_(i,s,a,c){s.value=a,s.getSnapshot=c,K_(s)&&Y_(i)}function $_(i,s,a){return a(function(){K_(s)&&Y_(i)})}function K_(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!xn(i,a)}catch{return!0}}function Y_(i){var s=wa(i,2);s!==null&&Dn(s,i,2)}function Sm(i){var s=yn();if(typeof i=="function"){var a=i;if(i=a(),Na){Qn(!0);try{a()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:i},s}function Q_(i,s,a,c){return i.baseState=a,wm(i,et,typeof c=="function"?c:wr)}function o2(i,s,a,c,f){if(Sh(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,c(d),a=s.pending,a===null?(d.next=s.pending=d,X_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function X_(i,s){var a=s.action,c=s.payload,f=i.state;if(s.isTransition){var d=W.T,v={};W.T=v;try{var S=a(f,c),O=W.S;O!==null&&O(v,S),W_(i,s,S)}catch(q){bm(i,s,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),W.T=d}}else try{d=a(f,c),W_(i,s,d)}catch(q){bm(i,s,q)}}function W_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Z_(i,s,c)},function(c){return bm(i,s,c)}):Z_(i,s,a)}function Z_(i,s,a){s.status="fulfilled",s.value=a,J_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,X_(i,a)))}function bm(i,s,a){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,J_(s),s=s.next;while(s!==c)}i.action=null}function J_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function e0(i,s){return s}function t0(i,s){if(Be){var a=it.formState;if(a!==null){e:{var c=De;if(Be){if(at){t:{for(var f=at,d=ri;f.nodeType!==8;){if(!d){f=null;break t}if(f=ai(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=ai(f.nextSibling),c=f.data==="F!";break e}}ps(c)}c=!1}c&&(s=a[0])}}return a=yn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:s},a.queue=c,a=E0.bind(null,De,c),c.dispatch=a,c=Sm(!1),d=Nm.bind(null,De,!1,c.queue),c=yn(),f={state:s,dispatch:null,action:i,pending:null},c.queue=f,a=o2.bind(null,De,f,d,a),f.dispatch=a,c.memoizedState=i,[s,a,!1]}function n0(i){var s=At();return i0(s,et,i)}function i0(i,s,a){if(s=wm(i,s,e0)[0],i=Eh(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=uc(s)}catch(v){throw v===Io?uh:v}else c=s;s=At();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(De.flags|=2048,ko(9,{destroy:void 0},l2.bind(null,f,a),null)),[c,d,i]}function l2(i,s){i.action=s}function r0(i){var s=At(),a=et;if(a!==null)return i0(s,a,i);At(),s=s.memoizedState,a=At();var c=a.queue.dispatch;return a.memoizedState=i,[s,c,!1]}function ko(i,s,a,c){return i={tag:i,create:a,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=_h(),De.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(c=a.next,a.next=i,i.next=c,s.lastEffect=i),i}function s0(){return At().memoizedState}function wh(i,s,a,c){var f=yn();De.flags|=i,f.memoizedState=ko(1|s,{destroy:void 0},a,c===void 0?null:c)}function Th(i,s,a,c){var f=At();c=c===void 0?null:c;var d=f.memoizedState.inst;et!==null&&c!==null&&gm(c,et.memoizedState.deps)?f.memoizedState=ko(s,d,a,c):(De.flags|=i,f.memoizedState=ko(1|s,d,a,c))}function a0(i,s){wh(8390656,8,i,s)}function Am(i,s){Th(2048,8,i,s)}function c2(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=_h(),De.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function o0(i){var s=At().memoizedState;return c2({ref:s,nextImpl:i}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function l0(i,s){return Th(4,2,i,s)}function c0(i,s){return Th(4,4,i,s)}function u0(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function h0(i,s,a){a=a!=null?a.concat([i]):null,Th(4,4,u0.bind(null,s,i),a)}function Rm(){}function f0(i,s){var a=At();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&gm(s,c[1])?c[0]:(a.memoizedState=[i,s],i)}function d0(i,s){var a=At();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&gm(s,c[1]))return c[0];if(c=i(),Na){Qn(!0);try{i()}finally{Qn(!1)}}return a.memoizedState=[c,s],c}function Im(i,s,a){return a===void 0||(Er&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=mv(),De.lanes|=i,As|=i,a)}function m0(i,s,a,c){return xn(a,s)?a:Do.current!==null?(i=Im(i,a,c),xn(i,s)||(xt=!0),i):(Er&42)===0||(Er&1073741824)!==0&&(Pe&261930)===0?(xt=!0,i.memoizedState=a):(i=mv(),De.lanes|=i,As|=i,s)}function g0(i,s,a,c,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=W.T,S={};W.T=S,Nm(i,!1,s,a);try{var O=f(),q=W.S;if(q!==null&&q(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=r2(O,c);hc(i,s,X,jn(i))}else hc(i,s,c,jn(i))}catch(ee){hc(i,s,{then:function(){},status:"rejected",reason:ee},jn())}finally{le.p=d,v!==null&&S.types!==null&&(v.types=S.types),W.T=v}}function u2(){}function Cm(i,s,a,c){if(i.tag!==5)throw Error(r(476));var f=p0(i).queue;g0(i,f,s,_e,a===null?u2:function(){return y0(i),a(c)})}function p0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:_e},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function y0(i){var s=p0(i);s.next===null&&(s=i.alternate.memoizedState),hc(i,s.next.queue,{},jn())}function Dm(){return tn(Cc)}function _0(){return At().memoizedState}function v0(){return At().memoizedState}function h2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();i=vs(a);var c=Es(s,i,a);c!==null&&(Dn(c,s,a),ac(c,s,a)),s={cache:rm()},i.payload=s;return}s=s.return}}function f2(i,s,a){var c=jn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sh(i)?w0(s,a):(a=Kd(i,s,a,c),a!==null&&(Dn(a,i,c),T0(a,s,c)))}function E0(i,s,a){var c=jn();hc(i,s,a,c)}function hc(i,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sh(i))w0(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,xn(S,v))return ih(i,s,f,0),it===null&&nh(),!1}catch{}if(a=Kd(i,s,f,c),a!==null)return Dn(a,i,c),T0(a,s,c),!0}return!1}function Nm(i,s,a,c){if(c={lane:2,revertLane:lg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sh(i)){if(s)throw Error(r(479))}else s=Kd(i,a,c,2),s!==null&&Dn(s,i,2)}function Sh(i){var s=i.alternate;return i===De||s!==null&&s===De}function w0(i,s){No=ph=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function T0(i,s,a){if((a&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,Ml(i,a)}}var fc={readContext:tn,use:vh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};fc.useEffectEvent=_t;var S0={readContext:tn,use:vh,useCallback:function(i,s){return yn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:a0,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,wh(4194308,4,u0.bind(null,s,i),a)},useLayoutEffect:function(i,s){return wh(4194308,4,i,s)},useInsertionEffect:function(i,s){wh(4,2,i,s)},useMemo:function(i,s){var a=yn();s=s===void 0?null:s;var c=i();if(Na){Qn(!0);try{i()}finally{Qn(!1)}}return a.memoizedState=[c,s],c},useReducer:function(i,s,a){var c=yn();if(a!==void 0){var f=a(s);if(Na){Qn(!0);try{a(s)}finally{Qn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=f2.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var s=yn();return i={current:i},s.memoizedState=i},useState:function(i){i=Sm(i);var s=i.queue,a=E0.bind(null,De,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Rm,useDeferredValue:function(i,s){var a=yn();return Im(a,i,s)},useTransition:function(){var i=Sm(!1);return i=g0.bind(null,De,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var c=De,f=yn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),it===null)throw Error(r(349));(Pe&127)!==0||q_(c,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,a0($_.bind(null,c,d,i),[i]),c.flags|=2048,ko(9,{destroy:void 0},G_.bind(null,c,d,a,s),null),a},useId:function(){var i=yn(),s=it.identifierPrefix;if(Be){var a=Xi,c=Qi;a=(c&~(1<<32-Tt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=yh++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=s2++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Dm,useFormState:t0,useActionState:t0,useOptimistic:function(i){var s=yn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nm.bind(null,De,!0,a),a.dispatch=s,[i,s]},useMemoCache:Em,useCacheRefresh:function(){return yn().memoizedState=h2.bind(null,De)},useEffectEvent:function(i){var s=yn(),a={impl:i};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Om={readContext:tn,use:vh,useCallback:f0,useContext:tn,useEffect:Am,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:d0,useReducer:Eh,useRef:s0,useState:function(){return Eh(wr)},useDebugValue:Rm,useDeferredValue:function(i,s){var a=At();return m0(a,et.memoizedState,i,s)},useTransition:function(){var i=Eh(wr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:uc(i),s]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:Dm,useFormState:n0,useActionState:n0,useOptimistic:function(i,s){var a=At();return Q_(a,et,i,s)},useMemoCache:Em,useCacheRefresh:v0};Om.useEffectEvent=o0;var b0={readContext:tn,use:vh,useCallback:f0,useContext:tn,useEffect:Am,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:d0,useReducer:Tm,useRef:s0,useState:function(){return Tm(wr)},useDebugValue:Rm,useDeferredValue:function(i,s){var a=At();return et===null?Im(a,i,s):m0(a,et.memoizedState,i,s)},useTransition:function(){var i=Tm(wr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:uc(i),s]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:Dm,useFormState:r0,useActionState:r0,useOptimistic:function(i,s){var a=At();return et!==null?Q_(a,et,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Em,useCacheRefresh:v0};b0.useEffectEvent=o0;function km(i,s,a,c){s=i.memoizedState,a=a(c,s),a=a==null?s:w({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Mm={enqueueSetState:function(i,s,a){i=i._reactInternals;var c=jn(),f=vs(c);f.payload=s,a!=null&&(f.callback=a),s=Es(i,f,c),s!==null&&(Dn(s,i,c),ac(s,i,c))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var c=jn(),f=vs(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Es(i,f,c),s!==null&&(Dn(s,i,c),ac(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=jn(),c=vs(a);c.tag=2,s!=null&&(c.callback=s),s=Es(i,c,a),s!==null&&(Dn(s,i,a),ac(s,i,a))}};function A0(i,s,a,c,f,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,d,v):s.prototype&&s.prototype.isPureReactComponent?!Zl(a,c)||!Zl(f,d):!0}function R0(i,s,a,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==i&&Mm.enqueueReplaceState(s,s.state,null)}function Oa(i,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(i=i.defaultProps){a===s&&(a=w({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function I0(i){th(i)}function C0(i){console.error(i)}function D0(i){th(i)}function bh(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function N0(i,s,a){try{var c=i.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pm(i,s,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){bh(i,s)},a}function O0(i){return i=vs(i),i.tag=3,i}function k0(i,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=c.value;i.payload=function(){return f(d)},i.callback=function(){N0(s,a,c)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){N0(s,a,c),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function d2(i,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&bo(s,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return si===null?Lh():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===hh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),sg(i,c,f)),!1;case 22:return a.flags|=65536,c===hh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),sg(i,c,f)),!1}throw Error(r(435,a.tag))}return sg(i,c,f),Lh(),!1}if(Be)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Jd&&(i=Error(r(422),{cause:c}),tc(ti(i,a)))):(c!==Jd&&(s=Error(r(423),{cause:c}),tc(ti(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=ti(c,a),f=Pm(i.stateNode,c,f),um(i,f),vt!==4&&(vt=2)),!1;var d=Error(r(520),{cause:c});if(d=ti(d,a),Ec===null?Ec=[d]:Ec.push(d),vt!==4&&(vt=2),s===null)return!0;c=ti(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Pm(a.stateNode,c,i),um(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=O0(f),k0(f,i,a,c),um(a,f),!1}a=a.return}while(a!==null);return!1}var xm=Error(r(461)),xt=!1;function nn(i,s,a,c){s.child=i===null?L_(s,null,a,c):Da(s,i.child,a,c)}function M0(i,s,a,c,f){a=a.render;var d=s.ref;if("ref"in c){var v={};for(var S in c)S!=="ref"&&(v[S]=c[S])}else v=c;return Aa(s),c=pm(i,s,a,v,d,f),S=ym(),i!==null&&!xt?(_m(i,s,f),Tr(i,s,f)):(Be&&S&&Wd(s),s.flags|=1,nn(i,s,c,f),s.child)}function P0(i,s,a,c,f){if(i===null){var d=a.type;return typeof d=="function"&&!Yd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,x0(i,s,d,c,f)):(i=sh(a.type,null,c,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!Hm(i,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zl,a(v,c)&&i.ref===s.ref)return Tr(i,s,f)}return s.flags|=1,i=pr(d,c),i.ref=s.ref,i.return=s,s.child=i}function x0(i,s,a,c,f){if(i!==null){var d=i.memoizedProps;if(Zl(d,c)&&i.ref===s.ref)if(xt=!1,s.pendingProps=c=d,Hm(i,f))(i.flags&131072)!==0&&(xt=!0);else return s.lanes=i.lanes,Tr(i,s,f)}return Lm(i,s,a,c,f)}function L0(i,s,a,c){var f=c.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(c=s.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~d}else c=0,s.child=null;return V0(i,s,d,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ch(s,d!==null?d.cachePool:null),d!==null?B_(s,d):fm(),z_(s);else return c=s.lanes=536870912,V0(i,s,d!==null?d.baseLanes|a:a,a,c)}else d!==null?(ch(s,d.cachePool),B_(s,d),Ts(),s.memoizedState=null):(i!==null&&ch(s,null),fm(),Ts());return nn(i,s,f,a),s.child}function dc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function V0(i,s,a,c,f){var d=am();return d=d===null?null:{parent:Mt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&ch(s,null),fm(),z_(s),i!==null&&bo(i,s,c,!0),s.childLanes=f,null}function Ah(i,s){return s=Ih({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function U0(i,s,a){return Da(s,i.child,null,a),i=Ah(s,s.pendingProps),i.flags|=2,Un(s),s.memoizedState=null,i}function m2(i,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=Ah(s,c),s.lanes=536870912,dc(null,i);if(mm(s),(i=at)?(i=Xv(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ms!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=w_(i),a.return=s,s.child=a,en=s,at=null)):i=null,i===null)throw ps(s);return s.lanes=536870912,null}return Ah(s,c)}var d=i.memoizedState;if(d!==null){var v=d.dehydrated;if(mm(s),f)if(s.flags&256)s.flags&=-257,s=U0(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(xt||bo(i,s,a,!1),f=(a&i.childLanes)!==0,xt||f){if(c=it,c!==null&&(v=Pl(c,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,wa(i,v),Dn(c,i,v),xm;Lh(),s=U0(i,s,a)}else i=d.treeContext,at=ai(v.nextSibling),en=s,Be=!0,gs=null,ri=!1,i!==null&&b_(s,i),s=Ah(s,c),s.flags|=4096;return s}return i=pr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Rh(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Lm(i,s,a,c,f){return Aa(s),a=pm(i,s,a,c,void 0,f),c=ym(),i!==null&&!xt?(_m(i,s,f),Tr(i,s,f)):(Be&&c&&Wd(s),s.flags|=1,nn(i,s,a,f),s.child)}function B0(i,s,a,c,f,d){return Aa(s),s.updateQueue=null,a=F_(s,c,a,f),j_(i),c=ym(),i!==null&&!xt?(_m(i,s,d),Tr(i,s,d)):(Be&&c&&Wd(s),s.flags|=1,nn(i,s,a,d),s.child)}function z0(i,s,a,c,f){if(Aa(s),s.stateNode===null){var d=Eo,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(c,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=c,d.state=s.memoizedState,d.refs={},lm(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Eo,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(km(s,a,v,c),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Mm.enqueueReplaceState(d,d.state,null),lc(s,c,d,f),oc(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,O=Oa(a,S);d.props=O;var q=d.context,X=a.contextType;v=Eo,typeof X=="object"&&X!==null&&(v=tn(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==v)&&R0(s,d,c,v),_s=!1;var G=s.memoizedState;d.state=G,lc(s,c,d,f),oc(),q=s.memoizedState,S||G!==q||_s?(typeof ee=="function"&&(km(s,a,ee,c),q=s.memoizedState),(O=_s||A0(s,a,O,c,G,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),d.props=c,d.state=q,d.context=v,c=O):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{d=s.stateNode,cm(i,s),v=s.memoizedProps,X=Oa(a,v),d.props=X,ee=s.pendingProps,G=d.context,q=a.contextType,O=Eo,typeof q=="object"&&q!==null&&(O=tn(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||G!==O)&&R0(s,d,c,O),_s=!1,G=s.memoizedState,d.state=G,lc(s,c,d,f),oc();var K=s.memoizedState;v!==ee||G!==K||_s||i!==null&&i.dependencies!==null&&oh(i.dependencies)?(typeof S=="function"&&(km(s,a,S,c),K=s.memoizedState),(X=_s||A0(s,a,X,c,G,K,O)||i!==null&&i.dependencies!==null&&oh(i.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(c,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(c,K,O)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),d.props=c,d.state=K,d.context=O,c=X):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),c=!1)}return d=c,Rh(i,s),c=(s.flags&128)!==0,d||c?(d=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&c?(s.child=Da(s,i.child,null,f),s.child=Da(s,null,a,f)):nn(i,s,a,f),s.memoizedState=d.state,i=s.child):i=Tr(i,s,f),i}function j0(i,s,a,c){return Sa(),s.flags|=256,nn(i,s,a,c),s.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:N_()}}function Bm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=zn),i}function F0(i,s,a){var c=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(f?ws(s):Ts(),(i=at)?(i=Xv(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ms!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=w_(i),a.return=s,s.child=a,en=s,at=null)):i=null,i===null)throw ps(s);return wg(i)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(Ts(),f=s.mode,S=Ih({mode:"hidden",children:S},f),c=Ta(c,f,a,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=Um(a),c.childLanes=Bm(i,v,a),s.memoizedState=Vm,dc(null,c)):(ws(s),zm(s,S))}var O=i.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)s.flags&256?(ws(s),s.flags&=-257,s=jm(i,s,a)):s.memoizedState!==null?(Ts(),s.child=i.child,s.flags|=128,s=null):(Ts(),S=c.fallback,f=s.mode,c=Ih({mode:"visible",children:c.children},f),S=Ta(S,f,a,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Da(s,i.child,null,a),c=s.child,c.memoizedState=Um(a),c.childLanes=Bm(i,v,a),s.memoizedState=Vm,s=dc(null,c));else if(ws(s),wg(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,c=Error(r(419)),c.stack="",c.digest=v,tc({value:c,source:null,stack:null}),s=jm(i,s,a)}else if(xt||bo(i,s,a,!1),v=(a&i.childLanes)!==0,xt||v){if(v=it,v!==null&&(c=Pl(v,a),c!==0&&c!==O.retryLane))throw O.retryLane=c,wa(i,c),Dn(v,i,c),xm;Eg(S)||Lh(),s=jm(i,s,a)}else Eg(S)?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,at=ai(S.nextSibling),en=s,Be=!0,gs=null,ri=!1,i!==null&&b_(s,i),s=zm(s,c.children),s.flags|=4096);return s}return f?(Ts(),S=c.fallback,f=s.mode,O=i.child,q=O.sibling,c=pr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,q!==null?S=pr(q,S):(S=Ta(S,f,a,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,dc(null,c),c=s.child,S=i.child.memoizedState,S===null?S=Um(a):(f=S.cachePool,f!==null?(O=Mt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=N_(),S={baseLanes:S.baseLanes|a,cachePool:f}),c.memoizedState=S,c.childLanes=Bm(i,v,a),s.memoizedState=Vm,dc(i.child,c)):(ws(s),a=i.child,i=a.sibling,a=pr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function zm(i,s){return s=Ih({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ih(i,s){return i=Ln(22,i,null,s),i.lanes=0,i}function jm(i,s,a){return Da(s,i.child,null,a),i=zm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function H0(i,s,a){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),nm(i.return,s,a)}function Fm(i,s,a,c,f,d){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function q0(i,s,a){var c=s.pendingProps,f=c.revealOrder,d=c.tail;c=c.children;var v=bt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,ce(bt,v),nn(i,s,c,a),c=Be?ec:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H0(i,a,s);else if(i.tag===19)H0(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&gh(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Fm(s,!1,f,a,d,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&gh(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Fm(s,!0,a,null,d,c);break;case"together":Fm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Tr(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),As|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(bo(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=pr(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=pr(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Hm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&oh(i)))}function g2(i,s,a){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),ys(s,Mt,i.memoizedState.cache),Sa();break;case 27:case 5:ia(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:ys(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ws(s),s.flags|=128,null):(a&s.child.childLanes)!==0?F0(i,s,a):(ws(s),i=Tr(i,s,a),i!==null?i.sibling:null);ws(s);break;case 19:var f=(i.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(bo(i,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return q0(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(bt,bt.current),c)break;return null;case 22:return s.lanes=0,L0(i,s,a,s.pendingProps);case 24:ys(s,Mt,i.memoizedState.cache)}return Tr(i,s,a)}function G0(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)xt=!0;else{if(!Hm(i,a)&&(s.flags&128)===0)return xt=!1,g2(i,s,a);xt=(i.flags&131072)!==0}else xt=!1,Be&&(s.flags&1048576)!==0&&S_(s,ec,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Ia(s.elementType),s.type=i,typeof i=="function")Yd(i)?(c=Oa(i,c),s.tag=1,s=z0(null,s,i,c,a)):(s.tag=0,s=Lm(null,s,i,c,a));else{if(i!=null){var f=i.$$typeof;if(f===se){s.tag=11,s=M0(null,s,i,c,a);break e}else if(f===I){s.tag=14,s=P0(null,s,i,c,a);break e}}throw s=ct(i)||i,Error(r(306,s,""))}}return s;case 0:return Lm(i,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=Oa(c,s.pendingProps),z0(i,s,c,f,a);case 3:e:{if(jt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var d=s.memoizedState;f=d.element,cm(i,s),lc(s,c,null,a);var v=s.memoizedState;if(c=v.cache,ys(s,Mt,c),c!==d.cache&&im(s,[Mt],a,!0),oc(),c=v.element,d.isDehydrated)if(d={element:c,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=j0(i,s,c,a);break e}else if(c!==f){f=ti(Error(r(424)),s),tc(f),s=j0(i,s,c,a);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=ai(i.firstChild),en=s,Be=!0,gs=null,ri=!0,a=L_(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Sa(),c===f){s=Tr(i,s,a);break e}nn(i,s,c,a)}s=s.child}return s;case 26:return Rh(i,s),i===null?(a=n1(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,i=s.pendingProps,c=Hh(Ne.current).createElement(a),c[Nt]=s,c[Gt]=i,rn(c,a,i),Ot(c),s.stateNode=c):s.memoizedState=n1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ia(s),i===null&&Be&&(c=s.stateNode=Jv(s.type,s.pendingProps,Ne.current),en=s,ri=!0,f=at,Ns(s.type)?(Tg=f,at=ai(c.firstChild)):at=f),nn(i,s,s.pendingProps.children,a),Rh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((f=c=at)&&(c=G2(c,s.type,s.pendingProps,ri),c!==null?(s.stateNode=c,en=s,at=ai(c.firstChild),ri=!1,f=!0):f=!1),f||ps(s)),ia(s),f=s.type,d=s.pendingProps,v=i!==null?i.memoizedProps:null,c=d.children,yg(f,d)?c=null:v!==null&&yg(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=pm(i,s,a2,null,null,a),Cc._currentValue=f),Rh(i,s),nn(i,s,c,a),s.child;case 6:return i===null&&Be&&((i=a=at)&&(a=$2(a,s.pendingProps,ri),a!==null?(s.stateNode=a,en=s,at=null,i=!0):i=!1),i||ps(s)),null;case 13:return F0(i,s,a);case 4:return jt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Da(s,null,c,a):nn(i,s,c,a),s.child;case 11:return M0(i,s,s.type,s.pendingProps,a);case 7:return nn(i,s,s.pendingProps,a),s.child;case 8:return nn(i,s,s.pendingProps.children,a),s.child;case 12:return nn(i,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,ys(s,s.type,c.value),nn(i,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Aa(s),f=tn(f),c=c(f),s.flags|=1,nn(i,s,c,a),s.child;case 14:return P0(i,s,s.type,s.pendingProps,a);case 15:return x0(i,s,s.type,s.pendingProps,a);case 19:return q0(i,s,a);case 31:return m2(i,s,a);case 22:return L0(i,s,a,s.pendingProps);case 24:return Aa(s),c=tn(Mt),i===null?(f=am(),f===null&&(f=it,d=rm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:c,cache:f},lm(s),ys(s,Mt,f)):((i.lanes&a)!==0&&(cm(i,s),lc(s,null,null,a),oc()),f=i.memoizedState,d=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ys(s,Mt,c)):(c=d.cache,ys(s,Mt,c),c!==f.cache&&im(s,[Mt],a,!0))),nn(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Sr(i){i.flags|=4}function qm(i,s,a,c,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(_v())i.flags|=8192;else throw Ca=hh,om}else i.flags&=-16777217}function $0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o1(s))if(_v())i.flags|=8192;else throw Ca=hh,om}function Ch(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Pu():536870912,i.lanes|=s,Lo|=s)}function mc(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,c=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=a,s}function p2(i,s,a){var c=s.pendingProps;switch(Zd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return a=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),vr(Mt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(So(s)?Sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,em())),ot(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(Sr(s),d!==null?(ot(s),$0(s,d)):(ot(s),qm(s,f,null,c,a))):d?d!==i.memoizedState?(Sr(s),ot(s),$0(s,d)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Sr(s),ot(s),qm(s,f,i,c,a)),null;case 27:if(eo(s),a=Ne.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ot(s),null}i=he.current,So(s)?A_(s):(i=Jv(f,c,a),s.stateNode=i,Sr(s))}return ot(s),null;case 5:if(eo(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(d=he.current,So(s))A_(s);else{var v=Hh(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?d.multiple=!0:c.size&&(d.size=c.size);break;default:d=typeof c.is=="string"?v.createElement(f,{is:c.is}):v.createElement(f)}}d[Nt]=s,d[Gt]=c;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(rn(d,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Sr(s)}}return ot(s),qm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ne.current,So(s)){if(i=s.stateNode,a=s.memoizedProps,c=null,f=en,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Nt]=s,i=!!(i.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Fv(i.nodeValue,a)),i||ps(s,!0)}else i=Hh(i).createTextNode(c),i[Nt]=s,s.stateNode=i}return ot(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(c=So(s),a!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Nt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else a=em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=So(s),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Nt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,i=i!==null&&i.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),d=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(d=c.memoizedState.cachePool.pool),d!==f&&(c.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Ch(s,s.updateQueue),ot(s),null);case 4:return ut(),i===null&&fg(s.stateNode.containerInfo),ot(s),null;case 10:return vr(s.type),ot(s),null;case 19:if(te(bt),c=s.memoizedState,c===null)return ot(s),null;if(f=(s.flags&128)!==0,d=c.rendering,d===null)if(f)mc(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=gh(i),d!==null){for(s.flags|=128,mc(c,!1),i=d.updateQueue,s.updateQueue=i,Ch(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)E_(a,i),a=a.sibling;return ce(bt,bt.current&1|2),Be&&yr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&gn()>Mh&&(s.flags|=128,f=!0,mc(c,!1),s.lanes=4194304)}else{if(!f)if(i=gh(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Ch(s,i),mc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Be)return ot(s),null}else 2*gn()-c.renderingStartTime>Mh&&a!==536870912&&(s.flags|=128,f=!0,mc(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=gn(),i.sibling=null,a=bt.current,ce(bt,f?a&1|2:a&1),Be&&yr(s,c.treeForkCount),i):(ot(s),null);case 22:case 23:return Un(s),dm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),a=s.updateQueue,a!==null&&Ch(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),i!==null&&te(Ra),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),vr(Mt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function y2(i,s){switch(Zd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return vr(Mt),ut(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return eo(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(r(340));Sa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Sa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(bt),null;case 4:return ut(),null;case 10:return vr(s.type),null;case 22:case 23:return Un(s),dm(),i!==null&&te(Ra),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return vr(Mt),null;case 25:return null;default:return null}}function K0(i,s){switch(Zd(s),s.tag){case 3:vr(Mt),ut();break;case 26:case 27:case 5:eo(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:te(bt);break;case 10:vr(s.type);break;case 22:case 23:Un(s),dm(),i!==null&&te(Ra);break;case 24:vr(Mt)}}function gc(i,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&i)===i){c=void 0;var d=a.create,v=a.inst;c=d(),v.destroy=c}a=a.next}while(a!==f)}}catch(S){Ze(s,s.return,S)}}function Ss(i,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var d=f.next;c=d;do{if((c.tag&i)===i){var v=c.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var O=a,q=S;try{q()}catch(X){Ze(f,O,X)}}}c=c.next}while(c!==d)}}catch(X){Ze(s,s.return,X)}}function Y0(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{U_(s,a)}catch(c){Ze(i,i.return,c)}}}function Q0(i,s,a){a.props=Oa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(c){Ze(i,s,c)}}function pc(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof a=="function"?i.refCleanup=a(c):a.current=c}}catch(f){Ze(i,s,f)}}function Wi(i,s){var a=i.ref,c=i.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){Ze(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(i,s,f)}else a.current=null}function X0(i){var s=i.type,a=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){Ze(i,i.return,f)}}function Gm(i,s,a){try{var c=i.stateNode;B2(c,i.type,a,s),c[Gt]=s}catch(f){Ze(i,i.return,f)}}function W0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ns(i.type)||i.tag===4}function $m(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ns(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pi));else if(c!==4&&(c===27&&Ns(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Km(i,s,a),i=i.sibling;i!==null;)Km(i,s,a),i=i.sibling}function Dh(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(c!==4&&(c===27&&Ns(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Dh(i,s,a),i=i.sibling;i!==null;)Dh(i,s,a),i=i.sibling}function Z0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var c=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,c,a),s[Nt]=i,s[Gt]=a}catch(d){Ze(i,i.return,d)}}var br=!1,Lt=!1,Ym=!1,J0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function _2(i,s){if(i=i.containerInfo,gg=Xh,i=h_(i),jd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,q=0,X=0,ee=i,G=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(S=v+f),ee!==d||c!==0&&ee.nodeType!==3||(O=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===i)break t;if(G===a&&++q===f&&(S=v),G===d&&++X===c&&(O=v),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(pg={focusedElem:i,selectionRange:a},Xh=!1,Kt=s;Kt!==null;)if(s=Kt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Kt=i;else for(;Kt!==null;){switch(s=Kt,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,c=a.stateNode;try{var me=Oa(a.type,f);i=c.getSnapshotBeforeUpdate(me,d),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){Ze(a,a.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)vg(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kt=i;break}Kt=s.return}}function ev(i,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(i,a),c&4&&gc(5,a);break;case 1:if(Rr(i,a),c&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var f=Oa(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}c&64&&Y0(a),c&512&&pc(a,a.return);break;case 3:if(Rr(i,a),c&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{U_(i,s)}catch(v){Ze(a,a.return,v)}}break;case 27:s===null&&c&4&&Z0(a);case 26:case 5:Rr(i,a),s===null&&c&4&&X0(a),c&512&&pc(a,a.return);break;case 12:Rr(i,a);break;case 31:Rr(i,a),c&4&&iv(i,a);break;case 13:Rr(i,a),c&4&&rv(i,a),c&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=I2.bind(null,a),K2(i,a))));break;case 22:if(c=a.memoizedState!==null||br,!c){s=s!==null&&s.memoizedState!==null||Lt,f=br;var d=Lt;br=c,(Lt=s)&&!d?Ir(i,a,(a.subtreeFlags&8772)!==0):Rr(i,a),br=f,Lt=d}break;case 30:break;default:Rr(i,a)}}function tv(i){var s=i.alternate;s!==null&&(i.alternate=null,tv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&so(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,An=!1;function Ar(i,s,a){for(a=a.child;a!==null;)nv(i,s,a),a=a.sibling}function nv(i,s,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(fi,a)}catch{}switch(a.tag){case 26:Lt||Wi(a,s),Ar(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Wi(a,s);var c=ft,f=An;Ns(a.type)&&(ft=a.stateNode,An=!1),Ar(i,s,a),Ac(a.stateNode),ft=c,An=f;break;case 5:Lt||Wi(a,s);case 6:if(c=ft,f=An,ft=null,Ar(i,s,a),ft=c,An=f,ft!==null)if(An)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){Ze(a,s,d)}else try{ft.removeChild(a.stateNode)}catch(d){Ze(a,s,d)}break;case 18:ft!==null&&(An?(i=ft,Yv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),qo(i)):Yv(ft,a.stateNode));break;case 4:c=ft,f=An,ft=a.stateNode.containerInfo,An=!0,Ar(i,s,a),ft=c,An=f;break;case 0:case 11:case 14:case 15:Ss(2,a,s),Lt||Ss(4,a,s),Ar(i,s,a);break;case 1:Lt||(Wi(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Q0(a,s,c)),Ar(i,s,a);break;case 21:Ar(i,s,a);break;case 22:Lt=(c=Lt)||a.memoizedState!==null,Ar(i,s,a),Lt=c;break;default:Ar(i,s,a)}}function iv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qo(i)}catch(a){Ze(s,s.return,a)}}}function rv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(a){Ze(s,s.return,a)}}function v2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new J0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new J0),s;default:throw Error(r(435,i.tag))}}function Nh(i,s){var a=v2(i);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=C2.bind(null,i,c);c.then(f,f)}})}function Rn(i,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],d=i,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ns(S.type)){ft=S.stateNode,An=!1;break e}break;case 5:ft=S.stateNode,An=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(ft===null)throw Error(r(160));nv(d,v,f),ft=null,An=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sv(s,i),s=s.sibling}var Ti=null;function sv(i,s){var a=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(s,i),In(i),c&4&&(Ss(3,i,i.return),gc(3,i),Ss(5,i,i.return));break;case 1:Rn(s,i),In(i),c&512&&(Lt||a===null||Wi(a,a.return)),c&64&&br&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Ti;if(Rn(s,i),In(i),c&512&&(Lt||a===null||Wi(a,a.return)),c&4){var d=a!==null?a.memoizedState:null;if(c=i.memoizedState,a===null)if(c===null)if(i.stateNode===null){e:{c=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Vi]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(c),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,c,a),d[Nt]=i,Ot(d),c=d;break e;case"link":var v=s1("link","href",f).get(c+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(c),rn(d,c,a),f.head.appendChild(d);break;case"meta":if(v=s1("meta","content",f).get(c+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(c),rn(d,c,a),f.head.appendChild(d);break;default:throw Error(r(468,c))}d[Nt]=i,Ot(d),c=d}i.stateNode=c}else a1(f,i.type,i.stateNode);else i.stateNode=r1(f,c,i.memoizedProps);else d!==c?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,c===null?a1(f,i.type,i.stateNode):r1(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Gm(i,i.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,i),In(i),c&512&&(Lt||a===null||Wi(a,a.return)),a!==null&&c&4&&Gm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,i),In(i),c&512&&(Lt||a===null||Wi(a,a.return)),i.flags&32){f=i.stateNode;try{bn(f,"")}catch(me){Ze(i,i.return,me)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Gm(i,f,a!==null?a.memoizedProps:f)),c&1024&&(Ym=!0);break;case 6:if(Rn(s,i),In(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,a=i.stateNode;try{a.nodeValue=c}catch(me){Ze(i,i.return,me)}}break;case 3:if($h=null,f=Ti,Ti=qh(s.containerInfo),Rn(s,i),Ti=f,In(i),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qo(s.containerInfo)}catch(me){Ze(i,i.return,me)}Ym&&(Ym=!1,av(i));break;case 4:c=Ti,Ti=qh(i.stateNode.containerInfo),Rn(s,i),In(i),Ti=c;break;case 12:Rn(s,i),In(i);break;case 31:Rn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 13:Rn(s,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kh=gn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 22:f=i.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=br,X=Lt;if(br=q||f,Lt=X||O,Rn(s,i),Lt=X,br=q,In(i),c&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||br||Lt||ka(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){Ze(O,O.return,me)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(s.tag===18){if(a===null){O=s;try{var K=O.stateNode;f?Qv(K,!0):Qv(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Nh(i,a))));break;case 19:Rn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 30:break;case 21:break;default:Rn(s,i),In(i)}}function In(i){var s=i.flags;if(s&2){try{for(var a,c=i.return;c!==null;){if(W0(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=$m(i);Dh(i,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(bn(v,""),a.flags&=-33);var S=$m(i);Dh(i,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,q=$m(i);Km(i,q,O);break;default:throw Error(r(161))}}catch(X){Ze(i,i.return,X)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function av(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;av(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Rr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ev(i,s.alternate,s),s=s.sibling}function ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),ka(s);break;case 1:Wi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Q0(s,s.return,a),ka(s);break;case 27:Ac(s.stateNode);case 26:case 5:Wi(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}i=i.sibling}}function Ir(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=i,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(f,d,a),gc(4,d);break;case 1:if(Ir(f,d,a),c=d,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ze(c,c.return,q)}if(c=d,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)V_(O[f],S)}catch(q){Ze(c,c.return,q)}}a&&v&64&&Y0(d),pc(d,d.return);break;case 27:Z0(d);case 26:case 5:Ir(f,d,a),a&&c===null&&v&4&&X0(d),pc(d,d.return);break;case 12:Ir(f,d,a);break;case 31:Ir(f,d,a),a&&v&4&&iv(f,d);break;case 13:Ir(f,d,a),a&&v&4&&rv(f,d);break;case 22:d.memoizedState===null&&Ir(f,d,a),pc(d,d.return);break;case 30:break;default:Ir(f,d,a)}s=s.sibling}}function Qm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&nc(a))}function Xm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nc(i))}function Si(i,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ov(i,s,a,c),s=s.sibling}function ov(i,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,a,c),f&2048&&gc(9,s);break;case 1:Si(i,s,a,c);break;case 3:Si(i,s,a,c),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nc(i)));break;case 12:if(f&2048){Si(i,s,a,c),i=s.stateNode;try{var d=s.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else Si(i,s,a,c);break;case 31:Si(i,s,a,c);break;case 13:Si(i,s,a,c);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?Si(i,s,a,c):yc(i,s):d._visibility&2?Si(i,s,a,c):(d._visibility|=2,Mo(i,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Qm(v,s);break;case 24:Si(i,s,a,c),f&2048&&Xm(s.alternate,s);break;default:Si(i,s,a,c)}}function Mo(i,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,v=s,S=a,O=c,q=v.flags;switch(v.tag){case 0:case 11:case 15:Mo(d,v,S,O,f),gc(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Mo(d,v,S,O,f):yc(d,v):(X._visibility|=2,Mo(d,v,S,O,f)),f&&q&2048&&Qm(v.alternate,v);break;case 24:Mo(d,v,S,O,f),f&&q&2048&&Xm(v.alternate,v);break;default:Mo(d,v,S,O,f)}s=s.sibling}}function yc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,c=s,f=c.flags;switch(c.tag){case 22:yc(a,c),f&2048&&Qm(c.alternate,c);break;case 24:yc(a,c),f&2048&&Xm(c.alternate,c);break;default:yc(a,c)}s=s.sibling}}var _c=8192;function Po(i,s,a){if(i.subtreeFlags&_c)for(i=i.child;i!==null;)lv(i,s,a),i=i.sibling}function lv(i,s,a){switch(i.tag){case 26:Po(i,s,a),i.flags&_c&&i.memoizedState!==null&&sR(a,Ti,i.memoizedState,i.memoizedProps);break;case 5:Po(i,s,a);break;case 3:case 4:var c=Ti;Ti=qh(i.stateNode.containerInfo),Po(i,s,a),Ti=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=_c,_c=16777216,Po(i,s,a),_c=c):Po(i,s,a));break;default:Po(i,s,a)}}function cv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function vc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Kt=c,hv(c,i)}cv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(i),i=i.sibling}function uv(i){switch(i.tag){case 0:case 11:case 15:vc(i),i.flags&2048&&Ss(9,i,i.return);break;case 3:vc(i);break;case 12:vc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Oh(i)):vc(i);break;default:vc(i)}}function Oh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Kt=c,hv(c,i)}cv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),Oh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Oh(s));break;default:Oh(s)}i=i.sibling}}function hv(i,s){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Ss(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nc(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Kt=c;else e:for(a=i;Kt!==null;){c=Kt;var f=c.sibling,d=c.return;if(tv(c),c===a){Kt=null;break e}if(f!==null){f.return=d,Kt=f;break e}Kt=d}}}var E2={getCacheForType:function(i){var s=tn(Mt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return tn(Mt).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,ke=null,Pe=0,We=0,Bn=null,bs=!1,xo=!1,Wm=!1,Cr=0,vt=0,As=0,Ma=0,Zm=0,zn=0,Lo=0,Ec=null,Cn=null,Jm=!1,kh=0,fv=0,Mh=1/0,Ph=null,Rs=null,Ht=0,Is=null,Vo=null,Dr=0,eg=0,tg=null,dv=null,wc=0,ng=null;function jn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:W.T!==null?lg():xu()}function mv(){if(zn===0)if((Pe&536870912)===0||Be){var i=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),zn=i}else zn=536870912;return i=Vn.current,i!==null&&(i.flags|=32),zn}function Dn(i,s,a){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Uo(i,0),Cs(i,Pe,zn,!1)),oa(i,a),(($e&2)===0||i!==it)&&(i===it&&(($e&2)===0&&(Ma|=a),vt===4&&Cs(i,Pe,zn,!1)),Zi(i))}function gv(i,s,a){if(($e&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&i.expiredLanes)===0||di(i,s),f=c?b2(i,s):rg(i,s,!0),d=c;do{if(f===0){xo&&!c&&Cs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!T2(a)){f=rg(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=i;f=Ec;var O=S.current.memoizedState.isDehydrated;if(O&&(Uo(S,v).flags|=256),v=rg(S,v,!1),v!==2){if(Wm&&!O){S.errorRecoveryDisabledLanes|=d,Ma|=d,f=4;break e}d=Cn,Cn=f,d!==null&&(Cn===null?Cn=d:Cn.push.apply(Cn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Uo(i,0),Cs(i,s,0,!0);break}e:{switch(c=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(c,s,zn,!bs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=kh+300-gn(),10<f)){if(Cs(c,s,zn,!bs),Pi(c,0,!0)!==0)break e;Dr=s,c.timeoutHandle=$v(pv.bind(null,c,a,Cn,Ph,Jm,s,zn,Ma,Lo,bs,d,"Throttled",-0,0),f);break e}pv(c,a,Cn,Ph,Jm,s,zn,Ma,Lo,bs,d,null,-0,0)}}break}while(!0);Zi(i)}function pv(i,s,a,c,f,d,v,S,O,q,X,ee,G,K){if(i.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},lv(s,d,ee);var me=(d&62914560)===d?kh-gn():(d&4194048)===d?fv-gn():0;if(me=aR(ee,me),me!==null){Dr=d,i.cancelPendingCommit=me(bv.bind(null,i,s,d,a,c,f,v,S,O,X,ee,null,G,K)),Cs(i,d,v,!q);return}}bv(i,s,d,a,c,f,v,S,O)}function T2(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(i,s,a,c){s&=~Zm,s&=~Ma,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var f=s;0<f;){var d=31-Tt(f),v=1<<d;c[d]=-1,f&=~v}a!==0&&la(i,a,s)}function xh(){return($e&6)===0?(Tc(0),!1):!0}function ig(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,_r=ba=null,vm(i),Co=null,rc=0,i=ke;for(;i!==null;)K0(i.alternate,i),i=i.return;ke=null}}function Uo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,F2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Dr=0,ig(),it=i,ke=a=pr(i.current,null),Pe=s,We=0,Bn=null,bs=!1,xo=di(i,s),Wm=!1,Lo=zn=Zm=Ma=As=vt=0,Cn=Ec=null,Jm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var f=31-Tt(c),d=1<<f;s|=i[f],c&=~d}return Cr=s,nh(),a}function yv(i,s){De=null,W.H=fc,s===Io||s===uh?(s=M_(),We=3):s===om?(s=M_(),We=4):We=s===xm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,ke===null&&(vt=1,bh(i,ti(s,i.current)))}function _v(){var i=Vn.current;return i===null?!0:(Pe&4194048)===Pe?si===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===si:!1}function vv(){var i=W.H;return W.H=fc,i===null?fc:i}function Ev(){var i=W.A;return W.A=E2,i}function Lh(){vt=4,bs||(Pe&4194048)!==Pe&&Vn.current!==null||(xo=!0),(As&134217727)===0&&(Ma&134217727)===0||it===null||Cs(it,Pe,zn,!1)}function rg(i,s,a){var c=$e;$e|=2;var f=vv(),d=Ev();(it!==i||Pe!==s)&&(Ph=null,Uo(i,s)),s=!1;var v=vt;e:do try{if(We!==0&&ke!==null){var S=ke,O=Bn;switch(We){case 8:ig(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var q=We;if(We=0,Bn=null,Bo(i,S,O,q),a&&xo){v=0;break e}break;default:q=We,We=0,Bn=null,Bo(i,S,O,q)}}S2(),v=vt;break}catch(X){yv(i,X)}while(!0);return s&&i.shellSuspendCounter++,_r=ba=null,$e=c,W.H=f,W.A=d,ke===null&&(it=null,Pe=0,nh()),v}function S2(){for(;ke!==null;)wv(ke)}function b2(i,s){var a=$e;$e|=2;var c=vv(),f=Ev();it!==i||Pe!==s?(Ph=null,Mh=gn()+500,Uo(i,s)):xo=di(i,s);e:do try{if(We!==0&&ke!==null){s=ke;var d=Bn;t:switch(We){case 1:We=0,Bn=null,Bo(i,s,d,1);break;case 2:case 9:if(O_(d)){We=0,Bn=null,Tv(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Zi(i)},d.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:O_(d)?(We=0,Bn=null,Tv(s)):(We=0,Bn=null,Bo(i,s,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var S=ke;if(v?o1(v):S.stateNode.complete){We=0,Bn=null;var O=S.sibling;if(O!==null)ke=O;else{var q=S.return;q!==null?(ke=q,Vh(q)):ke=null}break t}}We=0,Bn=null,Bo(i,s,d,5);break;case 6:We=0,Bn=null,Bo(i,s,d,6);break;case 8:ig(),vt=6;break e;default:throw Error(r(462))}}A2();break}catch(X){yv(i,X)}while(!0);return _r=ba=null,W.H=c,W.A=f,$e=a,ke!==null?0:(it=null,Pe=0,nh(),vt)}function A2(){for(;ke!==null&&!Pd();)wv(ke)}function wv(i){var s=G0(i.alternate,i,Cr);i.memoizedProps=i.pendingProps,s===null?Vh(i):ke=s}function Tv(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=B0(a,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=B0(a,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:vm(s);default:K0(a,s),s=ke=E_(s,Cr),s=G0(a,s,Cr)}i.memoizedProps=i.pendingProps,s===null?Vh(i):ke=s}function Bo(i,s,a,c){_r=ba=null,vm(s),Co=null,rc=0;var f=s.return;try{if(d2(i,f,s,a,Pe)){vt=1,bh(i,ti(a,i.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;vt=1,bh(i,ti(a,i.current)),ke=null;return}s.flags&32768?(Be||c===1?i=!0:xo||(Pe&536870912)!==0?i=!1:(bs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sv(s,i)):Vh(s)}function Vh(i){var s=i;do{if((s.flags&32768)!==0){Sv(s,bs);return}i=s.return;var a=p2(s.alternate,s,Cr);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);vt===0&&(vt=5)}function Sv(i,s){do{var a=y2(i.alternate,i);if(a!==null){a.flags&=32767,ke=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=a}while(i!==null);vt=6,ke=null}function bv(i,s,a,c,f,d,v,S,O){i.cancelPendingCommit=null;do Uh();while(Ht!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=$d,Vd(i,a,d,v,S,O),i===it&&(ke=it=null,Pe=0),Vo=s,Is=i,Dr=a,eg=d,tg=f,dv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,D2(rs,function(){return Dv(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,f=le.p,le.p=2,v=$e,$e|=4;try{_2(i,s,a)}finally{$e=v,le.p=f,W.T=c}}Ht=1,Av(),Rv(),Iv()}}function Av(){if(Ht===1){Ht=0;var i=Is,s=Vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{sv(s,i);var d=pg,v=h_(i.containerInfo),S=d.focusedElem,O=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&u_(S.ownerDocument.documentElement,S)){if(O!==null&&jd(S)){var q=O.start,X=O.end;if(X===void 0&&(X=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),me=S.textContent.length,Ee=Math.min(O.start,me),nt=O.end===void 0?Ee:Math.min(O.end,me);!K.extend&&Ee>nt&&(v=nt,nt=Ee,Ee=v);var U=c_(S,Ee),M=c_(S,nt);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=ee.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),Ee>nt?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xh=!!gg,pg=gg=null}finally{$e=f,le.p=c,W.T=a}}i.current=s,Ht=2}}function Rv(){if(Ht===2){Ht=0;var i=Is,s=Vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{ev(i,s.alternate,s)}finally{$e=f,le.p=c,W.T=a}}Ht=3}}function Iv(){if(Ht===4||Ht===3){Ht=0,Cu();var i=Is,s=Vo,a=Dr,c=dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Vo=Is=null,Cv(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Rs=null),fr(a),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(fi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,f=le.p,le.p=2,W.T=null;try{for(var d=i.onRecoverableError,v=0;v<c.length;v++){var S=c[v];d(S.value,{componentStack:S.stack})}}finally{W.T=s,le.p=f}}(Dr&3)!==0&&Uh(),Zi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===ng?wc++:(wc=0,ng=i):wc=0,Tc(0)}}function Cv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,nc(s)))}function Uh(){return Av(),Rv(),Iv(),Dv()}function Dv(){if(Ht!==5)return!1;var i=Is,s=eg;eg=0;var a=fr(Dr),c=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=tg,tg=null;var d=Is,v=Dr;if(Ht=0,Vo=Is=null,Dr=0,($e&6)!==0)throw Error(r(331));var S=$e;if($e|=4,uv(d.current),ov(d,d.current,v,a),$e=S,Tc(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(fi,d)}catch{}return!0}finally{le.p=f,W.T=c,Cv(i,s)}}function Nv(i,s,a){s=ti(a,s),s=Pm(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(oa(i,2),Zi(i))}function Ze(i,s,a){if(i.tag===3)Nv(i,i,a);else for(;s!==null;){if(s.tag===3){Nv(s,i,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rs===null||!Rs.has(c))){i=ti(a,i),a=O0(2),c=Es(s,a,2),c!==null&&(k0(a,c,s,i),oa(c,2),Zi(c));break}}s=s.return}}function sg(i,s,a){var c=i.pingCache;if(c===null){c=i.pingCache=new w2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(Wm=!0,f.add(a),i=R2.bind(null,i,s,a),s.then(i,i))}function R2(i,s,a){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,it===i&&(Pe&a)===a&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>gn()-kh?($e&2)===0&&Uo(i,0):Zm|=a,Lo===Pe&&(Lo=0)),Zi(i)}function Ov(i,s){s===0&&(s=Pu()),i=wa(i,s),i!==null&&(oa(i,s),Zi(i))}function I2(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Ov(i,a)}function C2(i,s){var a=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Ov(i,a)}function D2(i,s){return Ft(i,s)}var Bh=null,zo=null,ag=!1,zh=!1,og=!1,Ds=0;function Zi(i){i!==zo&&i.next===null&&(zo===null?Bh=zo=i:zo=zo.next=i),zh=!0,ag||(ag=!0,O2())}function Tc(i,s){if(!og&&zh){og=!0;do for(var a=!1,c=Bh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var d=0;else{var v=c.suspendedLanes,S=c.pingedLanes;d=(1<<31-Tt(42|i)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xv(c,d))}else d=Pe,d=Pi(c,c===it?d:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(d&3)===0||di(c,d)||(a=!0,xv(c,d));c=c.next}while(a);og=!1}}function N2(){kv()}function kv(){zh=ag=!1;var i=0;Ds!==0&&j2()&&(i=Ds);for(var s=gn(),a=null,c=Bh;c!==null;){var f=c.next,d=Mv(c,s);d===0?(c.next=null,a===null?Bh=f:a.next=f,f===null&&(zo=a)):(a=c,(i!==0||(d&3)!==0)&&(zh=!0)),c=f}Ht!==0&&Ht!==5||Tc(i),Ds!==0&&(Ds=0)}function Mv(i,s){for(var a=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-Tt(d),S=1<<v,O=f[v];O===-1?((S&a)===0||(S&c)!==0)&&(f[v]=Ld(S,s)):O<=s&&(i.expiredLanes|=S),d&=~S}if(s=it,a=Pe,a=Pi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,a===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&is(c),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||di(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(c!==null&&is(c),fr(a)){case 2:case 8:a=kl;break;case 32:a=rs;break;case 268435456:a=Du;break;default:a=rs}return c=Pv.bind(null,i),a=Ft(a,c),i.callbackPriority=s,i.callbackNode=a,s}return c!==null&&c!==null&&is(c),i.callbackPriority=2,i.callbackNode=null,2}function Pv(i,s){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Uh()&&i.callbackNode!==a)return null;var c=Pe;return c=Pi(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(gv(i,c,s),Mv(i,gn()),i.callbackNode!=null&&i.callbackNode===a?Pv.bind(null,i):null)}function xv(i,s){if(Uh())return null;gv(i,s,!0)}function O2(){H2(function(){($e&6)!==0?Ft(Ol,N2):kv()})}function lg(){if(Ds===0){var i=Ao;i===0&&(i=ki,ki<<=1,(ki&261888)===0&&(ki=256)),Ds=i}return Ds}function Lv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:co(""+i)}function Vv(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function k2(i,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var d=Lv((f[Gt]||null).action),v=c.submitter;v&&(s=(s=v[Gt]||null)?Lv(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var S=new Gi("action","action",null,c,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ds!==0){var O=v?Vv(f,v):new FormData(f);Cm(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=v?Vv(f,v):new FormData(f),Cm(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var cg=0;cg<Gd.length;cg++){var ug=Gd[cg],M2=ug.toLowerCase(),P2=ug[0].toUpperCase()+ug.slice(1);wi(M2,"on"+P2)}wi(m_,"onAnimationEnd"),wi(g_,"onAnimationIteration"),wi(p_,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(XA,"onTransitionRun"),wi(WA,"onTransitionStart"),wi(ZA,"onTransitionCancel"),wi(y_,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc));function Uv(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var c=i[a],f=c.event;c=c.listeners;e:{var d=void 0;if(s)for(var v=c.length-1;0<=v;v--){var S=c[v],O=S.instance,q=S.currentTarget;if(S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=q;try{d(f)}catch(X){th(X)}f.currentTarget=null,d=O}else for(v=0;v<c.length;v++){if(S=c[v],O=S.instance,q=S.currentTarget,S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=q;try{d(f)}catch(X){th(X)}f.currentTarget=null,d=O}}}}function Me(i,s){var a=s[ro];a===void 0&&(a=s[ro]=new Set);var c=i+"__bubble";a.has(c)||(Bv(s,i,2,!1),a.add(c))}function hg(i,s,a){var c=0;s&&(c|=4),Bv(a,i,c,s)}var jh="_reactListening"+Math.random().toString(36).slice(2);function fg(i){if(!i[jh]){i[jh]=!0,xl.forEach(function(a){a!=="selectionchange"&&(x2.has(a)||hg(a,!1,i),hg(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[jh]||(s[jh]=!0,hg("selectionchange",!1,s))}}function Bv(i,s,a,c){switch(m1(s)){case 2:var f=cR;break;case 8:f=uR;break;default:f=Ig}a=f.bind(null,s,a,i),f=void 0,!da||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function dg(i,s,a,c,f){var d=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=c.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Ui(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){c=d=v;continue e}S=S.parentNode}}c=c.return}us(function(){var q=d,X=Wn(a),ee=[];e:{var G=__.get(i);if(G!==void 0){var K=Gi,me=i;switch(i){case"keypress":if(ga(a)===0)break e;case"keydown":case"keyup":K=Zu;break;case"focusin":me="focus",K=ya;break;case"focusout":me="blur",K=ya;break;case"beforeblur":case"afterblur":K=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case m_:case g_:case p_:K=Gu;break;case y_:K=b;break;case"scroll":case"scrollend":K=Kl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=gr;break;case"toggle":case"beforetoggle":K=Ce}var Ee=(s&4)!==0,nt=!Ee&&(i==="scroll"||i==="scrollend"),U=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var M=q,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=yi(M,U),J!=null&&Ee.push(bc(M,J,H))),nt)break;M=M.return}0<Ee.length&&(G=new K(G,me,null,a,X),ee.push({event:G,listeners:Ee}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",G&&a!==ql&&(me=a.relatedTarget||a.fromElement)&&(Ui(me)||me[Li]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=q,me=me?Ui(me):null,me!==null&&(nt=l(me),Ee=me.tag,me!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(K=null,me=q),K!==me)){if(Ee=Yl,J="onMouseLeave",U="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=gr,J="onPointerLeave",U="onPointerEnter",M="pointer"),nt=K==null?G:Mn(K),H=me==null?G:Mn(me),G=new Ee(J,M+"leave",K,a,X),G.target=nt,G.relatedTarget=H,J=null,Ui(X)===q&&(Ee=new Ee(U,M+"enter",me,a,X),Ee.target=H,Ee.relatedTarget=nt,J=Ee),nt=J,K&&me)t:{for(Ee=L2,U=K,M=me,H=0,J=U;J;J=Ee(J))H++;J=0;for(var ye=M;ye;ye=Ee(ye))J++;for(;0<H-J;)U=Ee(U),H--;for(;0<J-H;)M=Ee(M),J--;for(;H--;){if(U===M||M!==null&&U===M.alternate){Ee=U;break t}U=Ee(U),M=Ee(M)}Ee=null}else Ee=null;K!==null&&zv(ee,G,K,Ee,!1),me!==null&&nt!==null&&zv(ee,nt,me,Ee,!0)}}e:{if(G=q?Mn(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var He=i_;else if(t_(G))if(r_)He=KA;else{He=GA;var ge=qA}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&lo(q.elementType)&&(He=i_):He=$A;if(He&&(He=He(i,q))){n_(ee,He,a,X);break e}ge&&ge(i,G,q),i==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&jl(G,"number",G.value)}switch(ge=q?Mn(q):window,i){case"focusin":(t_(ge)||ge.contentEditable==="true")&&(yo=ge,Fd=q,Jl=null);break;case"focusout":Jl=Fd=yo=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,f_(ee,a,X);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":f_(ee,a,X)}var Oe;if(Ge)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else po?_a(i,a)&&(xe="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Yi&&a.locale!=="ko"&&(po||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&po&&(Oe=$l()):(qi=X,Gl="value"in qi?qi.value:qi.textContent,po=!0)),ge=Fh(q,xe),0<ge.length&&(xe=new Ki(xe,i,null,a,X),ee.push({event:xe,listeners:ge}),Oe?xe.data=Oe:(Oe=go(a),Oe!==null&&(xe.data=Oe)))),(Oe=Jn?zA(i,a):jA(i,a))&&(xe=Fh(q,"onBeforeInput"),0<xe.length&&(ge=new Ki("onBeforeInput","beforeinput",null,a,X),ee.push({event:ge,listeners:xe}),ge.data=Oe)),k2(ee,i,q,a,X)}Uv(ee,s)})}function bc(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Fh(i,s){for(var a=s+"Capture",c=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=yi(i,a),f!=null&&c.unshift(bc(i,f,d)),f=yi(i,s),f!=null&&c.push(bc(i,f,d))),i.tag===3)return c;i=i.return}return[]}function L2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zv(i,s,a,c,f){for(var d=s._reactName,v=[];a!==null&&a!==c;){var S=a,O=S.alternate,q=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||q===null||(O=q,f?(q=yi(a,d),q!=null&&v.unshift(bc(a,q,O))):f||(q=yi(a,d),q!=null&&v.push(bc(a,q,O)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var V2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function jv(i){return(typeof i=="string"?i:""+i).replace(V2,`
`).replace(U2,"")}function Fv(i,s){return s=jv(s),jv(i)===s}function tt(i,s,a,c,f,d){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||bn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&bn(i,""+c);break;case"className":Pn(i,"class",c);break;case"tabIndex":Pn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,a,c);break;case"style":Hl(i,c,d);break;case"data":if(s!=="object"){Pn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=co(""+c),i.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&tt(i,s,"name",f.name,f,null),tt(i,s,"formEncType",f.formEncType,f,null),tt(i,s,"formMethod",f.formMethod,f,null),tt(i,s,"formTarget",f.formTarget,f,null)):(tt(i,s,"encType",f.encType,f,null),tt(i,s,"method",f.method,f,null),tt(i,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=co(""+c),i.setAttribute(a,c);break;case"onClick":c!=null&&(i.onclick=pi);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}a=co(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""+c):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":c===!0?i.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,c):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(a,c):i.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(a):i.setAttribute(a,c);break;case"popover":Me("beforetoggle",i),Me("toggle",i),ao(i,"popover",c);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ao(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,ao(i,a,c))}}function mg(i,s,a,c,f,d){switch(a){case"style":Hl(i,c,d);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof c=="string"?bn(i,c):(typeof c=="number"||typeof c=="bigint")&&bn(i,""+c);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof c=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,c,f);break e}a in i?i[a]=c:c===!0?i.setAttribute(a,""):ao(i,a,c)}}}function rn(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var c=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,d,v,a,null)}}f&&tt(i,s,"srcSet",a.srcSet,a,null),c&&tt(i,s,"src",a.src,a,null);return;case"input":Me("invalid",i);var S=d=v=f=null,O=null,q=null;for(c in a)if(a.hasOwnProperty(c)){var X=a[c];if(X!=null)switch(c){case"name":f=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,c,X,a,null)}}Bu(i,d,S,O,q,v,f,!1);return;case"select":Me("invalid",i),c=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":c=S;default:tt(i,s,f,S,a,null)}s=d,a=v,i.multiple=!!c,s!=null?as(i,!!c,s,!1):a!=null&&as(i,!!c,a,!0);return;case"textarea":Me("invalid",i),d=f=c=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":c=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:tt(i,s,v,S,a,null)}os(i,c,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(c=a[O],c!=null)&&(O==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":tt(i,s,O,c,a,null));return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(c=0;c<Sc.length;c++)Me(Sc[c],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,q,c,a,null)}return;default:if(lo(s)){for(X in a)a.hasOwnProperty(X)&&(c=a[X],c!==void 0&&mg(i,s,X,c,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(c=a[S],c!=null&&tt(i,s,S,c,a,null))}function B2(i,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,O=null,q=null,X=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ee;default:c.hasOwnProperty(K)||tt(i,s,K,null,c,ee)}}for(var G in c){var K=c[G];if(ee=a[G],c.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ee&&tt(i,s,G,K,c,ee)}}oo(i,v,S,O,q,X,d,f);return;case"select":K=v=S=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:c.hasOwnProperty(d)||tt(i,s,d,null,c,O)}for(f in c)if(d=c[f],O=a[f],c.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==O&&tt(i,s,f,d,c,O)}s=S,a=v,c=K,G!=null?as(i,!!a,G,!1):!!c!=!!a&&(s!=null?as(i,!!a,s,!0):as(i,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,s,S,null,c,f)}for(v in c)if(f=c[v],d=a[v],c.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&tt(i,s,v,f,c,d)}zu(i,G,K);return;case"option":for(var me in a)G=a[me],a.hasOwnProperty(me)&&G!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:tt(i,s,me,null,c,G));for(O in c)G=c[O],K=a[O],c.hasOwnProperty(O)&&G!==K&&(G!=null||K!=null)&&(O==="selected"?i.selected=G&&typeof G!="function"&&typeof G!="symbol":tt(i,s,O,G,c,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!c.hasOwnProperty(Ee)&&tt(i,s,Ee,null,c,G);for(q in c)if(G=c[q],K=a[q],c.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:tt(i,s,q,G,c,K)}return;default:if(lo(s)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!c.hasOwnProperty(nt)&&mg(i,s,nt,void 0,c,G);for(X in c)G=c[X],K=a[X],!c.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||mg(i,s,X,G,c,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!c.hasOwnProperty(U)&&tt(i,s,U,null,c,G);for(ee in c)G=c[ee],K=a[ee],!c.hasOwnProperty(ee)||G===K||G==null&&K==null||tt(i,s,ee,G,c,K)}function Hv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&Hv(v)){for(v=0,S=f.responseEnd,c+=1;c<a.length;c++){var O=a[c],q=O.startTime;if(q>S)break;var X=O.transferSize,ee=O.initiatorType;X&&Hv(ee)&&(O=O.responseEnd,v+=X*(O<S?1:(S-q)/(O-q)))}if(--c,s+=8*(d+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var gg=null,pg=null;function Hh(i){return i.nodeType===9?i:i.ownerDocument}function qv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function yg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _g=null;function j2(){var i=window.event;return i&&i.type==="popstate"?i===_g?!1:(_g=i,!0):(_g=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(i){return Kv.resolve(null).then(i).catch(q2)}:$v;function q2(i){setTimeout(function(){throw i})}function Ns(i){return i==="head"}function Yv(i,s){var a=s,c=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){i.removeChild(f),qo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Ac(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Ac(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ac(i.ownerDocument.body);a=f}while(a);qo(s)}function Qv(i,s){var a=i;i=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=c}while(a)}function vg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vg(a),so(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function G2(i,s,a,c){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Vi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function $2(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ai(i.nextSibling),i===null))return null;return i}function Xv(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ai(i.nextSibling),i===null))return null;return i}function Eg(i){return i.data==="$?"||i.data==="$~"}function wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function K2(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ai(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Tg=null;function Wv(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return ai(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function Zv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function Jv(i,s,a){switch(s=Hh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ac(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);so(i)}var oi=new Map,e1=new Set;function qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nr=le.d;le.d={f:Y2,r:Q2,D:X2,C:W2,L:Z2,m:J2,X:tR,S:eR,M:nR};function Y2(){var i=Nr.f(),s=xh();return i||s}function Q2(i){var s=Xn(i);s!==null&&s.tag===5&&s.type==="form"?y0(s):Nr.r(i)}var jo=typeof document>"u"?null:document;function t1(i,s,a){var c=jo;if(c&&typeof s=="string"&&s){var f=Sn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),e1.has(f)||(e1.add(f),i={rel:i,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),rn(s,"link",i),Ot(s),c.head.appendChild(s)))}}function X2(i){Nr.D(i),t1("dns-prefetch",i,null)}function W2(i,s){Nr.C(i,s),t1("preconnect",i,s)}function Z2(i,s,a){Nr.L(i,s,a);var c=jo;if(c&&i&&s){var f='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Sn(a.imageSizes)+'"]')):f+='[href="'+Sn(i)+'"]';var d=f;switch(s){case"style":d=Fo(i);break;case"script":d=Ho(i)}oi.has(d)||(i=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),oi.set(d,i),c.querySelector(f)!==null||s==="style"&&c.querySelector(Rc(d))||s==="script"&&c.querySelector(Ic(d))||(s=c.createElement("link"),rn(s,"link",i),Ot(s),c.head.appendChild(s)))}}function J2(i,s){Nr.m(i,s);var a=jo;if(a&&i){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',d=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ho(i)}if(!oi.has(d)&&(i=w({rel:"modulepreload",href:i},s),oi.set(d,i),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ic(d)))return}c=a.createElement("link"),rn(c,"link",i),Ot(c),a.head.appendChild(c)}}}function eR(i,s,a){Nr.S(i,s,a);var c=jo;if(c&&i){var f=Bi(c).hoistableStyles,d=Fo(i);s=s||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=c.querySelector(Rc(d)))S.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":s},a),(a=oi.get(d))&&Sg(i,a);var O=v=c.createElement("link");Ot(O),rn(O,"link",i),O._p=new Promise(function(q,X){O.onload=q,O.onerror=X}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gh(v,s,c)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function tR(i,s){Nr.X(i,s);var a=jo;if(a&&i){var c=Bi(a).hoistableScripts,f=Ho(i),d=c.get(f);d||(d=a.querySelector(Ic(f)),d||(i=w({src:i,async:!0},s),(s=oi.get(f))&&bg(i,s),d=a.createElement("script"),Ot(d),rn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},c.set(f,d))}}function nR(i,s){Nr.M(i,s);var a=jo;if(a&&i){var c=Bi(a).hoistableScripts,f=Ho(i),d=c.get(f);d||(d=a.querySelector(Ic(f)),d||(i=w({src:i,async:!0,type:"module"},s),(s=oi.get(f))&&bg(i,s),d=a.createElement("script"),Ot(d),rn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},c.set(f,d))}}function n1(i,s,a,c){var f=(f=Ne.current)?qh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Fo(a.href),a=Bi(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Fo(a.href);var d=Bi(f).hoistableStyles,v=d.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=f.querySelector(Rc(i)))&&!d._p&&(v.instance=d,v.state.loading=5),oi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oi.set(i,a),d||iR(f,i,a,v.state))),s&&c===null)throw Error(r(528,""));return v}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(a),a=Bi(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Fo(i){return'href="'+Sn(i)+'"'}function Rc(i){return'link[rel="stylesheet"]['+i+"]"}function i1(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function iR(i,s,a,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",a),Ot(s),i.head.appendChild(s))}function Ho(i){return'[src="'+Sn(i)+'"]'}function Ic(i){return"script[async]"+i}function r1(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(c)return s.instance=c,Ot(c),c;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ot(c),rn(c,"style",f),Gh(c,a.precedence,i),s.instance=c;case"stylesheet":f=Fo(a.href);var d=i.querySelector(Rc(f));if(d)return s.state.loading|=4,s.instance=d,Ot(d),d;c=i1(a),(f=oi.get(f))&&Sg(c,f),d=(i.ownerDocument||i).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),rn(d,"link",c),s.state.loading|=4,Gh(d,a.precedence,i),s.instance=d;case"script":return d=Ho(a.src),(f=i.querySelector(Ic(d)))?(s.instance=f,Ot(f),f):(c=a,(f=oi.get(d))&&(c=w({},a),bg(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ot(f),rn(f,"link",c),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Gh(c,a.precedence,i));return s.instance}function Gh(i,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,d=f,v=0;v<c.length;v++){var S=c[v];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Sg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var $h=null;function s1(i,s,a){if($h===null){var c=new Map,f=$h=new Map;f.set(a,c)}else f=$h,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(i))return c;for(c.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Vi]||d[Nt]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=i+v;var S=c.get(v);S?S.push(d):c.set(v,[d])}}return c}function a1(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function rR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function o1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sR(i,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Fo(c.href),d=s.querySelector(Rc(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Kh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,Ot(d);return}d=s.ownerDocument||s,c=i1(c),(f=oi.get(f))&&Sg(c,f),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),rn(d,"link",c),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Kh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Ag=0;function aR(i,s){return i.stylesheets&&i.count===0&&Qh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var c=setTimeout(function(){if(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Ag===0&&(Ag=62500*z2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Ag?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yh=null;function Qh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yh=new Map,s.forEach(oR,i),Yh=null,Kh.call(i))}function oR(i,s){if(!(s.state.loading&4)){var a=Yh.get(i);if(a)var c=a.get(null);else{a=new Map,Yh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),c=v)}c&&a.set(null,c)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||c,d===c&&a.set(null,f),a.set(v,f),this.count++,c=Kh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Cc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function lR(i,s,a,c,f,d,v,S,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function l1(i,s,a,c,f,d,v,S,O,q,X,ee){return i=new lR(i,s,a,v,O,q,X,ee,S),s=1,d===!0&&(s|=24),d=Ln(3,null,null,s),i.current=d,d.stateNode=i,s=rm(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:c,isDehydrated:a,cache:s},lm(d),i}function c1(i){return i?(i=Eo,i):Eo}function u1(i,s,a,c,f,d){f=c1(f),c.context===null?c.context=f:c.pendingContext=f,c=vs(s),c.payload={element:a},d=d===void 0?null:d,d!==null&&(c.callback=d),a=Es(i,c,s),a!==null&&(Dn(a,i,s),ac(a,i,s))}function h1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Rg(i,s){h1(i,s),(i=i.alternate)&&h1(i,s)}function f1(i){if(i.tag===13||i.tag===31){var s=wa(i,67108864);s!==null&&Dn(s,i,67108864),Rg(i,67108864)}}function d1(i){if(i.tag===13||i.tag===31){var s=jn();s=ca(s);var a=wa(i,s);a!==null&&Dn(a,i,s),Rg(i,s)}}var Xh=!0;function cR(i,s,a,c){var f=W.T;W.T=null;var d=le.p;try{le.p=2,Ig(i,s,a,c)}finally{le.p=d,W.T=f}}function uR(i,s,a,c){var f=W.T;W.T=null;var d=le.p;try{le.p=8,Ig(i,s,a,c)}finally{le.p=d,W.T=f}}function Ig(i,s,a,c){if(Xh){var f=Cg(c);if(f===null)dg(i,s,c,Wh,a),g1(i,c);else if(fR(f,i,s,a,c))c.stopPropagation();else if(g1(i,c),s&4&&-1<hR.indexOf(i)){for(;f!==null;){var d=Xn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mi(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-Tt(v);S.entanglements[1]|=O,v&=~O}Zi(d),($e&6)===0&&(Mh=gn()+500,Tc(0))}}break;case 31:case 13:S=wa(d,2),S!==null&&Dn(S,d,2),xh(),Rg(d,2)}if(d=Cg(c),d===null&&dg(i,s,c,Wh,a),d===f)break;f=d}f!==null&&c.stopPropagation()}else dg(i,s,c,null,a)}}function Cg(i){return i=Wn(i),Dg(i)}var Wh=null;function Dg(i){if(Wh=null,i=Ui(i),i!==null){var s=l(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=u(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wh=i,null}function m1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case Ol:return 2;case kl:return 8;case rs:case xd:return 32;case Du:return 268435456;default:return 32}default:return 32}}var Ng=!1,Os=null,ks=null,Ms=null,Dc=new Map,Nc=new Map,Ps=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g1(i,s){switch(i){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Dc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(s.pointerId)}}function Oc(i,s,a,c,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Xn(s),s!==null&&f1(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function fR(i,s,a,c,f){switch(s){case"focusin":return Os=Oc(Os,i,s,a,c,f),!0;case"dragenter":return ks=Oc(ks,i,s,a,c,f),!0;case"mouseover":return Ms=Oc(Ms,i,s,a,c,f),!0;case"pointerover":var d=f.pointerId;return Dc.set(d,Oc(Dc.get(d)||null,i,s,a,c,f)),!0;case"gotpointercapture":return d=f.pointerId,Nc.set(d,Oc(Nc.get(d)||null,i,s,a,c,f)),!0}return!1}function p1(i){var s=Ui(i.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){i.blockedOn=s,mi(i.priority,function(){d1(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,mi(i.priority,function(){d1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Cg(i.nativeEvent);if(a===null){a=i.nativeEvent;var c=new a.constructor(a.type,a);ql=c,a.target.dispatchEvent(c),ql=null}else return s=Xn(a),s!==null&&f1(s),i.blockedOn=a,!1;s.shift()}return!0}function y1(i,s,a){Zh(i)&&a.delete(s)}function dR(){Ng=!1,Os!==null&&Zh(Os)&&(Os=null),ks!==null&&Zh(ks)&&(ks=null),Ms!==null&&Zh(Ms)&&(Ms=null),Dc.forEach(y1),Nc.forEach(y1)}function Jh(i,s){i.blockedOn===s&&(i.blockedOn=null,Ng||(Ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dR)))}var ef=null;function _1(i){ef!==i&&(ef=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ef===i&&(ef=null);for(var s=0;s<i.length;s+=3){var a=i[s],c=i[s+1],f=i[s+2];if(typeof c!="function"){if(Dg(c||a)===null)continue;break}var d=Xn(a);d!==null&&(i.splice(s,3),s-=3,Cm(d,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function qo(i){function s(O){return Jh(O,i)}Os!==null&&Jh(Os,i),ks!==null&&Jh(ks,i),Ms!==null&&Jh(Ms,i),Dc.forEach(s),Nc.forEach(s);for(var a=0;a<Ps.length;a++){var c=Ps[a];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)p1(a),a.blockedOn===null&&Ps.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],d=a[c+1],v=f[Gt]||null;if(typeof d=="function")v||_1(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Gt]||null)S=v.formAction;else if(Dg(f)!==null)continue}else S=v.action;typeof S=="function"?a[c+1]=S:(a.splice(c,3),c-=3),_1(a)}}}function v1(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Og(i){this._internalRoot=i}tf.prototype.render=Og.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=jn();u1(a,c,i,s,null,null)},tf.prototype.unmount=Og.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;u1(i.current,2,null,i,null,null),xh(),s[Li]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var s=xu();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Ps.length&&s!==0&&s<Ps[a].priority;a++);Ps.splice(a,0,i),a===0&&p1(i)}};var E1=e.version;if(E1!=="19.2.3")throw Error(r(527,E1,"19.2.3"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var mR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{fi=nf.inject(mR),Zt=nf}catch{}}return Mc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,c="",f=I0,d=C0,v=D0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=l1(i,1,!1,null,null,a,c,null,f,d,v,v1),i[Li]=s.current,fg(i),new Og(s)},Mc.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var c=!1,f="",d=I0,v=C0,S=D0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=l1(i,1,!0,s,a??null,c,f,O,d,v,S,v1),s.context=c1(null),a=s.current,c=jn(),c=ca(c),f=vs(c),f.callback=null,Es(a,f,c),a=c,s.current.lanes=a,oa(s,a),Zi(s),i[Li]=s.current,fg(i),new tf(s)},Mc.version="19.2.3",Mc}var N1;function RR(){if(N1)return Pg.exports;N1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=AR(),Pg.exports}var IR=RR();const CR=kw(IR),DR="modulepreload",NR=function(n){return"/"+n},O1={},Fn=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let g=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=u?.nonce||u?.getAttribute("nonce");o=g(t.map(p=>{if(p=NR(p),p in O1)return;O1[p]=!0;const _=p.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":DR,_||(T.as="script"),T.crossOrigin="",T.href=p,m&&T.setAttribute("nonce",m),document.head.appendChild(T),_)return new Promise((C,j)=>{T.addEventListener("load",C),T.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return o.then(u=>{for(const m of u||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})};var k1="popstate";function OR(n={}){function e(r,o){let{pathname:l,search:u,hash:m}=r.location;return cp("",{pathname:l,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Jc(o)}return MR(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substring(2,10)}function M1(n,e){return{usr:n.state,key:n.key,idx:e}}function cp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:t,key:e&&e.key||r||kR()}}function Jc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MR(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,u=o.history,m="POP",g=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function w(){m="POP";let P=_(),Y=P==null?null:P-p;p=P,g&&g({action:m,location:V.location,delta:Y})}function T(P,Y){m="PUSH";let B=cp(V.location,P,Y);p=_()+1;let Q=M1(B,p),se=V.createHref(B);try{u.pushState(Q,"",se)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(se)}l&&g&&g({action:m,location:V.location,delta:1})}function C(P,Y){m="REPLACE";let B=cp(V.location,P,Y);p=_();let Q=M1(B,p),se=V.createHref(B);u.replaceState(Q,"",se),l&&g&&g({action:m,location:V.location,delta:0})}function j(P){return PR(P)}let V={get action(){return m},get location(){return n(o,u)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(k1,w),g=P,()=>{o.removeEventListener(k1,w),g=null}},createHref(P){return e(o,P)},createURL:j,encodeLocation(P){let Y=j(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:C,go(P){return u.go(P)}};return V}function PR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Mw(n,e,t="/"){return xR(n,e,t,!1)}function xR(n,e,t,r){let o=typeof e=="string"?gl(e):e,l=Kr(o.pathname||"/",t);if(l==null)return null;let u=Pw(n);LR(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=KR(l);m=GR(u[g],p,r)}return m}function Pw(n,e=[],t=[],r="",o=!1){let l=(u,m,g=o,p)=>{let _={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;mt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let w=zr([r,_.relativePath]),T=t.concat(_);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Pw(u.children,e,T,w,g)),!(u.path==null&&!u.index)&&e.push({path:w,score:HR(w,u.index),routesMeta:T})};return n.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let g of xw(u.path))l(u,m,!0,g)}),e}function xw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let u=xw(r.join("/")),m=[];return m.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...u),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function LR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VR=/^:[\w-]+$/,UR=3,BR=2,zR=1,jR=10,FR=-2,P1=n=>n==="*";function HR(n,e){let t=n.split("/"),r=t.length;return t.some(P1)&&(r+=FR),e&&(r+=BR),t.filter(o=>!P1(o)).reduce((o,l)=>o+(VR.test(l)?UR:l===""?zR:jR),r)}function qR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function GR(n,e,t=!1){let{routesMeta:r}=n,o={},l="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=Df({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),T=g.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Df({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:zr([l,w.pathname]),pathnameBase:WR(zr([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=zr([l,w.pathnameBase]))}return u}function Df(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$R(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:w},T)=>{if(_==="*"){let j=m[T]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const C=m[T];return w&&!C?p[_]=void 0:p[_]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function $R(n,e=!1,t=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function KR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YR=n=>Lw.test(n);function QR(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?gl(n):n,l;if(t)if(YR(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=x1(t.substring(1),"/"):l=x1(t,e)}else l=e;return{pathname:l,search:ZR(r),hash:JR(o)}}function x1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ug(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jp(n){let e=XR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Fp(n,e,t,r=!1){let o;typeof n=="string"?o=gl(n):(o={...n},mt(!o.pathname||!o.pathname.includes("?"),Ug("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Ug("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Ug("#","search","hash",o)));let l=n===""||o.pathname==="",u=l?"/":o.pathname,m;if(u==null)m=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}m=w>=0?e[w]:"/"}let g=QR(o,m),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),WR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,eI=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function nI(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Uw(n,e){let t=n;if(typeof t!="string"||!Lw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(Vw)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),m=Kr(u.pathname,e);u.origin===l.origin&&m!=null?t=m+u.search+u.hash:o=!0}catch{ci(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var iI=["GET",...Bw];new Set(iI);var pl=A.createContext(null);pl.displayName="DataRouter";var Jf=A.createContext(null);Jf.displayName="DataRouterState";var rI=A.createContext(!1),zw=A.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var sI=A.createContext(new Map);sI.displayName="Fetchers";var aI=A.createContext(null);aI.displayName="Await";var Yn=A.createContext(null);Yn.displayName="Navigation";var hu=A.createContext(null);hu.displayName="Location";var cr=A.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Hp=A.createContext(null);Hp.displayName="RouteError";var jw="REACT_ROUTER_ERROR",oI="REDIRECT",lI="ROUTE_ERROR_RESPONSE";function cI(n){if(n.startsWith(`${jw}:${oI}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uI(n){if(n.startsWith(`${jw}:${lI}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eI(e.status,e.statusText,e.data)}catch{}}function hI(n,{relative:e}={}){mt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Yn),{hash:o,pathname:l,search:u}=fu(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:zr([t,l])),r.createHref({pathname:m,search:u,hash:o})}function yl(){return A.useContext(hu)!=null}function ts(){return mt(yl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(hu).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(n){A.useContext(Yn).static||A.useLayoutEffect(n)}function qw(){let{isDataRoute:n}=A.useContext(cr);return n?bI():fI()}function fI(){mt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(pl),{basename:e,navigator:t}=A.useContext(Yn),{matches:r}=A.useContext(cr),{pathname:o}=ts(),l=JSON.stringify(jp(r)),u=A.useRef(!1);return Hw(()=>{u.current=!0}),A.useCallback((g,p={})=>{if(ci(u.current,Fw),!u.current)return;if(typeof g=="number"){t.go(g);return}let _=Fp(g,JSON.parse(l),o,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:zr([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,o,n])}A.createContext(null);function fu(n,{relative:e}={}){let{matches:t}=A.useContext(cr),{pathname:r}=ts(),o=JSON.stringify(jp(t));return A.useMemo(()=>Fp(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function dI(n,e){return Gw(n,e)}function Gw(n,e,t,r,o){mt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Yn),{matches:u}=A.useContext(cr),m=u[u.length-1],g=m?m.params:{},p=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let B=w&&w.path||"";Kw(p,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=ts(),C;if(e){let B=typeof e=="string"?gl(e):e;mt(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=T;let j=C.pathname||"/",V=j;if(_!=="/"){let B=_.replace(/^\//,"").split("/");V="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=Mw(n,{pathname:V});ci(w||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ci(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=_I(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:zr([_,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:zr([_,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,t,r,o);return e&&Y?A.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Y):Y}function mI(){let n=SI(),e=tI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:o},t):null,u)}var gI=A.createElement(mI,null),$w=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=uI(n.digest);t&&(n=t)}let e=n!==void 0?A.createElement(cr.Provider,{value:this.props.routeContext},A.createElement(Hp.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?A.createElement(pI,{error:n},e):e}};$w.contextType=rI;var Bg=new WeakMap;function pI({children:n,error:e}){let{basename:t}=A.useContext(Yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=cI(e.digest);if(r){let o=Bg.get(e);if(o)throw o;let l=Uw(r.location,t);if(Vw&&!Bg.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Bg.set(e,u),u}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function yI({routeContext:n,match:e,children:t}){let r=A.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(cr.Provider,{value:n},t)}function _I(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let _=l.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);mt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let m=!1,g=-1;if(t)for(let _=0;_<l.length;_++){let w=l[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=_),w.route.id){let{loaderData:T,errors:C}=t,j=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||j){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let p=t&&r?(_,w)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:nI(t.matches),errorInfo:w})}:void 0;return l.reduceRight((_,w,T)=>{let C,j=!1,V=null,P=null;t&&(C=u&&w.route.id?u[w.route.id]:void 0,V=w.route.errorElement||gI,m&&(g<0&&T===0?(Kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):g===T&&(j=!0,P=w.route.hydrateFallbackElement||null)));let Y=e.concat(l.slice(0,T+1)),B=()=>{let Q;return C?Q=V:j?Q=P:w.route.Component?Q=A.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=_,A.createElement(yI,{match:w,routeContext:{outlet:_,matches:Y,isDataRoute:t!=null},children:Q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?A.createElement($w,{location:t.location,revalidation:t.revalidation,component:V,error:C,children:B(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):B()},null)}function qp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vI(n){let e=A.useContext(pl);return mt(e,qp(n)),e}function EI(n){let e=A.useContext(Jf);return mt(e,qp(n)),e}function wI(n){let e=A.useContext(cr);return mt(e,qp(n)),e}function Gp(n){let e=wI(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TI(){return Gp("useRouteId")}function SI(){let n=A.useContext(Hp),e=EI("useRouteError"),t=Gp("useRouteError");return n!==void 0?n:e.errors?.[t]}function bI(){let{router:n}=vI("useNavigate"),e=Gp("useNavigate"),t=A.useRef(!1);return Hw(()=>{t.current=!0}),A.useCallback(async(o,l={})=>{ci(t.current,Fw),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var L1={};function Kw(n,e,t){!e&&!L1[n]&&(L1[n]=!0,ci(!1,t))}A.memo(AI);function AI({routes:n,future:e,state:t,onError:r}){return Gw(n,void 0,t,r,e)}function RI({to:n,replace:e,state:t,relative:r}){mt(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(Yn);ci(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(cr),{pathname:u}=ts(),m=qw(),g=Fp(n,jp(l),u,r==="path"),p=JSON.stringify(g);return A.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:r})},[m,p,r,e,t]),null}function xa(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function II({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){mt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=A.useMemo(()=>({basename:m,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[m,o,l,u]);typeof t=="string"&&(t=gl(t));let{pathname:p="/",search:_="",hash:w="",state:T=null,key:C="default"}=t,j=A.useMemo(()=>{let V=Kr(p,m);return V==null?null:{location:{pathname:V,search:_,hash:w,state:T,key:C},navigationType:r}},[m,p,_,w,T,C,r]);return ci(j!=null,`<Router basename="${m}"> is not able to match the URL "${p}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:A.createElement(Yn.Provider,{value:g},A.createElement(hu.Provider,{children:e,value:j}))}function CI({children:n,location:e}){return dI(up(n),e)}function up(n,e=[]){let t=[];return A.Children.forEach(n,(r,o)=>{if(!A.isValidElement(r))return;let l=[...e,o];if(r.type===A.Fragment){t.push.apply(t,up(r.props.children,l));return}mt(r.type===xa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=up(r.props.children,l)),t.push(u)}),t}var yf="get",_f="application/x-www-form-urlencoded";function ed(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function DI(n){return ed(n)&&n.tagName.toLowerCase()==="button"}function NI(n){return ed(n)&&n.tagName.toLowerCase()==="form"}function OI(n){return ed(n)&&n.tagName.toLowerCase()==="input"}function kI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MI(n,e){return n.button===0&&(!e||e==="_self")&&!kI(n)}var rf=null;function PI(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var xI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zg(n){return n!=null&&!xI.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):n}function LI(n,e){let t,r,o,l,u;if(NI(n)){let m=n.getAttribute("action");r=m?Kr(m,e):null,t=n.getAttribute("method")||yf,o=zg(n.getAttribute("enctype"))||_f,l=new FormData(n)}else if(DI(n)||OI(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(r=g?Kr(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||yf,o=zg(n.getAttribute("formenctype"))||zg(m.getAttribute("enctype"))||_f,l=new FormData(m,n),!PI()){let{name:p,type:_,value:w}=n;if(_==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,w)}}else{if(ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yf,r=null,o=_f,u=n}return l&&o==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function VI(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Kr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function UI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zI(n,e,t){let r=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await UI(l,t);return u.links?u.links():[]}return[]}));return qI(r.flat(1).filter(BI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V1(n,e,t,r,o,l){let u=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>u(g,p)||m(g,p)):l==="data"?e.filter((g,p)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(u(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jI(n,e,{includeHydrateFallback:t}={}){return FI(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function FI(n){return[...new Set(n)]}function HI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let l=JSON.stringify(HI(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function Yw(){let n=A.useContext(pl);return $p(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GI(){let n=A.useContext(Jf);return $p(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kp=A.createContext(void 0);Kp.displayName="FrameworkContext";function Qw(){let n=A.useContext(Kp);return $p(n,"You must render this element inside a <HydratedRouter> element"),n}function $I(n,e){let t=A.useContext(Kp),[r,o]=A.useState(!1),[l,u]=A.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:w}=e,T=A.useRef(null);A.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=Y=>{Y.forEach(B=>{u(B.isIntersecting)})},P=new IntersectionObserver(V,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[n]),A.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let C=()=>{o(!0)},j=()=>{o(!1),u(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Pc(m,C),onBlur:Pc(g,j),onMouseEnter:Pc(p,C),onMouseLeave:Pc(_,j),onTouchStart:Pc(w,C)}]:[!1,T,{}]}function Pc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KI({page:n,...e}){let{router:t}=Yw(),r=A.useMemo(()=>Mw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(QI,{page:n,matches:r,...e}):null}function YI(n){let{manifest:e,routeModules:t}=Qw(),[r,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return zI(n,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[n,e,t]),r}function QI({page:n,matches:e,...t}){let r=ts(),{future:o,manifest:l,routeModules:u}=Qw(),{basename:m}=Yw(),{loaderData:g,matches:p}=GI(),_=A.useMemo(()=>V1(n,e,p,l,r,"data"),[n,e,p,l,r]),w=A.useMemo(()=>V1(n,e,p,l,r,"assets"),[n,e,p,l,r]),T=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let V=new Set,P=!1;if(e.forEach(B=>{let Q=l.routes[B.route.id];!Q||!Q.hasLoader||(!_.some(se=>se.route.id===B.route.id)&&B.route.id in g&&u[B.route.id]?.shouldRevalidate||Q.hasClientLoader?P=!0:V.add(B.route.id))}),V.size===0)return[];let Y=VI(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return P&&V.size>0&&Y.searchParams.set("_routes",e.filter(B=>V.has(B.route.id)).map(B=>B.route.id).join(",")),[Y.pathname+Y.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,l,_,e,n,u]),C=A.useMemo(()=>jI(w,l),[w,l]),j=YI(w);return A.createElement(A.Fragment,null,T.map(V=>A.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),C.map(V=>A.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),j.map(({key:V,link:P})=>A.createElement("link",{key:V,nonce:t.nonce,...P})))}function XI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WI&&(window.__reactRouterVersion="7.12.0")}catch{}function ZI({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=A.useRef();o.current==null&&(o.current=OR({window:r,v5Compat:!0}));let l=o.current,[u,m]=A.useState({action:l.action,location:l.location}),g=A.useCallback(p=>{t===!1?m(p):A.startTransition(()=>m(p))},[t]);return A.useLayoutEffect(()=>l.listen(g),[l,g]),A.createElement(II,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var Xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ww=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:u,state:m,target:g,to:p,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T,...C},j){let{basename:V,unstable_useTransitions:P}=A.useContext(Yn),Y=typeof p=="string"&&Xw.test(p),B=Uw(p,V);p=B.to;let Q=hI(p,{relative:o}),[se,fe,de]=$I(r,C),I=nC(p,{replace:u,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:T,unstable_useTransitions:P});function R(L){e&&e(L),L.defaultPrevented||I(L)}let D=A.createElement("a",{...C,...de,href:B.absoluteURL||Q,onClick:B.isExternal||l?e:R,ref:XI(j,fe),target:g,"data-discover":!Y&&t==="render"?"true":void 0});return se&&!Y?A.createElement(A.Fragment,null,D,A.createElement(KI,{page:Q})):D});Ww.displayName="Link";var JI=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:u,viewTransition:m,children:g,...p},_){let w=fu(u,{relative:p.relative}),T=ts(),C=A.useContext(Jf),{navigator:j,basename:V}=A.useContext(Yn),P=C!=null&&oC(w)&&m===!0,Y=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,B=T.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(B=B.toLowerCase(),Q=Q?Q.toLowerCase():null,Y=Y.toLowerCase()),Q&&V&&(Q=Kr(Q,V)||Q);const se=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let fe=B===Y||!o&&B.startsWith(Y)&&B.charAt(se)==="/",de=Q!=null&&(Q===Y||!o&&Q.startsWith(Y)&&Q.charAt(Y.length)==="/"),I={isActive:fe,isPending:de,isTransitioning:P},R=fe?e:void 0,D;typeof r=="function"?D=r(I):D=[r,fe?"active":null,de?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return A.createElement(Ww,{...p,"aria-current":R,className:D,ref:_,style:L,to:u,viewTransition:m},typeof g=="function"?g(I):g)});JI.displayName="NavLink";var eC=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:u=yf,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T,...C},j)=>{let{unstable_useTransitions:V}=A.useContext(Yn),P=sC(),Y=aC(m,{relative:p}),B=u.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&Xw.test(m),se=fe=>{if(g&&g(fe),fe.defaultPrevented)return;fe.preventDefault();let de=fe.nativeEvent.submitter,I=de?.getAttribute("formmethod")||u,R=()=>P(de||fe.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:o,state:l,relative:p,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T});V&&t!==!1?A.startTransition(()=>R()):R()};return A.createElement("form",{ref:j,method:B,action:Y,onSubmit:r?g:se,...C,"data-discover":!Q&&n==="render"?"true":void 0})});eC.displayName="Form";function tC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(n){let e=A.useContext(pl);return mt(e,tC(n)),e}function nC(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=qw(),_=ts(),w=fu(n,{relative:l});return A.useCallback(T=>{if(MI(T,e)){T.preventDefault();let C=t!==void 0?t:Jc(_)===Jc(w),j=()=>p(n,{replace:C,state:r,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:m});g?A.startTransition(()=>j()):j()}},[_,p,w,t,r,e,n,o,l,u,m,g])}var iC=0,rC=()=>`__${String(++iC)}__`;function sC(){let{router:n}=Zw("useSubmit"),{basename:e}=A.useContext(Yn),t=TI(),r=n.fetch,o=n.navigate;return A.useCallback(async(l,u={})=>{let{action:m,method:g,encType:p,formData:_,body:w}=LI(l,e);if(u.navigate===!1){let T=u.fetcherKey||rC();await r(T,t,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||g,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||g,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function aC(n,{relative:e}={}){let{basename:t}=A.useContext(Yn),r=A.useContext(cr);mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...fu(n||".",{relative:e})},u=ts();if(n==null){l.search=u.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zr([t,l.pathname])),Jc(l)}function oC(n,{relative:e}={}){let t=A.useContext(zw);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zw("useViewTransitionState"),o=fu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Kr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Kr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Df(o.pathname,u)!=null||Df(o.pathname,l)!=null}class La extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return(e?.message?.includes("Failed to fetch dynamically imported module")||e?.message?.includes("Importing a module script failed"))&&!sessionStorage.getItem("chunk_reload")?(sessionStorage.setItem("chunk_reload","true"),window.location.reload(),{hasError:!1}):{hasError:!0,error:e}}componentDidCatch(e,t){e?.message?.includes("Failed to fetch dynamically imported module")||sessionStorage.removeItem("chunk_reload"),console.error("Uncaught error caught by ErrorBoundary:",e,t),this.setState({error:e,errorInfo:t})}render(){if(this.state.hasError){if(window.location.pathname==="/"){const t=parseInt(sessionStorage.getItem("eb_reload_count")||"0");return t<3&&(sessionStorage.setItem("eb_reload_count",String(t+1)),setTimeout(()=>{window.location.reload()},1e4),setTimeout(()=>{sessionStorage.removeItem("eb_reload_count")},3e4)),re.jsx("div",{style:{padding:"40px",color:"#ff6b6b",background:"#121212",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:re.jsxs("div",{children:[re.jsx("h1",{style:{marginBottom:"20px",fontSize:"2rem"},children:"   "}),re.jsx("p",{style:{color:"white",marginBottom:"10px",fontSize:"1.2rem"},children:"   ..."}),re.jsx("p",{style:{color:"#888",fontSize:"0.9rem"},children:t<3?"10   ":"    "}),re.jsx("div",{style:{marginTop:"30px"},children:re.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"1rem"},children:" "})})]})})}return re.jsxs("div",{style:{padding:"40px",color:"#ff6b6b",background:"#121212",height:"100vh",overflow:"auto",fontFamily:"monospace"},children:[re.jsx("h1",{style:{marginBottom:"20px"},children:"   "}),re.jsx("p",{style:{color:"white",marginBottom:"10px"},children:"     ."}),re.jsxs("div",{style:{background:"rgba(255,107,107,0.1)",border:"1px solid #ff6b6b",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[re.jsx("h3",{style:{margin:"0 0 10px 0"},children:this.state.error&&this.state.error.toString()}),re.jsx("pre",{style:{fontSize:"0.8rem",opacity:.7,whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),re.jsxs("div",{style:{display:"flex",gap:"10px"},children:[re.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:" (F5)"}),re.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",background:"rgba(255,255,255,0.1)",color:"white",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",cursor:"pointer"},children:" "})]})]})}return this.props.children}}const lC=()=>{};var U1={};const Jw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},cC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],m=n[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,m=u?n[o+1]:0,g=o+2<n.length,p=g?n[o+2]:0,_=l>>2,w=(l&3)<<4|m>>4;let T=(m&15)<<2|p>>6,C=p&63;g||(C=64,u||(T=64)),r.push(t[_],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||m==null||p==null||w==null)throw new uC;const T=l<<2|m>>4;if(r.push(T),p!==64){const C=m<<4&240|p>>2;if(r.push(C),w!==64){const j=p<<6&192|w;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hC=function(n){const e=Jw(n);return eT.encodeByteArray(e,!0)},Nf=function(n){return hC(n).replace(/\./g,"")},tT=function(n){try{return eT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dC=()=>fC().__FIREBASE_DEFAULTS__,mC=()=>{if(typeof process>"u"||typeof U1>"u")return;const n=U1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tT(n[1]);return e&&JSON.parse(e)},td=()=>{try{return lC()||dC()||mC()||gC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nT=n=>td()?.emulatorHosts?.[n],Yp=n=>{const e=nT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iT=()=>td()?.config,rT=n=>td()?.[`_${n}`];class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function ur(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nd(n){return(await fetch(n,{credentials:"include"})).ok}function sT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nf(JSON.stringify(t)),Nf(JSON.stringify(u)),""].join(".")}const Gc={};function yC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?n.emulator.push(e):n.prod.push(e);return n}function _C(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let B1=!1;function id(n,e){if(typeof window>"u"||typeof document>"u"||!ur(window.location.host)||Gc[n]===e||Gc[n]||B1)return;Gc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=yC().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{B1=!0,u()},T}function _(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=_C(r),C=t("text"),j=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),P=document.getElementById(V)||document.createElement("a"),Y=t("preprendIcon"),B=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;m(Q),_(P,V);const se=p();g(B,Y),Q.append(B,j,P,se),document.body.appendChild(Q)}l?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function EC(){const n=td()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aT(){try{return typeof indexedDB=="object"}catch{return!1}}function oT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function RC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const IC="FirebaseError";class hi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IC,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?CC(l,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new hi(o,m,r)}}function CC(n,e){return n.replace(DC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DC=/\{\$([^}]+)}/g;function NC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=n[o],u=e[o];if(z1(l)&&z1(u)){if(!Fa(l,u))return!1}else if(l!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function z1(n){return n!==null&&typeof n=="object"}function du(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Bc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OC(n,e){const t=new kC(n,e);return t.subscribe.bind(t)}class kC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=jg),o.error===void 0&&(o.error=jg),o.complete===void 0&&(o.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jg(){}function Ye(n){return n&&n._delegate?n._delegate:n}class Kn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class PC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xC(n){return n===Va?void 0:n}function LC(n){return n.instantiationMode==="EAGER"}class VC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const UC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},BC=Le.INFO,zC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},jC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=zC[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=BC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let j1,F1;function HC(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return F1||(F1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,hp=new WeakMap,cT=new WeakMap,Fg=new WeakMap,Xp=new WeakMap;function GC(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(jr(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&lT.set(t,n)}).catch(()=>{}),Xp.set(e,n),e}function $C(n){if(hp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});hp.set(n,e)}let fp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KC(n){fp=n(fp)}function YC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Hg(this),e,...t);return cT.set(r,e.sort?e.sort():[e]),jr(r)}:qC().includes(n)?function(...e){return n.apply(Hg(this),e),jr(lT.get(this))}:function(...e){return jr(n.apply(Hg(this),e))}}function QC(n){return typeof n=="function"?YC(n):(n instanceof IDBTransaction&&$C(n),FC(n,HC())?new Proxy(n,fp):n)}function jr(n){if(n instanceof IDBRequest)return GC(n);if(Fg.has(n))return Fg.get(n);const e=QC(n);return e!==n&&(Fg.set(n,e),Xp.set(e,n)),e}const Hg=n=>Xp.get(n);function rd(n,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),m=jr(u);return r&&u.addEventListener("upgradeneeded",g=>{r(jr(u.result),g.oldVersion,g.newVersion,jr(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}function qg(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),jr(t).then(()=>{})}const XC=["get","getKey","getAll","getAllKeys","count"],WC=["put","add","delete","clear"],Gg=new Map;function H1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gg.get(e))return Gg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=WC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XC.includes(t)))return;const l=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Gg.set(e,l),l}KC(n=>({...n,get:(e,t,r)=>H1(e,t)||n.get(e,t,r),has:(e,t)=>!!H1(e,t)||n.has(e,t)}));class ZC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function JC(n){return n.getComponent()?.type==="VERSION"}const dp="@firebase/app",q1="0.14.6";const Yr=new Qp("@firebase/app"),eD="@firebase/app-compat",tD="@firebase/analytics-compat",nD="@firebase/analytics",iD="@firebase/app-check-compat",rD="@firebase/app-check",sD="@firebase/auth",aD="@firebase/auth-compat",oD="@firebase/database",lD="@firebase/data-connect",cD="@firebase/database-compat",uD="@firebase/functions",hD="@firebase/functions-compat",fD="@firebase/installations",dD="@firebase/installations-compat",mD="@firebase/messaging",gD="@firebase/messaging-compat",pD="@firebase/performance",yD="@firebase/performance-compat",_D="@firebase/remote-config",vD="@firebase/remote-config-compat",ED="@firebase/storage",wD="@firebase/storage-compat",TD="@firebase/firestore",SD="@firebase/ai",bD="@firebase/firestore-compat",AD="firebase",RD="12.6.0";const mp="[DEFAULT]",ID={[dp]:"fire-core",[eD]:"fire-core-compat",[nD]:"fire-analytics",[tD]:"fire-analytics-compat",[rD]:"fire-app-check",[iD]:"fire-app-check-compat",[sD]:"fire-auth",[aD]:"fire-auth-compat",[oD]:"fire-rtdb",[lD]:"fire-data-connect",[cD]:"fire-rtdb-compat",[uD]:"fire-fn",[hD]:"fire-fn-compat",[fD]:"fire-iid",[dD]:"fire-iid-compat",[mD]:"fire-fcm",[gD]:"fire-fcm-compat",[pD]:"fire-perf",[yD]:"fire-perf-compat",[_D]:"fire-rc",[vD]:"fire-rc-compat",[ED]:"fire-gcs",[wD]:"fire-gcs-compat",[TD]:"fire-fst",[bD]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[AD]:"fire-js-all"};const Of=new Map,CD=new Map,gp=new Map;function G1(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ui(n){const e=n.name;if(gp.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,n);for(const t of Of.values())G1(t,n);for(const t of CD.values())G1(t,n);return!0}function Zs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wn(n){return n==null?!1:n.settings!==void 0}const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Qa("app","Firebase",DD);class ND{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const Xa=RD;function uT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:mp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(t||(t=iT()),!t)throw js.create("no-options");const l=Of.get(o);if(l){if(Fa(t,l.options)&&Fa(r,l.config))return l;throw js.create("duplicate-app",{appName:o})}const u=new VC(o);for(const g of gp.values())u.addComponent(g);const m=new ND(t,r,u);return Of.set(o,m),m}function mu(n=mp){const e=Of.get(n);if(!e&&n===mp&&iT())return uT();if(!e)throw js.create("no-app",{appName:n});return e}function un(n,e,t){let r=ID[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(u.join(" "));return}ui(new Kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const OD="firebase-heartbeat-database",kD=1,eu="firebase-heartbeat-store";let $g=null;function hT(){return $g||($g=rd(OD,kD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw js.create("idb-open",{originalErrorMessage:n.message})})),$g}async function MD(n){try{const t=(await hT()).transaction(eu),r=await t.objectStore(eu).get(fT(n));return await t.done,r}catch(e){if(e instanceof hi)Yr.warn(e.message);else{const t=js.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}}async function $1(n,e){try{const r=(await hT()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,fT(n)),await r.done}catch(t){if(t instanceof hi)Yr.warn(t.message);else{const r=js.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}}function fT(n){return`${n.name}!${n.options.appId}`}const PD=1024,xD=30;class LD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xD){const o=BD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K1(),{heartbeatsToSend:t,unsentEntries:r}=VD(this._heartbeatsCache.heartbeats),o=Nf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yr.warn(e),""}}}function K1(){return new Date().toISOString().substring(0,10)}function VD(n,e=PD){const t=[];let r=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Y1(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Y1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class UD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aT()?oT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y1(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function BD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function zD(n){ui(new Kn("platform-logger",e=>new ZC(e),"PRIVATE")),ui(new Kn("heartbeat",e=>new LD(e),"PRIVATE")),un(dp,q1,n),un(dp,q1,"esm2020"),un("fire-js","")}zD("");var jD="firebase",FD="12.7.0";un(jD,FD,"app");var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,dT;(function(){var n;function e(I,R){function D(){}D.prototype=R.prototype,I.F=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(L,k,z){for(var N=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)N[ct-2]=arguments[ct];return R.prototype[k].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,D){D||(D=0);const L=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)L[k]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(k=0;k<16;++k)L[k]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],k=I.g[2];let z=I.g[3],N;N=R+(z^D&(k^z))+L[0]+3614090360&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(k^R&(D^k))+L[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(D^z&(R^D))+L[2]+606105819&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(R^k&(z^R))+L[3]+3250441966&4294967295,D=k+(N<<22&4294967295|N>>>10),N=R+(z^D&(k^z))+L[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(k^R&(D^k))+L[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(D^z&(R^D))+L[6]+2821735955&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(R^k&(z^R))+L[7]+4249261313&4294967295,D=k+(N<<22&4294967295|N>>>10),N=R+(z^D&(k^z))+L[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(k^R&(D^k))+L[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(D^z&(R^D))+L[10]+4294925233&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(R^k&(z^R))+L[11]+2304563134&4294967295,D=k+(N<<22&4294967295|N>>>10),N=R+(z^D&(k^z))+L[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(k^R&(D^k))+L[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(D^z&(R^D))+L[14]+2792965006&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(R^k&(z^R))+L[15]+1236535329&4294967295,D=k+(N<<22&4294967295|N>>>10),N=R+(k^z&(D^k))+L[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(R^D))+L[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^D&(z^R))+L[11]+643717713&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(k^z))+L[0]+3921069994&4294967295,D=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(D^k))+L[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(R^D))+L[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^D&(z^R))+L[15]+3634488961&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(k^z))+L[4]+3889429448&4294967295,D=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(D^k))+L[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(R^D))+L[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^D&(z^R))+L[3]+4107603335&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(k^z))+L[8]+1163531501&4294967295,D=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(D^k))+L[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(R^D))+L[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^D&(z^R))+L[7]+1735328473&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(k^z))+L[12]+2368359562&4294967295,D=k+(N<<20&4294967295|N>>>12),N=R+(D^k^z)+L[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^k)+L[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^D)+L[11]+1839030562&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^R)+L[14]+4259657740&4294967295,D=k+(N<<23&4294967295|N>>>9),N=R+(D^k^z)+L[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^k)+L[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^D)+L[7]+4139469664&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^R)+L[10]+3200236656&4294967295,D=k+(N<<23&4294967295|N>>>9),N=R+(D^k^z)+L[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^k)+L[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^D)+L[3]+3572445317&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^R)+L[6]+76029189&4294967295,D=k+(N<<23&4294967295|N>>>9),N=R+(D^k^z)+L[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^k)+L[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^D)+L[15]+530742520&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^R)+L[2]+3299628645&4294967295,D=k+(N<<23&4294967295|N>>>9),N=R+(k^(D|~z))+L[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~k))+L[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~D))+L[14]+2878612391&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~R))+L[5]+4237533241&4294967295,D=k+(N<<21&4294967295|N>>>11),N=R+(k^(D|~z))+L[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~k))+L[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~D))+L[10]+4293915773&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~R))+L[1]+2240044497&4294967295,D=k+(N<<21&4294967295|N>>>11),N=R+(k^(D|~z))+L[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~k))+L[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~D))+L[6]+2734768916&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~R))+L[13]+1309151649&4294967295,D=k+(N<<21&4294967295|N>>>11),N=R+(k^(D|~z))+L[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~k))+L[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~D))+L[2]+718787259&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const D=R-this.blockSize,L=this.C;let k=this.h,z=0;for(;z<R;){if(k==0)for(;z<=D;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<R;)if(L[k++]=I.charCodeAt(z++),k==this.blockSize){o(this,L),k=0;break}}else for(;z<R;)if(L[k++]=I[z++],k==this.blockSize){o(this,L),k=0;break}}this.h=k,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)I[R++]=this.g[D]>>>L&255;return I};function l(I,R){var D=m;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function u(I,R){this.h=R;const D=[];let L=!0;for(let k=I.length-1;k>=0;k--){const z=I[k]|0;L&&z==R||(D[k]=z,L=!1)}this.g=D}var m={};function g(I){return-128<=I&&I<128?l(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return P(p(-I));const R=[];let D=1;for(let L=0;I>=D;L++)R[L]=I/D|0,D*=4294967296;return new u(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(R,8));let L=w;for(let z=0;z<I.length;z+=8){var k=Math.min(8,I.length-z);const N=parseInt(I.substring(z,z+k),R);k<8?(k=p(Math.pow(R,k)),L=L.j(k).add(p(N))):(L=L.j(D),L=L.add(p(N)))}return L}var w=g(0),T=g(1),C=g(16777216);n=u.prototype,n.m=function(){if(V(this))return-P(this).m();let I=0,R=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(V(this))return"-"+P(this).toString(I);const R=p(Math.pow(I,6));var D=this;let L="";for(;;){const k=se(D,R).g;D=Y(D,k.j(R));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=k,j(D))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function V(I){return I.h==-1}n.l=function(I){return I=Y(this,I),V(I)?-1:j(I)?0:1};function P(I){const R=I.g.length,D=[];for(let L=0;L<R;L++)D[L]=~I.g[L];return new u(D,~I.h).add(T)}n.abs=function(){return V(this)?P(this):this},n.add=function(I){const R=Math.max(this.g.length,I.g.length),D=[];let L=0;for(let k=0;k<=R;k++){let z=L+(this.i(k)&65535)+(I.i(k)&65535),N=(z>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);L=N>>>16,z&=65535,N&=65535,D[k]=N<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function Y(I,R){return I.add(P(R))}n.j=function(I){if(j(this)||j(I))return w;if(V(this))return V(I)?P(this).j(P(I)):P(P(this).j(I));if(V(I))return P(this.j(P(I)));if(this.l(C)<0&&I.l(C)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,D=[];for(var L=0;L<2*R;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<I.g.length;k++){const z=this.i(L)>>>16,N=this.i(L)&65535,ct=I.i(k)>>>16,zt=I.i(k)&65535;D[2*L+2*k]+=N*zt,B(D,2*L+2*k),D[2*L+2*k+1]+=z*zt,B(D,2*L+2*k+1),D[2*L+2*k+1]+=N*ct,B(D,2*L+2*k+1),D[2*L+2*k+2]+=z*ct,B(D,2*L+2*k+2)}for(I=0;I<R;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=R;I<2*R;I++)D[I]=0;return new u(D,0)};function B(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function Q(I,R){this.g=I,this.h=R}function se(I,R){if(j(R))throw Error("division by zero");if(j(I))return new Q(w,w);if(V(I))return R=se(P(I),R),new Q(P(R.g),P(R.h));if(V(R))return R=se(I,P(R)),new Q(P(R.g),R.h);if(I.g.length>30){if(V(I)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,L=R;L.l(I)<=0;)D=fe(D),L=fe(L);var k=de(D,1),z=de(L,1);for(L=de(L,2),D=de(D,2);!j(L);){var N=z.add(L);N.l(I)<=0&&(k=k.add(D),z=N),L=de(L,1),D=de(D,1)}return R=Y(I,k.j(R)),new Q(k,R)}for(k=w;I.l(R)>=0;){for(D=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=p(D),N=z.j(R);V(N)||N.l(I)>0;)D-=L,z=p(D),N=z.j(R);j(z)&&(z=T),k=k.add(z),I=Y(I,N)}return new Q(k,I)}n.B=function(I){return se(this,I).h},n.and=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)&I.i(L);return new u(D,this.h&I.h)},n.or=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)|I.i(L);return new u(D,this.h|I.h)},n.xor=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)^I.i(L);return new u(D,this.h^I.h)};function fe(I){const R=I.g.length+1,D=[];for(let L=0;L<R;L++)D[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(D,I.h)}function de(I,R){const D=R>>5;R%=32;const L=I.g.length-D,k=[];for(let z=0;z<L;z++)k[z]=R>0?I.i(z+D)>>>R|I.i(z+D+1)<<32-R:I.i(z+D);return new u(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Fs=u}).apply(typeof Q1<"u"?Q1:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mT,zc,gT,vf,pp,pT,yT,_T;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var E=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var F=h[b];if(!(F in E))break e;E=E[F]}h=h[h.length-1],b=E[h],y=y(b),y!=b&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});var l=l||{},u=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function p(h,y,E){return p=g,p.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function w(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,F,$){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[F].apply(b,ae)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=h[b];return E}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const F=arguments[b];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const $=F.length||0;h.length=E+$;for(let ae=0;ae<$;ae++)h[E+ae]=F[ae]}else h.push(F)}}class V{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){u.setTimeout(()=>{throw h},0)}function Y(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,E){const b=Q.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new V(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,de=!1,I=new B,R=()=>{const h=Promise.resolve(void 0);fe=()=>{h.then(D)}};function D(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){P(E)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}de=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,y),u.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ct(h,y){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}w(ct,k),ct.prototype.init=function(h,y){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var zt="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(h,y,E,b,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=F,this.key=++W,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fe(h,y,E){for(const b in h)y.call(E,h[b],b,h)}function Qe(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function x(h){const y={};for(const E in h)y[E]=h[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,y){let E,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(E in b)h[E]=b[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,E,b,F){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ae=Ne(h,y,b,F);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new le(y,this.src,$,!!b,F),y.fa=E,h.push(y)),y};function Se(h,y){const E=y.type;if(E in h.g){var b=h.g[E],F=Array.prototype.indexOf.call(b,y,void 0),$;($=F>=0)&&Array.prototype.splice.call(b,F,1),$&&(_e(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,b){for(let F=0;F<h.length;++F){const $=h[F];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==b)return F}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),jt={};function ut(h,y,E,b,F){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ut(h,y[$],E,b,F);return null}return E=Nl(E),h&&h[zt]?h.J(y,E,m(b)?!!b.capture:!1,F):ia(h,y,E,!1,b,F)}function ia(h,y,E,b,F,$){if(!y)throw Error("Invalid event type");const ae=m(F)?!!F.capture:!!F;let Ce=ra(h);if(Ce||(h[ze]=Ce=new he(h)),E=Ce.add(y,E,b,ae,$),E.proxy)return E;if(b=eo(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)z||(F=ae),F===void 0&&(F=!1),h.addEventListener(y.toString(),b,F);else if(h.attachEvent)h.attachEvent(Oi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function eo(){function h(E){return y.call(h.src,h.listener,E)}const y=Cl;return h}function to(h,y,E,b,F){if(Array.isArray(y))for(var $=0;$<y.length;$++)to(h,y[$],E,b,F);else b=m(b)?!!b.capture:!!b,E=Nl(E),h&&h[zt]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=Ne(y,E,b,F),E>-1&&(_e(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=ra(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,b,F)),(E=h>-1?y[h]:null)&&no(E))}function no(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[zt])Se(y.i,h);else{var E=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(E,b,h.capture):y.detachEvent?y.detachEvent(Oi(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=ra(y))?(Se(E,h),E.h==0&&(E.src=null,y[ze]=null)):_e(h)}}}function Oi(h){return h in jt?jt[h]:jt[h]="on"+h}function Cl(h,y){if(h.da)h=!0;else{y=new ct(y,this);const E=h.listener,b=h.ha||h.src;h.fa&&no(h),h=E.call(b,y)}return h}function ra(h){return h=h[ze],h instanceof he?h:null}var Dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nl(h){return typeof h=="function"?h:(h[Dl]||(h[Dl]=function(y){return h.handleEvent(y)}),h[Dl])}function Ct(){L.call(this),this.i=new he(this),this.M=this,this.G=null}w(Ct,L),Ct.prototype[zt]=!0,Ct.prototype.removeEventListener=function(h,y,E,b){to(this,h,y,E,b)};function Ft(h,y){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new k(y,h);else if(y instanceof k)y.target=y.target||h;else{var F=y;y=new k(b,h),ce(y,F)}F=!0;let $,ae;if(E)for(ae=E.length-1;ae>=0;ae--)$=y.g=E[ae],F=is($,b,!0,y)&&F;if($=y.g=h,F=is($,b,!0,y)&&F,F=is($,b,!1,y)&&F,E)for(ae=0;ae<E.length;ae++)$=y.g=E[ae],F=is($,b,!1,y)&&F}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let b=0;b<E.length;b++)_e(E[b]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,E,b){return this.i.add(String(h),y,!1,E,b)},Ct.prototype.K=function(h,y,E,b){return this.i.add(String(h),y,!0,E,b)};function is(h,y,E,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let $=0;$<y.length;++$){const ae=y[$];if(ae&&!ae.da&&ae.capture==E){const Ce=ae.listener,St=ae.ha||ae.src;ae.fa&&Se(h.i,ae),F=Ce.call(St,b)!==!1&&F}}return F&&!b.defaultPrevented}function Pd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(h,y||0)}function Cu(h){h.g=Pd(()=>{h.g=null,h.i&&(h.i=!1,Cu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class gn extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){L.call(this),this.h=h,this.g={}}w(sa,L);var Ol=[];function kl(h){Fe(h.g,function(y,E){this.g.hasOwnProperty(E)&&no(y)},h),h.g={}}sa.prototype.N=function(){sa.Z.N.call(this),kl(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=u.JSON.stringify,xd=u.JSON.parse,Du=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Nu(){}function Ou(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){k.call(this,"d")}w(Zt,k);function Qn(){k.call(this,"c")}w(Qn,k);var Tt={},ku=null;function io(){return ku=ku||new Ct}Tt.Ia="serverreachability";function Mu(h){k.call(this,Tt.Ia,h)}w(Mu,k);function ki(h){const y=io();Ft(y,new Mu(y))}Tt.STAT_EVENT="statevent";function aa(h,y){k.call(this,Tt.STAT_EVENT,h),this.stat=y}w(aa,k);function Dt(h){const y=io();Ft(y,new aa(y,h))}Tt.Ja="timingevent";function Mi(h,y){k.call(this,Tt.Ja,h),this.size=y}w(Mi,k);function Pi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Ld(h,y,E,b,F,$){h.info(function(){if(h.g)if($){var ae="",Ce=$.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var St=Ce[Ge].split("=");if(St.length>1){const ht=St[0];St=St[1];const Jn=ht.split("_");ae=Jn.length>=2&&Jn[1]=="type"?ae+(ht+"="+St+"&"):ae+(ht+"=redacted&")}}}else ae=null;else ae=$;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+y+`
`+E+`
`+ae})}function Pu(h,y,E,b,F,$,ae){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+y+`
`+E+`
`+$+" "+ae})}function xi(h,y,E,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vd(h,E)+(b?" "+b:"")})}function oa(h,y){h.info(function(){return"TIMEOUT: "+y})}di.prototype.info=function(){};function Vd(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ae=1;ae<b.length;ae++)b[ae]=""}}}}return rs($)}catch{return y}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function ca(){}w(ca,Nu),ca.prototype.g=function(){return new XMLHttpRequest},Pl=new ca;function fr(h){return encodeURIComponent(String(h))}function xu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function mi(h,y,E,b){this.j=h,this.i=y,this.l=E,this.S=b||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function Li(h,y,E){h.M=1,h.A=ua(kt(y)),h.u=E,h.R=!0,ro(h,null)}function ro(h,y){h.F=Date.now(),Vi(h),h.B=kt(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),lo(E.i,"t",b),h.C=0,E=h.j.L,h.h=new gi,h.g=Xu(h.j,E?y:null,!h.u),h.P>0&&(h.O=new gn(p(h.Y,h,h.g),h.P)),y=h.V,E=h.g,b=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ol[0]=F.toString()),F=Ol);for(let $=0;$<F.length;$++){const ae=ut(E,F[$],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ki(),Ld(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const y=this.O;y&&_i(h)==3?y.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=_i(this.g),St=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||St==7||(St==8||Ge<=0?ki(3):ki(2)),Ui(this);var y=this.g.ca();this.X=y;var E=Ud(this);if(this.o=y==200,Pu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,F=this.g;if((b=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var $=b;break t}}$=null}if(h=$)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,h);else{this.o=!1,this.m=3,Dt(12),Mn(this),Xn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=Vu(this,E),ht==Gt){Ce==4&&(this.m=4,Dt(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Nt){this.m=4,Dt(15),xi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,ht,null),Bi(this,ht);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,E,"[Invalid Chunked Response]"),Mn(this),Xn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ql(ae),ae.P=!0,Dt(11))}}else xi(this.i,this.l,E,null),Bi(this,E);Ce==4&&Mn(this),this.o&&!this.K&&(Ce==4?$u(this.j,this):(this.o=!1,Vi(this)))}else mr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Mn(this),Xn(this)}}}catch{}};function Ud(h){if(!Lu(h))return h.g.la();const y=Jt(h.g);if(y==="")return"";let E="";const b=y.length,F=_i(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Xn(h),"";h.h.i=new u.TextDecoder}for(let $=0;$<b;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(F&&$==b-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Lu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vu(h,y){var E=h.C,b=y.indexOf(`
`,E);return b==-1?Gt:(E=Number(y.substring(E,b)),isNaN(E)?Nt:(b+=1,b+E>y.length?Gt:(y=y.slice(b,b+E),h.C=b+E,y)))}mi.prototype.cancel=function(){this.K=!0,Mn(this)};function Vi(h){h.T=Date.now()+h.H,so(h,h.H)}function so(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Pi(p(h.aa,h),y)}function Ui(h){h.D&&(u.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oa(this.i,this.B),this.M!=2&&(ki(),Dt(17)),Mn(this),this.m=2,Xn(this)):so(this,this.T-h)};function Xn(h){h.j.I==0||h.K||$u(h.j,h)}function Mn(h){Ui(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,kl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Bi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||ji(E.h,h))){if(!h.L&&ji(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)mo(E),fs(E);else break e;ya(E),Dt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Pi(p(E.Va,E),6e3));zi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((h.L||E.g==h)&&mo(E),!N(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Ge=F[y];const ht=Ge[0];if(!(ht<=E.K))if(E.K=ht,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Jn=Ge[3];Jn!=null&&(E.ka=Jn,E.j.info("VER="+E.ka));const Yi=Ge[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const vi=Ge[5];vi!=null&&typeof vi=="number"&&vi>0&&(b=1.5*vi,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Ei=h.g;if(Ei){const _a=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var $=b.h;$.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Vl($,$.h),$.h=null))}if(b.G){const go=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(b.wa=go,Xe(b.J,b.G,go))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ae=h;if(b.na=Qu(b,b.L?b.ba:null,b.W),ae.L){Ul(b.h,ae);var Ce=ae,St=b.O;St&&(Ce.H=St),Ce.D&&(Ui(Ce),Vi(Ce)),b.g=ae}else qu(b);E.i.length>0&&$i(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ki(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ki(E,7):Kl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ki(4)}catch{}}var Ot=class{constructor(h,y){this.g=h,this.map=y}};function xl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function ji(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Vl(h,y){h.g?h.g.add(y):h.h=y}function Ul(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}xl.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let F,$=null;b>=0?(F=h[E].substring(0,b),$=h[E].substring(b+1)):F=h[E],y(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Pn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,ss(this,h.u),this.h=h.h,zl(this,Fu(h.i)),this.m=h.m):h&&(y=String(h).match(Uu))?(this.l=!1,$t(this,y[1]||"",!0),this.o=Fi(y[2]||""),this.g=Fi(y[3]||"",!0),ss(this,y[4]),this.h=Fi(y[5]||"",!0),zl(this,y[6]||"",!0),this.m=Fi(y[7]||"")):(this.l=!1,this.i=new os(null,this.l))}Pn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ha(y,oo,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ha(y,oo,!0),"@"),h.push(fr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ha(E,E.charAt(0)=="/"?jl:Bu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ha(E,zu)),h.join("")},Pn.prototype.resolve=function(h){const y=kt(this);let E=!!h.j;E?$t(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var b=h.h;if(E)ss(y,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var F=y.h.lastIndexOf("/");F!=-1&&(b=y.h.slice(0,F+1)+b)}if(F=b,F==".."||F==".")b="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){b=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let ae=0;ae<F.length;){const Ce=F[ae++];Ce=="."?b&&ae==F.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),b&&ae==F.length&&$.push("")):($.push(Ce),b=!0)}b=$.join("/")}else b=F}return E?y.h=b:E=h.i.toString()!=="",E?zl(y,Fu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function kt(h){return new Pn(h)}function $t(h,y,E){h.j=E?Fi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ss(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function zl(h,y,E){y instanceof os?(h.i=y,co(h.i,h.l)):(E||(y=ha(y,as)),h.i=new os(y,h.l))}function Xe(h,y,E){h.i.set(y,E)}function ua(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Sn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oo=/[#\/\?@]/g,Bu=/[#\?:]/g,jl=/[#\?]/g,as=/[#\?@]/g,zu=/#/g;function os(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&ao(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=os.prototype,n.add=function(h,y){bn(this),this.i=null,h=ls(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ju(h,y){bn(h),y=ls(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Fl(h,y){return bn(h),y=ls(h,y),h.g.has(y)}n.forEach=function(h,y){bn(this),this.g.forEach(function(E,b){E.forEach(function(F){h.call(y,F,b,this)},this)},this)};function Hl(h,y){bn(h);let E=[];if(typeof y=="string")Fl(h,y)&&(E=E.concat(h.g.get(ls(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return bn(this),this.i=null,h=ls(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Hl(this,h),h.length>0?String(h[0]):y):y};function lo(h,y,E){ju(h,y),E.length>0&&(h.i=null,h.g.set(ls(h,y),C(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const F=fr(E);E=Hl(this,E);for(let $=0;$<E.length;$++){let ae=F;E[$]!==""&&(ae+="="+fr(E[$])),h.push(ae)}}return this.i=h.join("&")};function Fu(h){const y=new os;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ls(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function co(h,y){y&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,b){const F=b.toLowerCase();b!=F&&(ju(this,b),lo(this,F,E))},h)),h.j=y}function pi(h,y){const E=new di;if(u.Image){const b=new Image;b.onload=_(Wn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Wn,E,"TestLoadImage: error",!1,y,b),b.onabort=_(Wn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Wn,E,"TestLoadImage: timeout",!1,y,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function ql(h,y){const E=new di,b=new AbortController,F=setTimeout(()=>{b.abort(),Wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then($=>{clearTimeout(F),$.ok?Wn(E,"TestPingServer: ok",!0,y):Wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Wn(E,"TestPingServer: error",!1,y)})}function Wn(h,y,E,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(E)}catch{}}function cs(){this.g=new Du}function Hi(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Hi,Nu),Hi.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fa,Ct),n=fa.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,yi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?us(this):yi(this),this.readyState==3&&uo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,us(this))},n.Na=function(h){this.g&&(this.response=h,us(this))},n.ga=function(){this.g&&us(this)};function us(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zn(h){let y="";return Fe(h,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function da(h,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Zn(E),typeof h=="string"?E!=null&&fr(E):Xe(h,y,E))}function Je(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Ct);var qi=/^https?$/i,Gl=["POST","PUT"];n=Je.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){ma(this,$);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)E.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())E.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),F=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Gl,y,void 0)>=0)||b||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of E)this.g.setRequestHeader($,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){ma(this,$)}};function ma(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,$l(h),dr(h)}function $l(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},n.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof l<"u"){if(h.v&&_i(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),_i(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=$===0){let ae=String(h.D).match(Uu)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),b=!qi.test(ae?ae.toLowerCase():"")}E=b}if(E)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var F=_i(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",$l(h)}}finally{dr(h)}}}}function dr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ft(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _i(h){return h.g?h.g.readyState:0}n.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),xd(y)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(h){const y={};h=(h.g&&_i(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(N(h[b]))continue;var E=xu(h[b]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[F]||[];y[F]=$,$.push(E)}Qe(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function hs(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,h),this.Za=Gi("retryDelaySeedMs",1e4,h),this.Ta=Gi("forwardChannelMaxRetries",2,h),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(h&&h.concurrentRequestLimit),this.Ba=new cs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,b){Dt(0),this.W=h,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Qu(this,null,this.W),$i(this)};function Kl(h){if(ho(h),h.I==3){var y=h.V++,E=kt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),pa(h,E),y=new mi(h,h.j,y),y.M=2,y.A=ua(kt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=y.A,E=!0),E||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Vi(y)}Yu(h)}function fs(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function ho(h){fs(h),h.v&&(u.clearTimeout(h.v),h.v=null),mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function $i(h){if(!Ll(h.h)&&!h.m){h.m=!0;var y=h.Ea;fe||R(),de||(fe(),de=!0),I.add(y,h),h.D=0}}function fo(h,y){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Pi(p(h.Ea,h,y),Ku(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new mi(this,this.j,h);let $=this.o;if(this.U&&($?($=x($),ce($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Hu(this,F,y),E=kt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),pa(this,E),$&&(this.R?y="headers="+fr(Zn($))+"&"+y:this.u&&da(E,this.u,$)),Vl(this.h,F),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),F.U=!0,Li(F,E,null)):Li(F,E,y),this.I=2}}else this.I==3&&(h?Yl(this,h):this.i.length==0||Ll(this.h)||Yl(this))};function Yl(h,y){var E;y?E=y.l:E=h.V++;const b=kt(h.J);Xe(b,"SID",h.M),Xe(b,"RID",E),Xe(b,"AID",h.K),pa(h,b),h.u&&h.o&&da(b,h.u,h.o),E=new mi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Hu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,E),Li(E,b,y)}function pa(h,y){h.H&&Fe(h.H,function(E,b){Xe(y,b,E)}),h.l&&Fe({},function(E,b){Xe(y,b,E)})}function Hu(h,y,E){E=Math.min(h.i.length,E);const b=h.l?p(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ce=-1;for(;;){const St=["count="+E];Ce==-1?E>0?(Ce=F[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ge=!0;for(let ht=0;ht<E;ht++){var $=F[ht].g;const Jn=F[ht].map;if($-=Ce,$<0)Ce=Math.max(0,F[ht].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var ae=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Yi,vi]of ae){let Ei=vi;m(vi)&&(Ei=rs(vi)),St.push($+Yi+"="+encodeURIComponent(Ei))}}catch(Yi){throw St.push($+"type="+encodeURIComponent("_badmap")),Yi}}catch{b&&b(Jn)}}if(Ge){ae=St.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function qu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;fe||R(),de||(fe(),de=!0),I.add(y,h),h.A=0}}function ya(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Pi(p(h.Da,h),Ku(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Pi(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),fs(this),Gu(this))};function Ql(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Gu(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=kt(h.na);Xe(y,"RID","rpc"),Xe(y,"SID",h.M),Xe(y,"AID",h.K),Xe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(y,"TO",h.ia),Xe(y,"TYPE","xmlhttp"),pa(h,y),h.u&&h.o&&da(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ua(kt(y)),E.u=null,E.R=!0,ro(E,h)}n.Va=function(){this.C!=null&&(this.C=null,fs(this),ya(this),Dt(19))};function mo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function $u(h,y){var E=null;if(h.g==y){mo(h),Ql(h),h.g=null;var b=2}else if(ji(h.h,y))E=y.G,Ul(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;b=io(),Ft(b,new Mi(b,E)),$i(h)}else qu(h);else if(F=y.m,F==3||F==0&&y.X>0||!(b==1&&fo(h,y)||b==2&&ya(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Ku(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ki(h,y){if(h.j.info("Error code "+y),y==2){var E=p(h.bb,h),b=h.Ua;const F=!b;b=new Pn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(b,"https"),ua(b),F?pi(b.toString(),E):ql(b.toString(),E)}else Dt(2);h.I=0,h.l&&h.l.pa(y),Yu(h),ho(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Yu(h){if(h.I=0,h.ja=[],h.l){const y=Bl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Qu(h,y,E){var b=E instanceof Pn?kt(E):new Pn(E);if(b.g!="")y&&(b.g=y+"."+b.g),ss(b,b.u);else{var F=u.location;b=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const $=new Pn(null);b&&$t($,b),y&&($.g=y),F&&ss($,F),E&&($.h=E),b=$}return E=h.G,y=h.wa,E&&y&&Xe(b,E,y),Xe(b,"VER",h.ka),pa(h,b),b}function Xu(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Hi({ab:E})):new Je(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}n=Wu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ds(){}ds.prototype.g=function(h,y){return new pn(h,y)};function pn(h,y){Ct.call(this),this.g=new hs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new gr(this)}w(pn,Ct),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kl(this.g)},pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=rs(h),h=E);y.i.push(new Ot(y.Ya++,h)),y.I==3&&$i(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,pn.Z.N.call(this)};function Zu(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}w(Zu,Zt);function Ju(){Qn.call(this),this.status=1}w(Ju,Qn);function gr(h){this.g=h}w(gr,Wu),gr.prototype.ra=function(){Ft(this.g,"a")},gr.prototype.qa=function(h){Ft(this.g,new Zu(h))},gr.prototype.pa=function(h){Ft(this.g,new Ju)},gr.prototype.oa=function(){Ft(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,_T=function(){return new ds},yT=function(){return io()},pT=Tt,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,vf=la,Ml.COMPLETE="complete",gT=Ml,Ou.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,zc=Ou,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,mT=Je}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const X1="@firebase/firestore",W1="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let _l="12.7.0";const Ha=new Qp("@firebase/firestore");function Xo(){return Ha.logLevel}function ue(n,...e){if(Ha.logLevel<=Le.DEBUG){const t=e.map(Wp);Ha.debug(`Firestore (${_l}): ${n}`,...t)}}function Qr(n,...e){if(Ha.logLevel<=Le.ERROR){const t=e.map(Wp);Ha.error(`Firestore (${_l}): ${n}`,...t)}}function qa(n,...e){if(Ha.logLevel<=Le.WARN){const t=e.map(Wp);Ha.warn(`Firestore (${_l}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vT(n,r,t)}function vT(n,e,t){let r=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qr(r),new Error(r)}function Ke(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||vT(e,o,r)}function Ie(n,e){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class HD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new ET(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class GD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Z1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=YD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function yp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),l=e.charAt(r);if(o!==l)return Kg(o)===Kg(l)?Ve(o,l):Kg(o)?1:-1}return Ve(n.length,e.length)}const QD=55296,XD=57343;function Kg(n){const e=n.charCodeAt(0);return e>=QD&&e<=XD}function al(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const J1="__name__";class Ji{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=Ji.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Ji.isNumericId(e),o=Ji.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(t)):yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class rt extends Ji{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const WD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ji{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return WD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J1}static keyField(){return new Xt([J1])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(l(),o++)}if(l(),u)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function TT(n,e,t){if(!t)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ST(n,e,t,r){if(e===!0&&r===!0)throw new oe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eE(n){if(!pe.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tE(n){if(pe.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(n);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ZD(n,e){if(e<=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Bt(n,e){const t={typeString:n};return e&&(t.value=e),t}function gu(n,e){if(!bT(n))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new oe(Z.INVALID_ARGUMENT,t);return!0}const nE=-62135596800,iE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*iE);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Bt("string",st._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function JD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new Gs(o,pe.empty(),e)}function e6(n){return new Gs(n.readTime,n.key,tu)}class Gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gs(Ae.min(),pe.empty(),tu)}static max(){return new Gs(Ae.max(),pe.empty(),tu)}}function t6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}const n6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==n6)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,r)=>{t(e)}))}static reject(e){return new ne(((t,r)=>{r(e)}))}static waitFor(e){return new ne(((t,r)=>{let o=0,l=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++l,u&&l===o&&t()}),(g=>r(g)))})),u=!0,l===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next((o=>o?ne.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,l)=>{r.push(t.call(this,o,l))})),this.waitFor(r)}static mapArray(e,t){return new ne(((r,o)=>{const l=e.length,u=new Array(l);let m=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next((_=>{u[p]=_,++m,m===l&&r(u)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((r,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):r()};l()}))}}function r6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(n){return n.name==="IndexedDbTransactionError"}class od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;const Zp=-1;function ld(n){return n==null}function kf(n){return n===0&&1/n==-1/0}function s6(n){return typeof n=="number"&&Number.isInteger(n)&&!kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const AT="";function a6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rE(e)),e=o6(n.get(t),e);return rE(e)}function o6(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case AT:t+="";break;default:t+=l}}return t}function rE(n){return n+AT+""}function sE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new sn(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,l){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new qt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IT("Invalid base64 string: "+l):l}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const l6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=l6.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ks(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}const CT="server_timestamp",DT="__type__",NT="__previous_value__",OT="__local_write_time__";function Jp(n){return(n?.mapValue?.fields||{})[DT]?.stringValue===CT}function cd(n){const e=n.mapValue.fields[NT];return Jp(e)?cd(e):e}function nu(n){const e=$s(n.mapValue.fields[OT].timestampValue);return new st(e.seconds,e.nanos)}class c6{constructor(e,t,r,o,l,u,m,g,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Mf="(default)";class ol{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new ol("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}const kT="__type__",u6="__max__",of={mapValue:{}},MT="__vector__",Pf="value";function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jp(n)?4:f6(n)?9007199254740991:h6(n)?10:11:Te(28295,{value:n})}function or(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nu(n).isEqual(nu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=$s(o.timestampValue),m=$s(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Ks(o.bytesValue).isEqual(Ks(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Rt(o.doubleValue),m=Rt(l.doubleValue);return u===m?kf(u)===kf(m):isNaN(u)&&isNaN(m)}return!1})(n,e);case 9:return al(n.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},m=l.mapValue.fields||{};if(sE(u)!==sE(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!or(u[g],m[g])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function iu(n,e){return(n.values||[]).find((t=>or(t,e)))!==void 0}function ll(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Rt(l.integerValue||l.doubleValue),g=Rt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(n,e);case 3:return oE(n.timestampValue,e.timestampValue);case 4:return oE(nu(n),nu(e));case 5:return yp(n.stringValue,e.stringValue);case 6:return(function(l,u){const m=Ks(l),g=Ks(u);return m.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),g=u.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Ve(m[p],g[p]);if(_!==0)return _}return Ve(m.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=Ve(Rt(l.latitude),Rt(u.latitude));return m!==0?m:Ve(Rt(l.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},g=u.fields||{},p=m[Pf]?.arrayValue,_=g[Pf]?.arrayValue,w=Ve(p?.values?.length||0,_?.values?.length||0);return w!==0?w:lE(p,_)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===of.mapValue&&u===of.mapValue)return 0;if(l===of.mapValue)return 1;if(u===of.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),p=u.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const T=yp(g[w],_[w]);if(T!==0)return T;const C=ll(m[g[w]],p[_[w]]);if(C!==0)return C}return Ve(g.length,_.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function oE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=$s(n),r=$s(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function lE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=ll(t[o],r[o]);if(l)return l}return Ve(t.length,r.length)}function cl(n){return _p(n)}function _p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=$s(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ks(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return pe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=_p(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${_p(t.fields[u])}`;return o+"}"})(n.mapValue):Te(61005,{value:n})}function Ef(n){switch(Ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(n);return e?16+Ef(e):16;case 5:return 2*n.stringValue.length;case 6:return Ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+Ef(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Js(r.fields,((l,u)=>{o+=l.length+Ef(u)})),o})(n.mapValue);default:throw Te(13486,{value:n})}}function cE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vp(n){return!!n&&"integerValue"in n}function ey(n){return!!n&&"arrayValue"in n}function uE(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function h6(n){return(n?.mapValue?.fields||{})[kT]?.stringValue===MT}function $c(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$c(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return{...n}}function f6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===u6}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Xt.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=m.popLast()}u?r[m.lastSegment()]=$c(u):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];wf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Js(t,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new On($c(this.value))}}function PT(n){const e=[];return Js(n.fields,((t,r)=>{const o=new Xt([t]);if(wf(r)){const l=PT(r.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new qn(e)}class cn{constructor(e,t,r,o,l,u,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),On.empty(),0)}static newFoundDocument(e,t,r,o){return new cn(e,1,t,Ae.min(),r,o,0)}static newNoDocument(e,t){return new cn(e,2,t,Ae.min(),Ae.min(),On.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ae.min(),Ae.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(e,t){this.position=e,this.inclusive=t}}function fE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?r=pe.comparator(pe.fromName(u.referenceValue),t.key):r=ll(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function dE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!or(n.position[t],e.position[t]))return!1;return!0}class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function d6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xT{}class Ut extends xT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new g6(e,t,r):t==="array-contains"?new _6(e,r):t==="in"?new v6(e,r):t==="not-in"?new E6(e,r):t==="array-contains-any"?new w6(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new p6(e,r):new y6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ll(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends xT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return LT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(n){return n.op==="and"}function VT(n){return m6(n)&&LT(n)}function m6(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function Ep(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(VT(n))return n.filters.map((e=>Ep(e))).join(",");{const e=n.filters.map((t=>Ep(t))).join(",");return`${n.op}(${e})`}}function UT(n,e){return n instanceof Ut?(function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&or(r.value,o.value)})(n,e):n instanceof Ci?(function(r,o){return o instanceof Ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,u,m)=>l&&UT(u,o.filters[m])),!0):!1})(n,e):void Te(19439)}function BT(n){return n instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`})(n):n instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(BT).join(" ,")+"}"})(n):"Filter"}class g6 extends Ut{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class p6 extends Ut{constructor(e,t){super(e,"in",t),this.keys=zT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class y6 extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=zT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zT(n,e){return(e.arrayValue?.values||[]).map((t=>pe.fromName(t.referenceValue)))}class _6 extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ey(t)&&iu(t.arrayValue,this.value)}}class v6 extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&iu(this.value.arrayValue,t)}}class E6 extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!iu(this.value.arrayValue,t)}}class w6 extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}class T6{constructor(e,t=null,r=[],o=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function mE(n,e=null,t=[],r=[],o=null,l=null,u=null){return new T6(n,e,t,r,o,l,u)}function ty(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ep(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>cl(r))).join(",")),e.Te=t}return e.Te}function ny(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dE(n.startAt,e.startAt)&&dE(n.endAt,e.endAt)}function wp(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class wl{constructor(e,t=null,r=[],o=[],l=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S6(n,e,t,r,o,l,u,m){return new wl(n,e,t,r,o,l,u,m)}function ud(n){return new wl(n)}function gE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jT(n){return n.collectionGroup!==null}function Kc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(Xt.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ru(l,r))})),t.has(Xt.keyField().canonicalString())||e.Ie.push(new ru(Xt.keyField(),r))}return e.Ie}function nr(n){const e=Ie(n);return e.Ee||(e.Ee=b6(e,Kc(n))),e.Ee}function b6(n,e){if(n.limitType==="F")return mE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ru(o.field,l)}));const t=n.endAt?new xf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xf(n.startAt.position,n.startAt.inclusive):null;return mE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tp(n,e){const t=n.filters.concat([e]);return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lf(n,e,t){return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hd(n,e){return ny(nr(n),nr(e))&&n.limitType===e.limitType}function FT(n){return`${ty(nr(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>BT(o))).join(", ")}]`),ld(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>cl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>cl(o))).join(",")),`Target(${r})`})(nr(n))}; limitType=${n.limitType})`}function fd(n,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):pe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,o){for(const l of Kc(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,g){const p=fE(u,m,g);return u.inclusive?p<=0:p<0})(r.startAt,Kc(r),o)||r.endAt&&!(function(u,m,g){const p=fE(u,m,g);return u.inclusive?p>=0:p>0})(r.endAt,Kc(r),o))})(n,e)}function A6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(e,t)=>{let r=!1;for(const o of Kc(n)){const l=R6(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function R6(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):(function(l,u,m){const g=u.data.field(l),p=m.data.field(l);return g!==null&&p!==null?ll(g,p):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((t,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}const I6=new yt(pe.comparator);function Xr(){return I6}const qT=new yt(pe.comparator);function jc(...n){let e=qT;for(const t of n)e=e.insert(t.key,t);return e}function GT(n){let e=qT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ba(){return Yc()}function $T(){return Yc()}function Yc(){return new Wa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const C6=new yt(pe.comparator),D6=new qt(pe.comparator);function Ue(...n){let e=D6;for(const t of n)e=e.add(t);return e}const N6=new qt(Ve);function O6(){return N6}function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(e)?"-0":e}}function KT(n){return{integerValue:""+n}}function YT(n,e){return s6(e)?KT(e):iy(n,e)}class dd{constructor(){this._=void 0}}function k6(n,e,t){return n instanceof Vf?(function(o,l){const u={fields:{[DT]:{stringValue:CT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jp(l)&&(l=cd(l)),l&&(u.fields[NT]=l),{mapValue:u}})(t,e):n instanceof su?XT(n,e):n instanceof au?WT(n,e):(function(o,l){const u=QT(o,l),m=pE(u)+pE(o.Ae);return vp(u)&&vp(o.Ae)?KT(m):iy(o.serializer,m)})(n,e)}function M6(n,e,t){return n instanceof su?XT(n,e):n instanceof au?WT(n,e):t}function QT(n,e){return n instanceof ou?(function(r){return vp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Vf extends dd{}class su extends dd{constructor(e){super(),this.elements=e}}function XT(n,e){const t=ZT(e);for(const r of n.elements)t.some((o=>or(o,r)))||t.push(r);return{arrayValue:{values:t}}}class au extends dd{constructor(e){super(),this.elements=e}}function WT(n,e){let t=ZT(e);for(const r of n.elements)t=t.filter((o=>!or(o,r)));return{arrayValue:{values:t}}}class ou extends dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pE(n){return Rt(n.integerValue||n.doubleValue)}function ZT(n){return ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class P6{constructor(e,t){this.field=e,this.transform=t}}function x6(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof su&&o instanceof su||r instanceof au&&o instanceof au?al(r.elements,o.elements,or):r instanceof ou&&o instanceof ou?or(r.Ae,o.Ae):r instanceof Vf&&o instanceof Vf})(n.transform,e.transform)}class L6{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class md{}function JT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gd(n.key,Tn.none()):new pu(n.key,n.data,Tn.none());{const t=n.data,r=On.empty();let o=new qt(Xt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),o=o.add(l)}return new ea(n.key,r,new qn(o.toArray()),Tn.none())}}function V6(n,e,t){n instanceof pu?(function(o,l,u){const m=o.value.clone(),g=_E(o.fieldTransforms,l,u.transformResults);m.setAll(g),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):n instanceof ea?(function(o,l,u){if(!Tf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const m=_E(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(eS(o)),g.setAll(m),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(n,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Qc(n,e,t,r){return n instanceof pu?(function(l,u,m,g){if(!Tf(l.precondition,u))return m;const p=l.value.clone(),_=vE(l.fieldTransforms,g,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof ea?(function(l,u,m,g){if(!Tf(l.precondition,u))return m;const p=vE(l.fieldTransforms,g,u),_=u.data;return _.setAll(eS(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(l,u,m){return Tf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(n,e,t)}function U6(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=QT(r.transform,o||null);l!=null&&(t===null&&(t=On.empty()),t.set(r.field,l))}return t||null}function yE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&al(r,o,((l,u)=>x6(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pu extends md{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends md{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function _E(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,m=e.data.field(l.field);r.set(l.field,M6(u,m,t[o]))}return r}function vE(n,e,t){const r=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);r.set(o.field,k6(l,u,e))}return r}class gd extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B6 extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z6{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&V6(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$T();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(o.key)?null:m;const g=JT(u,m);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((t,r)=>yE(t,r)))&&al(this.baseMutations,e.baseMutations,((t,r)=>yE(t,r)))}}class ry{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return C6})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,r[u].version);return new ry(e,t,r,o)}}class j6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class F6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vt,je;function H6(n){switch(n){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function tS(n){if(n===void 0)return Qr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:n})}}(je=Vt||(Vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function q6(){return new TextEncoder}const G6=new Fs([4294967295,4294967295],0);function EE(n){const e=q6().encode(n),t=new dT;return t.update(e),new Uint8Array(t.digest())}function wE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([t,r],0),new Fs([o,l],0)]}class sy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fc(`Invalid padding: ${t}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fs.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Fs.fromNumber(r)));return o.compare(G6)===1&&(o=new Fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=EE(e),[r,o]=wE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new sy(l,o,t);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const t=EE(e),[r,o]=wE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pd(Ae.min(),o,new yt(Ve),Xr(),Ue())}}class yu{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yu(r,t,Ue(),Ue(),Ue())}}class Sf{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class nS{constructor(e,t){this.targetId=e,this.Ce=t}}class iS{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class TE{constructor(){this.ve=0,this.Fe=SE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),r=Ue();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:l})}})),new yu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=SE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=lf(),this.He=lf(),this.Ye=new yt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(wp(l))if(r===0){const u=new pe(l.path);this.et(t,u,cn.newNoDocument(u,Ae.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let u,m;try{u=Ks(r).toUint8Array()}catch(g){if(g instanceof IT)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new sy(u,o,l)}catch(g){return qa(g instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&wp(m.target)){const g=new pe(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,cn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=Ue();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new pd(e,t,this.Ye,this.je,r);return this.je=Xr(),this.Je=lf(),this.He=lf(),this.Ye=new yt(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new TE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lf(){return new yt(pe.comparator)}function SE(){return new yt(pe.comparator)}const K6={asc:"ASCENDING",desc:"DESCENDING"},Y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class X6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sp(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function Uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function W6(n,e){return Uf(n,e.toTimestamp())}function ir(n){return Ke(!!n,49232),Ae.fromTimestamp((function(t){const r=$s(t);return new st(r.seconds,r.nanos)})(n))}function ay(n,e){return bp(n,e).canonicalString()}function bp(n,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function sS(n){const e=rt.fromString(n);return Ke(uS(e),10190,{key:e.toString()}),e}function Ap(n,e){return ay(n.databaseId,e.path)}function Yg(n,e){const t=sS(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(oS(t))}function aS(n,e){return ay(n.databaseId,e)}function Z6(n){const e=sS(n);return e.length===4?rt.emptyPath():oS(e)}function Rp(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oS(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bE(n,e,t){return{name:Ap(n,e),fields:t.value.mapValue.fields}}function J6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(p){const _=p.code===void 0?Z.UNKNOWN:tS(p.code);return new oe(_,p.message||"")})(u);t=new iS(r,o,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yg(n,r.document.name),l=ir(r.document.updateTime),u=r.document.createTime?ir(r.document.createTime):Ae.min(),m=new On({mapValue:{fields:r.document.fields}}),g=cn.newFoundDocument(o,l,u,m),p=r.targetIds||[],_=r.removedTargetIds||[];t=new Sf(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yg(n,r.document),l=r.readTime?ir(r.readTime):Ae.min(),u=cn.newNoDocument(o,l),m=r.removedTargetIds||[];t=new Sf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yg(n,r.document),l=r.removedTargetIds||[];t=new Sf([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,u=new F6(o,l),m=r.targetId;t=new nS(m,u)}}return t}function e4(n,e){let t;if(e instanceof pu)t={update:bE(n,e.key,e.value)};else if(e instanceof gd)t={delete:Ap(n,e.key)};else if(e instanceof ea)t={update:bE(n,e.key,e.data),updateMask:c4(e.fieldMask)};else{if(!(e instanceof B6))return Te(16599,{Vt:e.type});t={verify:Ap(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const m=u.transform;if(m instanceof Vf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ou)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:W6(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(n,e.precondition)),t}function t4(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(o,l){let u=o.updateTime?ir(o.updateTime):ir(l);return u.isEqual(Ae.min())&&(u=ir(l)),new L6(u,o.transformResults||[])})(t,e)))):[]}function n4(n,e){return{documents:[aS(n,e.path)]}}function i4(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aS(n,o);const l=(function(p){if(p.length!==0)return cS(Ci.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((_=>(function(T){return{field:Zo(T.field),direction:a4(T.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Sp(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function r4(n){let e=Z6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(w){const T=lS(w);return T instanceof Ci&&VT(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(j){return new ru(Jo(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(T)))})(t.orderBy));let m=null;t.limit&&(m=(function(w){let T;return T=typeof w=="object"?w.value:w,ld(T)?null:T})(t.limit));let g=null;t.startAt&&(g=(function(w){const T=!!w.before,C=w.values||[];return new xf(C,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const T=!w.before,C=w.values||[];return new xf(C,T)})(t.endAt)),S6(e,o,u,l,m,"F",g,p)}function s4(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jo(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ut.create(Jo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((r=>lS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function a4(n){return K6[n]}function o4(n){return Y6[n]}function l4(n){return Q6[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return Xt.fromServerFormat(n.fieldPath)}function cS(n){return n instanceof Ut?(function(t){if(t.op==="=="){if(hE(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(uE(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hE(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(uE(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:o4(t.op),value:t.value}}})(n):n instanceof Ci?(function(t){const r=t.getFilters().map((o=>cS(o)));return r.length===1?r[0]:{compositeFilter:{op:l4(t.op),filters:r}}})(n):Te(54877,{filter:n})}function c4(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class zs{constructor(e,t,r,o,l=Ae.min(),u=Ae.min(),m=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u4{constructor(e){this.yt=e}}function h4(n){const e=r4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lf(e,e.limit,"L"):e}class f4{constructor(){this.Cn=new d4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Gs.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class d4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qt(rt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(rt.comparator)).toArray()}}const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(hS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const RE="LruGarbageCollector",m4=1048576;function IE([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class g4{constructor(e){this.Ir=e,this.buffer=new qt(IE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();IE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(RE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?ue(RE,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.Vr(3e5)}))}}class y4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(od.ce);const r=new g4(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(AE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,l,u,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,m=Date.now(),this.removeTargets(e,r,t)))).next((w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),Xo()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w}))))}}function _4(n,e){return new y4(n,e)}class v4{constructor(){this.changes=new Wa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class w4{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Qc(r.mutation,o,qn.empty(),st.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const o=Ba();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((l=>{let u=jc();return l.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ba();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const o=[];return r.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,r,o){let l=Xr();const u=Yc(),m=(function(){return Yc()})();return t.forEach(((g,p)=>{const _=r.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ea)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Qc(_.mutation,p,_.mutation.getFieldMask(),st.now())):u.set(p.key,qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,_)=>u.set(p,_))),t.forEach(((p,_)=>m.set(p,new E4(_,u.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=Yc();let o=new yt(((u,m)=>u-m)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let _=r.get(g)||qn.empty();_=m.applyToLocalView(p,_),r.set(g,_);const w=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,w=$T();_.forEach((T=>{if(!l.has(T)){const C=JT(t.get(T),r.get(T));C!==null&&w.set(T,C),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ne.resolve(Ba());let m=tu,g=l;return u.next((p=>ne.forEach(p,((_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{g=g.insert(_,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,Ue()))).next((_=>({batchId:m,changes:GT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((r=>{let o=jc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let u=jc();return this.indexManager.getCollectionParents(e,l).next((m=>ne.forEach(m,(g=>{const p=(function(w,T){return new wl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((_=>{_.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o)))).next((u=>{l.forEach(((g,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,cn.newInvalidDocument(_)))}));let m=jc();return u.forEach(((g,p)=>{const _=l.get(g);_!==void 0&&Qc(_.mutation,p,qn.empty(),st.now()),fd(t,p)&&(m=m.insert(g,p))})),m}))}}class T4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:h4(o.bundledQuery),readTime:ir(o.readTime)}})(t)),ne.resolve()}}class S4{constructor(){this.overlays=new yt(pe.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ba();return ne.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,l)=>{this.St(e,t,l)})),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=Ba(),l=t.length+1,u=new pe(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new yt(((p,_)=>p-_));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=Ba(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=Ba(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,_)=>m.set(p,_))),!(m.size()>=o)););return ne.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new j6(t,r));let l=this.qr.get(t);l===void 0&&(l=Ue(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class b4{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class oy{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new pe(new rt([])),r=new Qt(t,e),o=new Qt(t,e+1),l=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new rt([])),r=new Qt(t,e),o=new Qt(t,e+1);let l=Ue();return this.Ur.forEachInRange([r,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Qt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}class A4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new z6(l,t,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Zp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);l.push(m)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Ve);return t.forEach((o=>{const l=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{r=r.add(m.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;pe.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new pe(l),0);let m=new qt(Ve);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),u),ne.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(t.mutations,(o=>{const l=new Qt(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Qt(t,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class R4{constructor(e){this.ri=e,this.docs=(function(){return new yt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():cn.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Xr();const u=t.path,m=new pe(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||t6(e6(_),r)<=0||(o.has(_.key)||fd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ii(e,t){return ne.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new I4(this)}getSize(e){return ne.resolve(this.size)}}class I4 extends v4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class C4{constructor(e){this.persistence=e,this.si=new Wa((t=>ty(t)),ny),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(l).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}class fS{constructor(e,t){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new b4,this.referenceDelegate=e(this),this.Pi=new C4(this),this.indexManager=new f4,this.remoteDocumentCache=(function(o){return new R4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new u4(t),this.Ii=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new S4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new A4(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const o=new D4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class D4 extends i6{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new oy,this.Vi=null}static mi(e){return new ly(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bf{constructor(e,t){this.persistence=e,this.pi=new Wa((r=>a6(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_4(this,t)}static mi(e,t){return new Bf(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?ne.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((m=>{m||(r++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}br(e,t,r){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new cy(e,t.fromCache,r,o)}}class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class O4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AC()?8:r6(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new N4;return this.Ss(e,t,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,u,m.size)}))})).next((()=>l.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Xo()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Xo()<=Le.DEBUG&&ue("QueryEngine","Query:",Wo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xo()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):ne.resolve())}ys(e,t){if(gE(t))return ne.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Lf(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=Ue(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(t,m);return this.Cs(t,p,u,g.readTime)?this.ys(e,Lf(t,null,"F")):this.vs(e,p,t,g)}))))})))))}ws(e,t,r,o){return gE(t)||o.isEqual(Ae.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,o)?ne.resolve(null):(Xo()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wo(t)),this.vs(e,u,t,JD(o,tu)).next((m=>m)))}))}Ds(e,t){let r=new qt(HT(e));return t.forEach(((o,l)=>{fd(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,r){return Xo()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.ps.getDocumentsMatchingQuery(e,t,Gs.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const uy="LocalStore",k4=3e8;class M4{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new yt(Ve),this.xs=new Wa((l=>ty(l)),ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function P4(n,e,t,r){return new M4(n,e,t,r)}async function dS(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],m=[];let g=Ue();for(const p of o){u.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of l){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:m})))}))}))}function x4(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,_){const w=p.batch,T=w.keys();let C=ne.resolve();return T.forEach((j=>{C=C.next((()=>_.getEntry(g,j))).next((V=>{const P=p.docVersions.get(j);Ke(P!==null,48541),V.version.compareTo(P)<0&&(w.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ue();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function mS(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function L4(n,e){const t=Ie(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((_,w)=>{const T=o.get(w);if(!T)return;m.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,w))));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),o=o.insert(w,C),(function(V,P,Y){return V.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=k4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(T,C,_)&&m.push(t.Pi.updateTargetData(l,C))}));let g=Xr(),p=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(V4(l,u,e.documentUpdates).next((_=>{g=_.ks,p=_.qs}))),!r.isEqual(Ae.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));m.push(_)}return ne.waitFor(m).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function V4(n,e,t){let r=Ue(),o=Ue();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=Xr();return t.forEach(((m,g)=>{const p=l.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):ue(uy,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function U4(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function B4(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((l=>l?(o=l,ne.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ip(n,e,t){const r=Ie(n),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!El(u))throw u;ue(uy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function CE(n,e,t){const r=Ie(n);let o=Ae.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,p,_){const w=Ie(g),T=w.xs.get(_);return T!==void 0?ne.resolve(w.Ms.get(T)):w.Pi.getTargetData(p,_)})(r,u,nr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{l=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?l:Ue()))).next((m=>(z4(r,A6(e),m),{documents:m,Qs:l})))))}function z4(n,e,t){let r=n.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class DE{constructor(){this.activeTargetIds=O6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j4{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F4{Oo(e){}shutdown(){}}const NE="ConnectivityMonitor";class OE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(NE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let cf=null;function Cp(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}const Qg="RestConnection",H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,l){const u=Cp(),m=this.zo(e,t.toUriEncodedString());ue(Qg,`Sending RPC '${e}' ${u}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:p}=new URL(m),_=ur(p);return this.Jo(e,m,g,r,_).then((w=>(ue(Qg,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw qa(Qg,`RPC '${e}' ${u} failed with error: `,w,"url: ",m,"request:",r),w}))}Ho(e,t,r,o,l,u){return this.Go(e,t,r,o,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const r=H4[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class G4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class $4 extends q4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,l){const u=Cp();return new Promise(((m,g)=>{const p=new mT;p.setWithCredentials(!0),p.listenOnce(gT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vf.NO_ERROR:const w=p.getResponseJson();ue(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),m(w);break;case vf.TIMEOUT:ue(on,`RPC '${e}' ${u} timed out`),g(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const T=p.getStatus();if(ue(on,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C?.error;if(j&&j.status&&j.message){const V=(function(Y){const B=Y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(B)>=0?B:Z.UNKNOWN})(j.status);g(new oe(V,j.message))}else g(new oe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(on,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ue(on,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=Cp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_T(),m=yT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=l.join("");ue(on,`Creating RPC '${e}' stream ${o}: ${_}`,g);const w=u.createWebChannel(_,g);this.I_(w);let T=!1,C=!1;const j=new G4({Yo:P=>{C?ue(on,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(ue(on,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ue(on,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Zo:()=>w.close()}),V=(P,Y,B)=>{P.listen(Y,(Q=>{try{B(Q)}catch(se){setTimeout((()=>{throw se}),0)}}))};return V(w,zc.EventType.OPEN,(()=>{C||(ue(on,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),V(w,zc.EventType.CLOSE,(()=>{C||(C=!0,ue(on,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(w))})),V(w,zc.EventType.ERROR,(P=>{C||(C=!0,qa(on,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),V(w,zc.EventType.MESSAGE,(P=>{if(!C){const Y=P.data[0];Ke(!!Y,16349);const B=Y,Q=B?.error||B[0]?.error;if(Q){ue(on,`RPC '${e}' stream ${o} received error:`,Q);const se=Q.status;let fe=(function(R){const D=Vt[R];if(D!==void 0)return tS(D)})(se),de=Q.message;fe===void 0&&(fe=Z.INTERNAL,de="Unknown error status: "+se+" with message "+Q.message),C=!0,j.a_(new oe(fe,de)),w.close()}else ue(on,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}})),V(m,pT.STAT_EVENT,(P=>{P.stat===pp.PROXY?ue(on,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===pp.NOPROXY&&ue(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Xg(){return typeof document<"u"?document:null}function yd(n){return new X6(n,!0)}class gS{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kE="PersistentStream";class pS{constructor(e,t,r,o,l,u,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(kE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K4 extends pS{constructor(e,t,r,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=J6(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?ir(u.readTime):Ae.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Rp(this.serializer),t.addTarget=(function(l,u){let m;const g=u.target;if(m=wp(g)?{documents:n4(l,g)}:{query:i4(l,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=rS(l,u.resumeToken);const p=Sp(l,u.expectedCount);p!==null&&(m.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Uf(l,u.snapshotVersion.toTimestamp());const p=Sp(l,u.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=s4(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.q_(t)}}class Y4 extends pS{constructor(e,t,r,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=t4(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>e4(this.serializer,r)))};this.q_(t)}}class Q4{}class X4 extends Q4{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,bp(t,r),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Z.UNKNOWN,l.toString())}))}Ho(e,t,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,bp(t,r),o,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class W4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class Z4{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Za(this)&&(ue(Ga,"Restarting streams for network reachability change."),await(async function(g){const p=Ie(g);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await _d(p)})(this))}))})),this.Ra=new W4(r,o)}}async function _d(n){if(Za(n))for(const e of n.da)await e(!0)}async function _u(n){for(const e of n.da)await e(!1)}function yS(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),my(t)?dy(t):Tl(t).O_()&&fy(t,e))}function hy(n,e){const t=Ie(n),r=Tl(t);t.Ia.delete(e),r.O_()&&_S(t,e),t.Ia.size===0&&(r.O_()?r.L_():Za(t)&&t.Ra.set("Unknown"))}function fy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(n).Y_(e)}function _S(n,e){n.Va.Ue(e),Tl(n).Z_(e)}function dy(n){n.Va=new $6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Ra.ua()}function my(n){return Za(n)&&!Tl(n).x_()&&n.Ia.size>0}function Za(n){return Ie(n).Ea.size===0}function vS(n){n.Va=void 0}async function J4(n){n.Ra.set("Online")}async function eN(n){n.Ia.forEach(((e,t)=>{fy(n,e)}))}async function tN(n,e){vS(n),my(n)?(n.Ra.ha(e),dy(n)):n.Ra.set("Unknown")}async function nN(n,e,t){if(n.Ra.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(n,e)}catch(r){ue(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(n,r)}else if(e instanceof Sf?n.Va.Ze(e):e instanceof nS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const r=await mS(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,p)=>{const _=l.Ia.get(g);if(!_)return;l.Ia.set(g,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),_S(l,g);const w=new zs(_.target,g,p,_.sequenceNumber);fy(l,w)})),l.remoteSyncer.applyRemoteEvent(m)})(n,t)}catch(r){ue(Ga,"Failed to raise snapshot:",r),await zf(n,r)}}async function zf(n,e,t){if(!El(e))throw e;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),t||(t=()=>mS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Ga,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _d(n)}))}function ES(n,e){return e().catch((t=>zf(n,t,e)))}async function vd(n){const e=Ie(n),t=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zp;for(;iN(e);)try{const o=await U4(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,rN(e,o)}catch(o){await zf(e,o)}wS(e)&&TS(e)}function iN(n){return Za(n)&&n.Ta.length<10}function rN(n,e){n.Ta.push(e);const t=Qs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function wS(n){return Za(n)&&!Qs(n).x_()&&n.Ta.length>0}function TS(n){Qs(n).start()}async function sN(n){Qs(n).ra()}async function aN(n){const e=Qs(n);for(const t of n.Ta)e.ea(t.mutations)}async function oN(n,e,t){const r=n.Ta.shift(),o=ry.from(r,e,t);await ES(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vd(n)}async function lN(n,e){e&&Qs(n).X_&&await(async function(r,o){if((function(u){return H6(u)&&u!==Z.ABORTED})(o.code)){const l=r.Ta.shift();Qs(r).B_(),await ES(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await vd(r)}})(n,e),wS(n)&&TS(n)}async function ME(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ue(Ga,"RemoteStore received new credentials");const r=Za(t);t.Ea.add(3),await _u(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _d(t)}async function cN(n,e){const t=Ie(n);e?(t.Ea.delete(2),await _d(t)):e||(t.Ea.add(2),await _u(t),t.Ra.set("Unknown"))}function Tl(n){return n.ma||(n.ma=(function(t,r,o){const l=Ie(t);return l.sa(),new K4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:J4.bind(null,n),t_:eN.bind(null,n),r_:tN.bind(null,n),H_:nN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),my(n)?dy(n):n.Ra.set("Unknown")):(await n.ma.stop(),vS(n))}))),n.ma}function Qs(n){return n.fa||(n.fa=(function(t,r,o){const l=Ie(t);return l.sa(),new Y4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:sN.bind(null,n),r_:lN.bind(null,n),ta:aN.bind(null,n),na:oN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await vd(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Ga,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class gy{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const u=Date.now()+r,m=new gy(e,t,u,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),El(n))return new oe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=jc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PE{constructor(){this.ga=new yt(pe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class hl{constructor(e,t,r,o,l,u,m,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,l){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new hl(e,t,nl.emptySet(t),u,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class uN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hN{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ie(t),l=o.queries;o.queries=xE(),l.forEach(((u,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function xE(){return new Wa((n=>FT(n)),hd)}async function yy(n,e){const t=Ie(n);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new uN,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const m=py(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&vy(t)}async function _y(n,e){const t=Ie(n),r=e.query;let o=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function fN(n,e){const t=Ie(n);let r=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&vy(t)}function dN(n,e,t){const r=Ie(n),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);r.queries.delete(e)}function vy(n){n.Ca.forEach((e=>{e.next()}))}var Dp,LE;(LE=Dp||(Dp={})).Ma="default",LE.Cache="cache";class Ey{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dp.Cache}}class SS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class mN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=HT(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new PE,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const T=o.get(_),C=fd(this.query,w)?w:null,j=!!T&&this.mutatedKeys.has(T.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;T&&C?T.data.isEqual(C.data)?j!==V&&(r.track({type:3,doc:C}),P=!0):this.su(T,C)||(r.track({type:2,doc:C}),P=!0,(g&&this.eu(C,g)>0||p&&this.eu(C,p)<0)&&(m=!0)):!T&&C?(r.track({type:0,doc:C}),P=!0):T&&!C&&(r.track({type:1,doc:T}),P=!0,(g||p)&&(m=!0)),P&&(C?(u=u.add(C),l=V?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,w)=>(function(C,j){const V=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:P})}};return V(C)-V(j)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,u.length!==0||p?{snapshot:new hl(this.query,e.tu,l,u,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new bS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new SS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wy="SyncEngine";class gN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pN{constructor(e){this.key=e,this.hu=!1}}class yN{constructor(e,t,r,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Wa((m=>FT(m)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new yt(pe.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _N(n,e,t=!0){const r=NS(n);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await AS(r,e,t,!0),o}async function vN(n,e){const t=NS(n);await AS(t,e,!0,!1)}async function AS(n,e,t,r){const o=await B4(n.localStore,nr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let m;return r&&(m=await EN(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&yS(n.remoteStore,o),m}async function EN(n,e,t,r,o){n.pu=(w,T,C)=>(async function(V,P,Y,B){let Q=P.view.ru(Y);Q.Cs&&(Q=await CE(V.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Q))));const se=B&&B.targetChanges.get(P.targetId),fe=B&&B.targetMismatches.get(P.targetId)!=null,de=P.view.applyChanges(Q,V.isPrimaryClient,se,fe);return UE(V,P.targetId,de.au),de.snapshot})(n,w,T,C);const l=await CE(n.localStore,e,!0),u=new mN(e,l.Qs),m=u.ru(l.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(m,n.isPrimaryClient,g);UE(n,t,p.au);const _=new gN(e,t,u);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function wN(n,e,t){const r=Ie(n),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((u=>!hd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&hy(r.remoteStore,o.targetId),Np(r,o.targetId)})).catch(vl)):(Np(r,o.targetId),await Ip(r.localStore,o.targetId,!0))}async function TN(n,e){const t=Ie(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hy(t.remoteStore,r.targetId))}async function SN(n,e,t){const r=NN(n);try{const o=await(function(u,m){const g=Ie(u),p=st.now(),_=m.reduce(((C,j)=>C.add(j.key)),Ue());let w,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let j=Xr(),V=Ue();return g.Ns.getEntries(C,_).next((P=>{j=P,j.forEach(((Y,B)=>{B.isValidDocument()||(V=V.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,j))).next((P=>{w=P;const Y=[];for(const B of m){const Q=U6(B,w.get(B.key).overlayedDocument);Q!=null&&Y.push(new ea(B.key,Q,PT(Q.value.mapValue),Tn.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,Y,m)})).next((P=>{T=P;const Y=P.applyToLocalDocumentSet(w,V);return g.documentOverlayCache.saveOverlays(C,P.batchId,Y)}))})).then((()=>({batchId:T.batchId,changes:GT(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let p=u.Vu[u.currentUser.toKey()];p||(p=new yt(Ve)),p=p.insert(m,g),u.Vu[u.currentUser.toKey()]=p})(r,o.batchId,t),await vu(r,o.changes),await vd(r.remoteStore)}catch(o){const l=py(o,"Failed to persist write");t.reject(l)}}async function RS(n,e){const t=Ie(n);try{const r=await L4(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await vu(t,r,e)}catch(r){await vl(r)}}function VE(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Ie(u);g.onlineState=m;let p=!1;g.queries.forEach(((_,w)=>{for(const T of w.Sa)T.va(m)&&(p=!0)})),p&&vy(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bN(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),l=o&&o.key;if(l){let u=new yt(pe.comparator);u=u.insert(l,cn.newNoDocument(l,Ae.min()));const m=Ue().add(l),g=new pd(Ae.min(),new Map,new yt(Ve),u,m);await RS(r,g),r.du=r.du.remove(l),r.Au.delete(e),Ty(r)}else await Ip(r.localStore,e,!1).then((()=>Np(r,e,t))).catch(vl)}async function AN(n,e){const t=Ie(n),r=e.batch.batchId;try{const o=await x4(t.localStore,e);CS(t,r,null),IS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vu(t,o)}catch(o){await vl(o)}}async function RN(n,e,t){const r=Ie(n);try{const o=await(function(u,m){const g=Ie(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next((w=>(Ke(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(p,w)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>g.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);CS(r,e,t),IS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vu(r,o)}catch(o){await vl(o)}}function IS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function CS(n,e,t){const r=Ie(n);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Np(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||DS(n,r)}))}function DS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(hy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ty(n))}function UE(n,e,t){for(const r of t)r instanceof SS?(n.Ru.addReference(r.key,e),IN(n,r)):r instanceof bS?(ue(wy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||DS(n,r.key)):Te(19791,{wu:r})}function IN(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ue(wy,"New document in limbo: "+t),n.Eu.add(r),Ty(n))}function Ty(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new pe(rt.fromString(e)),r=n.fu.next();n.Au.set(r,new pN(t)),n.du=n.du.insert(t,r),yS(n.remoteStore,new zs(nr(ud(t.path)),r,"TargetPurposeLimboResolution",od.ce))}}async function vu(n,e,t){const r=Ie(n),o=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{u.push(r.pu(g,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(p){o.push(p);const _=cy.As(g.targetId,p);l.push(_)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,p){const _=Ie(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(p,(T=>ne.forEach(T.Es,(C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C))).next((()=>ne.forEach(T.ds,(C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))))))}catch(w){if(!El(w))throw w;ue(uy,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const C=_.Ms.get(T),j=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(T,V)}}})(r.localStore,l))}async function CN(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ue(wy,"User change. New user:",e.toKey());const r=await dS(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(Z.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(t,r.Ls)}}function DN(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const m=t.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function NS(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bN.bind(null,e),e.Pu.H_=fN.bind(null,e.eventManager),e.Pu.yu=dN.bind(null,e.eventManager),e}function NN(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return P4(this.persistence,new O4,e.initialUser,this.serializer)}Cu(e){return new fS(ly.mi,this.serializer)}Du(e){return new j4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class ON extends jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p4(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new fS((r=>Bf.mi(r,t)),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hN})()}createDatastore(e){const t=yd(e.databaseInfo.databaseId),r=(function(l){return new $4(l)})(e.databaseInfo);return(function(l,u,m,g){return new X4(l,u,m,g)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,l,u,m){return new Z4(r,o,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>VE(this.syncEngine,t,0)),(function(){return OE.v()?new OE:new F4})())}createSyncEngine(e,t){return(function(o,l,u,m,g,p,_){const w=new yN(o,l,u,m,g,p);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ue(Ga,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class Sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Xs="FirestoreClient";class kN{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ue(Xs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(Xs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=py(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wg(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function BE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await MN(n);ue(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ME(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>ME(e.remoteStore,o))),n._onlineComponents=e}async function MN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Xs,"Using user provided OfflineComponentProvider");try{await Wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;qa("Error using user provided cache. Falling back to memory cache: "+t),await Wg(n,new jf)}}else ue(Xs,"Using default OfflineComponentProvider"),await Wg(n,new ON(void 0));return n._offlineComponents}async function OS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Xs,"Using user provided OnlineComponentProvider"),await BE(n,n._uninitializedComponentsProvider._online)):(ue(Xs,"Using default OnlineComponentProvider"),await BE(n,new Op))),n._onlineComponents}function PN(n){return OS(n).then((e=>e.syncEngine))}async function Ff(n){const e=await OS(n),t=e.eventManager;return t.onListen=_N.bind(null,e.syncEngine),t.onUnlisten=wN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TN.bind(null,e.syncEngine),t}function xN(n,e,t={}){const r=new Fr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,g,p){const _=new Sy({next:T=>{_.Nu(),u.enqueueAndForget((()=>_y(l,w)));const C=T.docs.has(m);!C&&T.fromCache?p.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&g&&g.source==="server"?p.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new Ey(ud(m.path),_,{includeMetadataChanges:!0,qa:!0});return yy(l,w)})(await Ff(n),n.asyncQueue,e,t,r))),r.promise}function LN(n,e,t={}){const r=new Fr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,g,p){const _=new Sy({next:T=>{_.Nu(),u.enqueueAndForget((()=>_y(l,w))),T.fromCache&&g.source==="server"?p.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new Ey(m,_,{includeMetadataChanges:!0,qa:!0});return yy(l,w)})(await Ff(n),n.asyncQueue,e,t,r))),r.promise}function kS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const zE=new Map;const MS="firestore.googleapis.com",jE=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ST("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wT;switch(r.type){case"firstParty":return new $D(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zE.get(t);r&&(ue("ComponentProvider","Removing Datastore"),zE.delete(t),r.terminate())})(this),Promise.resolve()}}function PS(n,e,t,r={}){n=hn(n,Ed);const o=ur(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;o&&(nd(`https://${m}`),id("Firestore",!0)),l.host!==MS&&l.host!==m&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:r};if(!Fa(g,u)&&(n._setSettings(g),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=ln.MOCK_USER;else{p=sT(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ln(w)}n._authCredentials=new HD(new ET(p,_))}}class hr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gu(t,pt._jsonSchema))return new pt(e,r||null,new pe(rt.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Bt("string",pt._jsonSchemaVersion),referencePath:Bt("string")};class Hr extends hr{constructor(e,t,r){super(e,t,ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function be(n,e,...t){if(n=Ye(n),TT("collection","path",e),n instanceof Ed){const r=rt.fromString(e,...t);return tE(r),new Hr(n,null,r)}{if(!(n instanceof pt||n instanceof Hr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return tE(r),new Hr(n.firestore,null,r)}}function ve(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=sd.newId()),TT("doc","path",e),n instanceof Ed){const r=rt.fromString(e,...t);return eE(r),new pt(n,null,new pe(r))}{if(!(n instanceof pt||n instanceof Hr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return eE(r),new pt(n.firestore,n instanceof Hr?n.converter:null,new pe(r))}}const HE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gS(this,"async_queue_retry"),this._c=()=>{const r=Xg();r&&ue(HE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Xg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;ue(HE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",GE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=gy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function GE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function $E(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of r)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Di extends Ed{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new qE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function xS(n,e){const t=typeof n=="object"?n:mu(),r=typeof n=="string"?n:Mf,o=Zs(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=Yp("firestore");l&&PS(o,...l)}return o}function Sl(n){if(n._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VN(n),n._firestoreClient}function VN(n){const e=n._freezeSettings(),t=(function(o,l,u,m){return new c6(o,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Wt.fromBase64String(e))}catch(t){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Bt("string",Hn._jsonSchemaVersion),bytes:Bt("string")};class bl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._methodName=e}}class Ri{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Bt("string",Ri._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Ii{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ii(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Bt("string",Ii._jsonSchemaVersion),vectorValues:Bt("object")};const UN=/^__.*__$/;class BN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class by{constructor(e,t,r,o,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new by({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VS(this.Ac)&&UN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yd(e)}Cc(e,t,r,o=!1){return new by({Ac:e,methodName:t,Dc:r,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(n){const e=n._freezeSettings(),t=yd(n._databaseId);return new zN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ay(n,e,t,r,o,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Iy("Data must be an object, but it was:",u,r);const m=zS(r,u);let g,p;if(l.merge)g=new qn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=kp(e,w,t);if(!u.contains(T))throw new oe(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);FS(_,T)||_.push(T)}g=new qn(_),p=u.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,p=u.fieldTransforms;return new BN(new On(m),g,p)}class wd extends Eu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}class Ry extends Eu{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new ou(e.serializer,YT(e.serializer,this.Fc));return new P6(e.path,t)}isEqual(e){return e instanceof Ry&&this.Fc===e.Fc}}function US(n,e,t,r){const o=n.Cc(1,e,t);Iy("Data must be an object, but it was:",o,r);const l=[],u=On.empty();Js(r,((g,p)=>{const _=Cy(e,g,t);p=Ye(p);const w=o.yc(_);if(p instanceof wd)l.push(_);else{const T=Tu(p,w);T!=null&&(l.push(_),u.set(_,T))}}));const m=new qn(l);return new LS(u,m,o.fieldTransforms)}function BS(n,e,t,r,o,l){const u=n.Cc(1,e,t),m=[kp(e,r,t)],g=[o];if(l.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(kp(e,l[T])),g.push(l[T+1]);const p=[],_=On.empty();for(let T=m.length-1;T>=0;--T)if(!FS(p,m[T])){const C=m[T];let j=g[T];j=Ye(j);const V=u.yc(C);if(j instanceof wd)p.push(C);else{const P=Tu(j,V);P!=null&&(p.push(C),_.set(C,P))}}const w=new qn(p);return new LS(_,w,u.fieldTransforms)}function jN(n,e,t,r=!1){return Tu(t,n.Cc(r?4:3,e))}function Tu(n,e){if(jS(n=Ye(n)))return Iy("Unsupported field value:",e,n),zS(n,e);if(n instanceof Eu)return(function(r,o){if(!VS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let u=0;for(const m of r){let g=Tu(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,o){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=st.fromDate(r);return{timestampValue:Uf(o.serializer,l)}}if(r instanceof st){const l=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(o.serializer,l)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:rS(o.serializer,r._byteString)};if(r instanceof pt){const l=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ay(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ii)return(function(u,m){return{mapValue:{fields:{[kT]:{stringValue:MT},[Pf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return iy(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ad(r)}`)})(n,e)}function zS(n,e){const t={};return RT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,((r,o)=>{const l=Tu(o,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function jS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Ri||n instanceof Hn||n instanceof pt||n instanceof Eu||n instanceof Ii)}function Iy(n,e,t){if(!jS(t)||!bT(t)){const r=ad(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function kp(n,e,t){if((e=Ye(e))instanceof bl)return e._internalPath;if(typeof e=="string")return Cy(n,e);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,t)}const FN=new RegExp("[~\\*/\\[\\]]");function Cy(n,e,t){if(e.search(FN)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bl(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hf(n,e,t,r,o){const l=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new oe(Z.INVALID_ARGUMENT,m+n+g)}function FS(n,e){return n.some((t=>t.isEqual(e)))}class HS{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Td("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HN extends HS{data(){return super.data()}}function Td(n,e){return typeof e=="string"?Cy(n,e):e instanceof bl?e._internalPath:e._delegate._internalPath}function qS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class Sd extends Dy{}function It(n,e,...t){let r=[];e instanceof Dy&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((g=>g instanceof bd)).length,m=l.filter((g=>g instanceof Su)).length;if(u>1||u>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Su extends Sd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Su(e,t,r)}_apply(e){const t=this._parse(e);return GS(e._query,t),new hr(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=wu(e.firestore);return(function(l,u,m,g,p,_,w){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){YE(w,_);const j=[];for(const V of w)j.push(KE(g,l,V));T={arrayValue:{values:j}}}else T=KE(g,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||YE(w,_),T=jN(m,u,w,_==="in"||_==="not-in");return Ut.create(p,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fn(n,e,t){const r=e,o=Td("where",n);return Su._create(o,r,t)}class bd extends Dy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bd(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const m=l.getFlattenedFilters();for(const g of m)GS(u,g),u=Tp(u,g)})(e._query,t),new hr(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ad extends Sd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ad(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(l,u)})(e._query,this._field,this._direction);return new hr(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new wl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function er(n,e="asc"){const t=e,r=Td("orderBy",n);return Ad._create(r,t)}class Rd extends Sd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rd(e,t,r)}_apply(e){return new hr(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function qr(n){return ZD("limit",n),Rd._create("limit",n,"F")}function KE(n,e,t){if(typeof(t=Ye(t))=="string"){if(t==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&t.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!pe.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cE(n,new pe(r))}if(t instanceof pt)return cE(n,t._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function YE(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(n,e){const t=(function(o,l){for(const u of o)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $S{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Js(e,((o,l)=>{r[o]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Pf].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Ii(t)}convertGeoPoint(e){return new Ri(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=$s(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(uS(r),9688,{name:e});const o=new ol(r.get(1),r.get(3)),l=new pe(r.popFirst(5));return o.isEqual(t)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Ny(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends HS{constructor(e,t,r,o,l,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Td("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Bt("string",Hs._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Xc extends Hs{data(e={}){return super.data(e)}}class qs{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new el(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Xc(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new el(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new el(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:qN(m.type),doc:g,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}function gt(n){n=hn(n,pt);const e=hn(n.firestore,Di);return xN(Sl(e),n._key).then((t=>KS(e,n,t)))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:Bt("string",qs._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Oy extends $S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function lt(n){n=hn(n,hr);const e=hn(n.firestore,Di),t=Sl(e),r=new Oy(e);return qS(n._query),LN(t,n._query).then((o=>new qs(e,r,n,o)))}function En(n,e,t){n=hn(n,pt);const r=hn(n.firestore,Di),o=Ny(n.converter,e,t);return Al(r,[Ay(wu(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Tn.none())])}function Vr(n,e,t,...r){n=hn(n,pt);const o=hn(n.firestore,Di),l=wu(o);let u;return u=typeof(e=Ye(e))=="string"||e instanceof bl?BS(l,"updateDoc",n._key,e,t,r):US(l,"updateDoc",n._key,e),Al(o,[u.toMutation(n._key,Tn.exists(!0))])}function Gr(n){return Al(hn(n.firestore,Di),[new gd(n._key,Tn.none())])}function Gn(n,e){const t=hn(n.firestore,Di),r=ve(n),o=Ny(n.converter,e);return Al(t,[Ay(wu(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then((()=>r))}function $r(n,...e){n=Ye(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$E(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if($E(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let l,u,m;if(n instanceof pt)u=hn(n.firestore,Di),m=ud(n._key.path),l={next:g=>{e[r]&&e[r](KS(u,n,g))},error:e[r+1],complete:e[r+2]};else{const g=hn(n,hr);u=hn(g.firestore,Di),m=g._query;const p=new Oy(u);l={next:_=>{e[r]&&e[r](new qs(u,p,g,_))},error:e[r+1],complete:e[r+2]},qS(n._query)}return(function(p,_,w,T){const C=new Sy(T),j=new Ey(_,C,w);return p.asyncQueue.enqueueAndForget((async()=>yy(await Ff(p),j))),()=>{C.Nu(),p.asyncQueue.enqueueAndForget((async()=>_y(await Ff(p),j)))}})(Sl(u),m,o,l)}function Al(n,e){return(function(r,o){const l=new Fr;return r.asyncQueue.enqueueAndForget((async()=>SN(await PN(r),o,l))),l.promise})(Sl(n),e)}function KS(n,e,t){const r=t.docs.get(e._key),o=new Oy(n);return new Hs(n,o,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}class YS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wu(e)}set(e,t,r){this._verifyNotCommitted();const o=Zg(e,this._firestore),l=Ny(o.converter,t,r),u=Ay(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Tn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Zg(e,this._firestore);let u;return u=typeof(t=Ye(t))=="string"||t instanceof bl?BS(this._dataReader,"WriteBatch.update",l._key,t,r,o):US(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zg(e,this._firestore);return this._mutations=this._mutations.concat(new gd(t._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zg(n,e){if((n=Ye(n)).firestore!==e)throw new oe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Hc(n){return new Ry("increment",n)}function fl(n){return Sl(n=hn(n,Di)),new YS(n,(e=>Al(n,e)))}(function(e,t=!0){(function(o){_l=o})(Xa),ui(new Kn("firestore",((r,{instanceIdentifier:o,options:l})=>{const u=r.getProvider("app").getImmediate(),m=new Di(new qD(r.getProvider("auth-internal")),new KD(u,r.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(p.options.projectId,_)})(u,o),u);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),un(X1,W1,e),un(X1,W1,"esm2020")})();const GN=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:$S,Bytes:Hn,CollectionReference:Hr,DocumentReference:pt,DocumentSnapshot:Hs,FieldPath:bl,FieldValue:Eu,Firestore:Di,FirestoreError:oe,GeoPoint:Ri,Query:hr,QueryCompositeFilterConstraint:bd,QueryConstraint:Sd,QueryDocumentSnapshot:Xc,QueryFieldFilterConstraint:Su,QueryLimitConstraint:Rd,QueryOrderByConstraint:Ad,QuerySnapshot:qs,SnapshotMetadata:el,Timestamp:st,VectorValue:Ii,WriteBatch:YS,_AutoId:sd,_ByteString:Wt,_DatabaseId:ol,_DocumentKey:pe,_EmptyAuthCredentialsProvider:wT,_FieldPath:Xt,_cast:hn,_logWarn:qa,_validateIsNotUsedTogether:ST,addDoc:Gn,collection:be,connectFirestoreEmulator:PS,deleteDoc:Gr,doc:ve,ensureFirestoreConfigured:Sl,executeWrite:Al,getDoc:gt,getDocs:lt,getFirestore:xS,increment:Hc,limit:qr,onSnapshot:$r,orderBy:er,query:It,setDoc:En,updateDoc:Vr,where:fn,writeBatch:fl},Symbol.toStringTag,{value:"Module"}));const QS="firebasestorage.googleapis.com",XS="storageBucket",$N=120*1e3,KN=600*1e3;class wt extends hi{constructor(e,t,r=0){super(Jg(e),`Firebase Storage: ${t} (${Jg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function Jg(n){return"storage/"+n}function ky(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(Et.UNKNOWN,n)}function YN(n){return new wt(Et.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function QN(n){return new wt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(Et.UNAUTHENTICATED,n)}function WN(){return new wt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZN(n){return new wt(Et.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function JN(){return new wt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eO(){return new wt(Et.CANCELED,"User canceled the upload/download.")}function tO(n){return new wt(Et.INVALID_URL,"Invalid URL '"+n+"'.")}function nO(n){return new wt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iO(){return new wt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XS+"' property when initializing the app?")}function rO(){return new wt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sO(){return new wt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aO(n){return new wt(Et.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(n){return new wt(Et.INVALID_ARGUMENT,n)}function WS(){return new wt(Et.APP_DELETED,"The Firebase app was deleted.")}function oO(n){return new wt(Et.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wc(n,e){return new wt(Et.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function xc(n){throw new wt(Et.INTERNAL_ERROR,"Internal error: "+n)}class $n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=$n.makeFromUrl(e,t)}catch{return new $n(e,"")}if(r.path==="")return r;throw nO(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${_}/b/${o}/o${T}`,"i"),j={bucket:1,path:3},V=t===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",Y=new RegExp(`^https?://${V}/${o}/${P}`,"i"),Q=[{regex:m,indices:g,postModify:l},{regex:C,indices:j,postModify:p},{regex:Y,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<Q.length;se++){const fe=Q[se],de=fe.regex.exec(e);if(de){const I=de[fe.indices.bucket];let R=de[fe.indices.path];R||(R=""),r=new $n(I,R),fe.postModify(r);break}}if(r==null)throw tO(e);return r}}class lO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cO(n,e,t){let r=1,o=null,l=null,u=!1,m=0;function g(){return m===2}let p=!1;function _(...P){p||(p=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,n(C,g())},P)}function T(){l&&clearTimeout(l)}function C(P,...Y){if(p){T();return}if(P){T(),_.call(null,P,...Y);return}if(g()||u){T(),_.call(null,P,...Y);return}r<64&&(r*=2);let Q;m===1?(m=2,Q=0):Q=(r+Math.random())*1e3,w(Q)}let j=!1;function V(P){j||(j=!0,T(),!p&&(o!==null?(P||(m=2),clearTimeout(o),w(0)):P||(m=1)))}return w(0),l=setTimeout(()=>{u=!0,V(!0)},t),V}function uO(n){n(!1)}function hO(n){return n!==void 0}function fO(n){return typeof n=="object"&&!Array.isArray(n)}function My(n){return typeof n=="string"||n instanceof String}function QE(n){return Py()&&n instanceof Blob}function Py(){return typeof Blob<"u"}function XE(n,e,t,r){if(r<e)throw Mp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Mp(`Invalid value for '${n}'. Expected ${t} or less.`)}function xy(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var ja;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ja||(ja={}));function dO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}class mO{constructor(e,t,r,o,l,u,m,g,p,_,w,T=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,V)=>{this.resolve_=j,this.reject_=V,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new uf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===ja.NO_ERROR,g=l.getStatus();if(!m||dO(g,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===ja.ABORT;r(!1,new uf(!1,null,_));return}const p=this.successCodes_.indexOf(g)!==-1;r(!0,new uf(p,l))})},t=(r,o)=>{const l=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());hO(g)?l(g):l()}catch(g){u(g)}else if(m!==null){const g=ky();g.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,g)):u(g)}else if(o.canceled){const g=this.appDelete_?WS():eO();u(g)}else{const g=JN();u(g)}};this.canceled_?t(!1,new uf(!1,null,!0)):this.backoffId_=cO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function gO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function pO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _O(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vO(n,e,t,r,o,l,u=!0,m=!1){const g=ZS(n.urlParams),p=n.url+g,_=Object.assign({},n.headers);return yO(_,e),gO(_,t),pO(_,l),_O(_,r),new mO(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,m)}function EO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wO(...n){const e=EO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Py())return new Blob(n);throw new wt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function SO(n){if(typeof atob>"u")throw aO("base-64");return atob(n)}const tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(e,t){this.data=e,this.contentType=t||null}}function bO(n,e){switch(n){case tr.RAW:return new ep(JS(e));case tr.BASE64:case tr.BASE64URL:return new ep(eb(n,e));case tr.DATA_URL:return new ep(RO(e),IO(e))}throw ky()}function JS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=n.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function AO(n){let e;try{e=decodeURIComponent(n)}catch{throw Wc(tr.DATA_URL,"Malformed data URL.")}return JS(e)}function eb(n,e){switch(n){case tr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Wc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case tr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Wc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=SO(e)}catch(o){throw o.message.includes("polyfill")?o:Wc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class tb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Wc(tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=CO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RO(n){const e=new tb(n);return e.base64?eb(tr.BASE64,e.rest):AO(e.rest)}function IO(n){return new tb(n).contentType}function CO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Bs{constructor(e,t){let r=0,o="";QE(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(QE(this.data_)){const r=this.data_,o=TO(r,e,t);return o===null?null:new Bs(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Bs(r,!0)}}static getBlob(...e){if(Py()){const t=e.map(r=>r instanceof Bs?r.data_:r);return new Bs(wO.apply(null,t))}else{const t=e.map(u=>My(u)?bO(tr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)o[l++]=u[m]}),new Bs(o,!0)}}uploadData(){return this.data_}}function nb(n){let e;try{e=JSON.parse(n)}catch{return null}return fO(e)?e:null}function DO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function ib(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function OO(n,e){return e}class _n{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||OO}}let hf=null;function kO(n){return!My(n)||n.length<2?n:ib(n)}function rb(){if(hf)return hf;const n=[];n.push(new _n("bucket")),n.push(new _n("generation")),n.push(new _n("metageneration")),n.push(new _n("name","fullPath",!0));function e(l,u){return kO(u)}const t=new _n("name");t.xform=e,n.push(t);function r(l,u){return u!==void 0?Number(u):u}const o=new _n("size");return o.xform=r,n.push(o),n.push(new _n("timeCreated")),n.push(new _n("updated")),n.push(new _n("md5Hash",null,!0)),n.push(new _n("cacheControl",null,!0)),n.push(new _n("contentDisposition",null,!0)),n.push(new _n("contentEncoding",null,!0)),n.push(new _n("contentLanguage",null,!0)),n.push(new _n("contentType",null,!0)),n.push(new _n("metadata","customMetadata",!0)),hf=n,hf}function MO(n,e){function t(){const r=n.bucket,o=n.fullPath,l=new $n(r,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function PO(n,e,t){const r={};r.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return MO(r,n),r}function sb(n,e,t){const r=nb(e);return r===null?null:PO(n,r,t)}function xO(n,e,t,r){const o=nb(e);if(o===null||!My(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(p=>{const _=n.bucket,w=n.fullPath,T="/b/"+u(_)+"/o/"+u(w),C=xy(T,t,r),j=ZS({alt:"media",token:p});return C+j})[0]}function LO(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class ab{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ob(n){if(!n)throw ky()}function VO(n,e){function t(r,o){const l=sb(n,o,e);return ob(l!==null),l}return t}function UO(n,e){function t(r,o){const l=sb(n,o,e);return ob(l!==null),xO(l,o,n.host,n._protocol)}return t}function lb(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=WN():o=XN():t.getStatus()===402?o=QN(n.bucket):t.getStatus()===403?o=ZN(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function BO(n){const e=lb(n);function t(r,o){let l=e(r,o);return r.getStatus()===404&&(l=YN(n.path)),l.serverResponse=o.serverResponse,l}return t}function zO(n,e,t){const r=e.fullServerUrl(),o=xy(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,m=new ab(o,l,UO(n,t),u);return m.errorHandler=BO(e),m}function jO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function FO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=jO(null,e)),r}function HO(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let se=0;se<2;se++)Q=Q+Math.random().toString().slice(2);return Q}const g=m();u["Content-Type"]="multipart/related; boundary="+g;const p=FO(e,r,o),_=LO(p,t),w="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+g+"--",C=Bs.getBlob(w,r,T);if(C===null)throw rO();const j={name:p.fullPath},V=xy(l,n.host,n._protocol),P="POST",Y=n.maxUploadRetryTime,B=new ab(V,P,VO(n,t),Y);return B.urlParams=j,B.headers=u,B.body=C.uploadData(),B.errorHandler=lb(e),B}class qO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,l){if(this.sent_)throw xc("cannot .send() more than once");if(ur(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GO extends qO{initXhr(){this.xhr_.responseType="text"}}function cb(){return new GO}class $a{constructor(e,t){this._service=e,t instanceof $n?this._location=t:this._location=$n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $a(e,t)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ib(this._location.path)}get storage(){return this._service}get parent(){const e=DO(this._location.path);if(e===null)return null;const t=new $n(this._location.bucket,e);return new $a(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw oO(e)}}function $O(n,e,t){n._throwIfRoot("uploadBytes");const r=HO(n.storage,n._location,rb(),new Bs(e,!0),t);return n.storage.makeRequestWithTokens(r,cb).then(o=>({metadata:o,ref:n}))}function KO(n){n._throwIfRoot("getDownloadURL");const e=zO(n.storage,n._location,rb());return n.storage.makeRequestWithTokens(e,cb).then(t=>{if(t===null)throw sO();return t})}function YO(n,e){const t=NO(n._location.path,e),r=new $n(n._location.bucket,t);return new $a(n.storage,r)}function QO(n){return/^[A-Za-z]+:\/\//.test(n)}function XO(n,e){return new $a(n,e)}function ub(n,e){if(n instanceof Ly){const t=n;if(t._bucket==null)throw iO();const r=new $a(t,t._bucket);return e!=null?ub(r,e):r}else return e!==void 0?YO(n,e):n}function WO(n,e){if(e&&QO(e)){if(n instanceof Ly)return XO(n,e);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return ub(n,e)}function WE(n,e){const t=e?.[XS];return t==null?null:$n.makeFromBucketSpec(t,n)}function ZO(n,e,t,r={}){n.host=`${e}:${t}`;const o=ur(e);o&&(nd(`https://${n.host}/b`),id("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:sT(l,n.app.options.projectId))}class Ly{constructor(e,t,r,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$N,this._maxUploadRetryTime=KN,this._requests=new Set,o!=null?this._bucket=$n.makeFromBucketSpec(o,this._host):this._bucket=WE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=WE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,t,r,o,l=!0){if(this._deleted)return new lO(WS());{const u=vO(e,this._appId,r,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const ZE="@firebase/storage",JE="0.14.0";const hb="storage";function JO(n,e,t){return n=Ye(n),$O(n,e,t)}function ek(n){return n=Ye(n),KO(n)}function tk(n,e){return n=Ye(n),WO(n,e)}function nk(n=mu(),e){n=Ye(n);const r=Zs(n,hb).getImmediate({identifier:e}),o=Yp("storage");return o&&ik(r,...o),r}function ik(n,e,t,r={}){ZO(n,e,t,r)}function rk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Ly(t,r,o,e,Xa)}function sk(){ui(new Kn(hb,rk,"PUBLIC").setMultipleInstances(!0)),un(ZE,JE,""),un(ZE,JE,"esm2020")}sk();const fb="@firebase/installations",Vy="0.6.19";const db=1e4,mb=`w:${Vy}`,gb="FIS_v2",ak="https://firebaseinstallations.googleapis.com/v1",ok=3600*1e3,lk="installations",ck="Installations";const uk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ka=new Qa(lk,ck,uk);function pb(n){return n instanceof hi&&n.code.includes("request-failed")}function yb({projectId:n}){return`${ak}/projects/${n}/installations`}function _b(n){return{token:n.token,requestStatus:2,expiresIn:fk(n.expiresIn),creationTime:Date.now()}}async function vb(n,e){const r=(await e.json()).error;return Ka.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Eb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hk(n,{refreshToken:e}){const t=Eb(n);return t.append("Authorization",dk(e)),t}async function wb(n){const e=await n();return e.status>=500&&e.status<600?n():e}function fk(n){return Number(n.replace("s","000"))}function dk(n){return`${gb} ${n}`}async function mk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=yb(n),o=Eb(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={fid:t,authVersion:gb,appId:n.appId,sdkVersion:mb},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await wb(()=>fetch(r,m));if(g.ok){const p=await g.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:_b(p.authToken)}}else throw await vb("Create Installation",g)}function Tb(n){return new Promise(e=>{setTimeout(e,n)})}function gk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const pk=/^[cdef][\w-]{21}$/,Pp="";function yk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=_k(n);return pk.test(t)?t:Pp}catch{return Pp}}function _k(n){return gk(n).substr(0,22)}function Id(n){return`${n.appName}!${n.appId}`}const Sb=new Map;function bb(n,e){const t=Id(n);Ab(t,e),vk(t,e)}function Ab(n,e){const t=Sb.get(n);if(t)for(const r of t)r(e)}function vk(n,e){const t=Ek();t&&t.postMessage({key:n,fid:e}),wk()}let za=null;function Ek(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=n=>{Ab(n.data.key,n.data.fid)}),za}function wk(){Sb.size===0&&za&&(za.close(),za=null)}const Tk="firebase-installations-database",Sk=1,Ya="firebase-installations-store";let tp=null;function Uy(){return tp||(tp=rd(Tk,Sk,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Ya)}})),tp}async function qf(n,e){const t=Id(n),o=(await Uy()).transaction(Ya,"readwrite"),l=o.objectStore(Ya),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&bb(n,e.fid),e}async function Rb(n){const e=Id(n),r=(await Uy()).transaction(Ya,"readwrite");await r.objectStore(Ya).delete(e),await r.done}async function Cd(n,e){const t=Id(n),o=(await Uy()).transaction(Ya,"readwrite"),l=o.objectStore(Ya),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await o.done,m&&(!u||u.fid!==m.fid)&&bb(n,m.fid),m}async function By(n){let e;const t=await Cd(n.appConfig,r=>{const o=bk(r),l=Ak(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Pp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function bk(n){const e=n||{fid:yk(),registrationStatus:0};return Ib(e)}function Ak(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ka.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Rk(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ik(n)}:{installationEntry:e}}async function Rk(n,e){try{const t=await mk(n,e);return qf(n.appConfig,t)}catch(t){throw pb(t)&&t.customData.serverCode===409?await Rb(n.appConfig):await qf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Ik(n){let e=await ew(n.appConfig);for(;e.registrationStatus===1;)await Tb(100),e=await ew(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await By(n);return r||t}return e}function ew(n){return Cd(n,e=>{if(!e)throw Ka.create("installation-not-found");return Ib(e)})}function Ib(n){return Ck(n)?{fid:n.fid,registrationStatus:0}:n}function Ck(n){return n.registrationStatus===1&&n.registrationTime+db<Date.now()}async function Dk({appConfig:n,heartbeatServiceProvider:e},t){const r=Nk(n,t),o=hk(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={installation:{sdkVersion:mb,appId:n.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await wb(()=>fetch(r,m));if(g.ok){const p=await g.json();return _b(p)}else throw await vb("Generate Auth Token",g)}function Nk(n,{fid:e}){return`${yb(n)}/${e}/authTokens:generate`}async function zy(n,e=!1){let t;const r=await Cd(n.appConfig,l=>{if(!Cb(l))throw Ka.create("not-registered");const u=l.authToken;if(!e&&Mk(u))return l;if(u.requestStatus===1)return t=Ok(n,e),l;{if(!navigator.onLine)throw Ka.create("app-offline");const m=xk(l);return t=kk(n,m),m}});return t?await t:r.authToken}async function Ok(n,e){let t=await tw(n.appConfig);for(;t.authToken.requestStatus===1;)await Tb(100),t=await tw(n.appConfig);const r=t.authToken;return r.requestStatus===0?zy(n,e):r}function tw(n){return Cd(n,e=>{if(!Cb(e))throw Ka.create("not-registered");const t=e.authToken;return Lk(t)?{...e,authToken:{requestStatus:0}}:e})}async function kk(n,e){try{const t=await Dk(n,e),r={...e,authToken:t};return await qf(n.appConfig,r),t}catch(t){if(pb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Rb(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await qf(n.appConfig,r)}throw t}}function Cb(n){return n!==void 0&&n.registrationStatus===2}function Mk(n){return n.requestStatus===2&&!Pk(n)}function Pk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ok}function xk(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function Lk(n){return n.requestStatus===1&&n.requestTime+db<Date.now()}async function Vk(n){const e=n,{installationEntry:t,registrationPromise:r}=await By(e);return r?r.catch(console.error):zy(e).catch(console.error),t.fid}async function Uk(n,e=!1){const t=n;return await Bk(t),(await zy(t,e)).token}async function Bk(n){const{registrationPromise:e}=await By(n);e&&await e}function zk(n){if(!n||!n.options)throw np("App Configuration");if(!n.name)throw np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw np(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function np(n){return Ka.create("missing-app-config-values",{valueName:n})}const Db="installations",jk="installations-internal",Fk=n=>{const e=n.getProvider("app").getImmediate(),t=zk(e),r=Zs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hk=n=>{const e=n.getProvider("app").getImmediate(),t=Zs(e,Db).getImmediate();return{getId:()=>Vk(t),getToken:o=>Uk(t,o)}};function qk(){ui(new Kn(Db,Fk,"PUBLIC")),ui(new Kn(jk,Hk,"PRIVATE"))}qk();un(fb,Vy);un(fb,Vy,"esm2020");const Gk="/firebase-messaging-sw.js",$k="/firebase-cloud-messaging-push-scope",Nb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kk="https://fcmregistrations.googleapis.com/v1",Ob="google.c.a.c_id",Yk="google.c.a.c_l",Qk="google.c.a.ts",Xk="google.c.a.e",nw=1e4;var iw;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(iw||(iw={}));var lu;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(lu||(lu={}));function kr(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wk(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),o=new Uint8Array(r.length);for(let l=0;l<r.length;++l)o[l]=r.charCodeAt(l);return o}const ip="fcm_token_details_db",Zk=5,rw="fcm_token_object_Store";async function Jk(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(ip))return null;let e=null;return(await rd(ip,Zk,{upgrade:async(r,o,l,u)=>{if(o<2||!r.objectStoreNames.contains(rw))return;const m=u.objectStore(rw),g=await m.index("fcmSenderId").get(n);if(await m.clear(),!!g){if(o===2){const p=g;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:kr(p.vapidKey)}}}else if(o===3){const p=g;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:kr(p.auth),p256dh:kr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:kr(p.vapidKey)}}}else if(o===4){const p=g;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:kr(p.auth),p256dh:kr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:kr(p.vapidKey)}}}}}})).close(),await qg(ip),await qg("fcm_vapid_details_db"),await qg("undefined"),eM(e)?e:null}function eM(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const tM="firebase-messaging-database",nM=1,cu="firebase-messaging-store";let rp=null;function kb(){return rp||(rp=rd(tM,nM,{upgrade:(n,e)=>{e===0&&n.createObjectStore(cu)}})),rp}async function iM(n){const e=Mb(n),r=await(await kb()).transaction(cu).objectStore(cu).get(e);if(r)return r;{const o=await Jk(n.appConfig.senderId);if(o)return await jy(n,o),o}}async function jy(n,e){const t=Mb(n),o=(await kb()).transaction(cu,"readwrite");return await o.objectStore(cu).put(e,t),await o.done,e}function Mb({appConfig:n}){return n.appId}const rM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dn=new Qa("messaging","Messaging",rM);async function sM(n,e){const t=await Hy(n),r=Pb(e),o={method:"POST",headers:t,body:JSON.stringify(r)};let l;try{l=await(await fetch(Fy(n.appConfig),o)).json()}catch(u){throw dn.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(l.error){const u=l.error.message;throw dn.create("token-subscribe-failed",{errorInfo:u})}if(!l.token)throw dn.create("token-subscribe-no-token");return l.token}async function aM(n,e){const t=await Hy(n),r=Pb(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(r)};let l;try{l=await(await fetch(`${Fy(n.appConfig)}/${e.token}`,o)).json()}catch(u){throw dn.create("token-update-failed",{errorInfo:u?.toString()})}if(l.error){const u=l.error.message;throw dn.create("token-update-failed",{errorInfo:u})}if(!l.token)throw dn.create("token-update-no-token");return l.token}async function oM(n,e){const r={method:"DELETE",headers:await Hy(n)};try{const l=await(await fetch(`${Fy(n.appConfig)}/${e}`,r)).json();if(l.error){const u=l.error.message;throw dn.create("token-unsubscribe-failed",{errorInfo:u})}}catch(o){throw dn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Fy({projectId:n}){return`${Kk}/projects/${n}/registrations`}async function Hy({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function Pb({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const o={web:{endpoint:t,auth:e,p256dh:n}};return r!==Nb&&(o.web.applicationPubKey=r),o}const lM=10080*60*1e3;async function cM(n){const e=await hM(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:kr(e.getKey("auth")),p256dh:kr(e.getKey("p256dh"))},r=await iM(n.firebaseDependencies);if(r){if(fM(r.subscriptionOptions,t))return Date.now()>=r.createTime+lM?uM(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{await oM(n.firebaseDependencies,r.token)}catch(o){console.warn(o)}return sw(n.firebaseDependencies,t)}else return sw(n.firebaseDependencies,t)}async function uM(n,e){try{const t=await aM(n.firebaseDependencies,e),r={...e,token:t,createTime:Date.now()};return await jy(n.firebaseDependencies,r),t}catch(t){throw t}}async function sw(n,e){const r={token:await sM(n,e),createTime:Date.now(),subscriptionOptions:e};return await jy(n,r),r.token}async function hM(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wk(e)})}function fM(n,e){const t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,o=e.auth===n.auth,l=e.p256dh===n.p256dh;return t&&r&&o&&l}function aw(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return dM(e,n),mM(e,n),gM(e,n),e}function dM(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const o=e.notification.image;o&&(n.notification.image=o);const l=e.notification.icon;l&&(n.notification.icon=l)}function mM(n,e){e.data&&(n.data=e.data)}function gM(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const r=e.fcmOptions?.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}function pM(n){return typeof n=="object"&&!!n&&Ob in n}function yM(n){if(!n||!n.options)throw sp("App Configuration Object");if(!n.name)throw sp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw sp(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function sp(n){return dn.create("missing-app-config-values",{valueName:n})}class _M{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=yM(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function vM(n){try{n.swRegistration=await navigator.serviceWorker.register(Gk,{scope:$k}),n.swRegistration.update().catch(()=>{}),await EM(n.swRegistration)}catch(e){throw dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function EM(n){return new Promise((e,t)=>{const r=setTimeout(()=>t(new Error(`Service worker not registered after ${nw} ms`)),nw),o=n.installing||n.waiting;n.active?(clearTimeout(r),e()):o?o.onstatechange=l=>{l.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})}async function wM(n,e){if(!e&&!n.swRegistration&&await vM(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");n.swRegistration=e}}async function TM(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Nb)}async function xb(n,e){if(!navigator)throw dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dn.create("permission-blocked");return await TM(n,e?.vapidKey),await wM(n,e?.serviceWorkerRegistration),cM(n)}async function SM(n,e,t){const r=bM(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Ob],message_name:t[Yk],message_time:t[Qk],message_device_time:Math.floor(Date.now()/1e3)})}function bM(n){switch(n){case lu.NOTIFICATION_CLICKED:return"notification_open";case lu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function AM(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===lu.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(aw(t)):n.onMessageHandler.next(aw(t)));const r=t.data;pM(r)&&r[Xk]==="1"&&await SM(n,t.messageType,r)}const ow="@firebase/messaging",lw="0.12.23";const RM=n=>{const e=new _M(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>AM(e,t)),e},IM=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>xb(e,r)}};function CM(){ui(new Kn("messaging",RM,"PUBLIC")),ui(new Kn("messaging-internal",IM,"PRIVATE")),un(ow,lw),un(ow,lw,"esm2020")}async function DM(){try{await oT()}catch{return!1}return typeof window<"u"&&aT()&&RC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function NM(n,e){if(!navigator)throw dn.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function OM(n=mu()){return DM().then(e=>{if(!e)throw dn.create("unsupported-browser")},e=>{throw dn.create("indexed-db-unsupported")}),Zs(Ye(n),"messaging").getImmediate()}async function ff(n,e){return n=Ye(n),xb(n,e)}function kM(n,e){return n=Ye(n),NM(n,e)}CM();function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=Lb,Ub=new Qa("auth","Firebase",Lb());const Gf=new Qp("@firebase/auth");function MM(n,...e){Gf.logLevel<=Le.WARN&&Gf.warn(`Auth (${Xa}): ${n}`,...e)}function bf(n,...e){Gf.logLevel<=Le.ERROR&&Gf.error(`Auth (${Xa}): ${n}`,...e)}function Ni(n,...e){throw qy(n,...e)}function rr(n,...e){return qy(n,...e)}function Bb(n,e,t){const r={...Vb(),[e]:t};return new Qa("auth","Firebase",r).create(e,{appName:n.name})}function sr(n){return Bb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ub.create(n,...e)}function we(n,e,...t){if(!n)throw qy(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bf(e),new Error(e)}function Wr(n,e){n||Ur(e)}function xp(){return typeof self<"u"&&self.location?.href||""}function PM(){return cw()==="http:"||cw()==="https:"}function cw(){return typeof self<"u"&&self.location?.protocol||null}function xM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PM()||TC()||"connection"in navigator)?navigator.onLine:!0}function LM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=vC()||SC()}get(){return xM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gy(n,e){Wr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class zb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BM=new bu(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ta(n,e,t,r,o={}){return jb(n,o,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const m=du({key:n.config.apiKey,...u}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:g,...l};return wC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ur(n.emulatorConfig.host)&&(p.credentials="include"),zb.fetch()(await Fb(n,n.config.apiHost,t,m),p)})}async function jb(n,e,t){n._canInitEmulator=!1;const r={...VM,...e};try{const o=new jM(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw df(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw df(n,"email-already-in-use",u);if(g==="USER_DISABLED")throw df(n,"user-disabled",u);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bb(n,_,p);Ni(n,_)}}catch(o){if(o instanceof hi)throw o;Ni(n,"network-request-failed",{message:String(o)})}}async function Rl(n,e,t,r,o={}){const l=await ta(n,e,t,r,o);return"mfaPendingCredential"in l&&Ni(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Fb(n,e,t,r){const o=`${e}${t}?${r}`,l=n,u=l.config.emulator?Gy(n.config,o):`${n.config.apiScheme}://${o}`;return UM.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),BM.get())})}}function df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=rr(n,e,r);return o.customData._tokenResponse=t,o}function uw(n){return n!==void 0&&n.enterprise!==void 0}class FM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HM(n,e){return ta(n,"GET","/v2/recaptchaConfig",ns(n,e))}async function qM(n,e){return ta(n,"POST","/v1/accounts:delete",e)}async function $f(n,e){return ta(n,"POST","/v1/accounts:lookup",e)}function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hb(n,e=!1){const t=Ye(n),r=await t.getIdToken(e),o=$y(r);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:r,authTime:Zc(ap(o.auth_time)),issuedAtTime:Zc(ap(o.iat)),expirationTime:Zc(ap(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ap(n){return Number(n)*1e3}function $y(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(t);return o?JSON.parse(o):(bf("Failed to decode base64 JWT payload"),null)}catch(o){return bf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hw(n){const e=$y(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hi&&GM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class $M{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kf(n){const e=n.auth,t=await n.getIdToken(),r=await uu(n,$f(e,{idToken:t}));we(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?Gb(o.providerUserInfo):[],u=KM(n.providerData,l),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!u?.length,p=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function qb(n){const e=Ye(n);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KM(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Gb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YM(n,e){const t=await jb(n,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=await Fb(n,o,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return n.emulatorConfig&&ur(n.emulatorConfig.host)&&(g.credentials="include"),zb.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QM(n,e){return ta(n,"POST","/v2/accounts:revokeToken",ns(n,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await YM(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,u=new il;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Ls(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $M(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uu(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hb(this,e)}reload(){return qb(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await uu(this,qM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:j,stsTokenManager:V}=t;we(w&&V,e,"internal-error");const P=il.fromJSON(this.name,V);we(typeof w=="string",e,"internal-error"),Ls(r,e.name),Ls(o,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof C=="boolean",e,"internal-error"),Ls(l,e.name),Ls(u,e.name),Ls(m,e.name),Ls(g,e.name),Ls(p,e.name),Ls(_,e.name);const Y=new Ai({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:P,createdAt:p,lastLoginAt:_});return j&&Array.isArray(j)&&(Y.providerData=j.map(B=>({...B}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,t,r=!1){const o=new il;o.updateFromServerResponse(t);const l=new Ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Gb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,m=new il;m.updateFromIdToken(r);const g=new Ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const fw=new Map;function Br(n){Wr(n instanceof Function,"Expected a class definition");let e=fw.get(n);return e?(Wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fw.set(n,e),e)}class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$b.type="NONE";const Vp=$b;function Af(n,e,t){return`firebase:${n}:${e}:${t}`}class rl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Af(this.userKey,o.apiKey,l),this.fullPersistenceKey=Af("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $f(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rl(Br(Vp),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||Br(Vp);const u=Af(r,e.config.apiKey,e.name);let m=null;for(const p of t)try{const _=await p._get(u);if(_){let w;if(typeof _=="string"){const T=await $f(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Ai._fromGetAccountInfoResponse(e,T,_)}else w=Ai._fromJSON(e,_);p!==l&&(m=w),l=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new rl(l,e,r):(l=g[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new rl(l,e,r))}}function dw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Jb(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Kb(n=mn()){return/firefox\//i.test(n)}function Yb(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(n=mn()){return/crios\//i.test(n)}function Xb(n=mn()){return/iemobile/i.test(n)}function Wb(n=mn()){return/android/i.test(n)}function Zb(n=mn()){return/blackberry/i.test(n)}function Jb(n=mn()){return/webos/i.test(n)}function Ky(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XM(n=mn()){return Ky(n)&&!!window.navigator?.standalone}function WM(){return bC()&&document.documentMode===10}function eA(n=mn()){return Ky(n)||Wb(n)||Jb(n)||Zb(n)||/windows phone/i.test(n)||Xb(n)}function tA(n,e=[]){let t;switch(n){case"Browser":t=dw(mn());break;case"Worker":t=`${dw(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xa}/${r}`}class ZM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,m)=>{try{const g=e(l);u(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JM(n,e={}){return ta(n,"GET","/v2/passwordPolicy",ns(n,e))}const e3=6;class t3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??e3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class n3{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new ZM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $f(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(sr(this));const t=e?Ye(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JM(this),t=new t3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Br(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function na(n){return Ye(n)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(n){Dd=n}function nA(n){return Dd.loadJS(n)}function r3(){return Dd.recaptchaEnterpriseScript}function s3(){return Dd.gapiScript}function a3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class o3{constructor(){this.enterprise=new l3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class l3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const c3="recaptcha-enterprise",iA="NO_RECAPTCHA";class u3{constructor(e){this.type=c3,this.auth=na(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{HM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new FM(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(g=>{m(g)})})}function o(l,u,m){const g=window.grecaptcha;uw(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(iA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(m=>{if(!t&&uw(window.grecaptcha))o(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=r3();g.length!==0&&(g+=m),nA(g).then(()=>{o(m,l,u)}).catch(p=>{u(p)})}}).catch(m=>{u(m)})})}}async function gw(n,e,t,r=!1,o=!1){const l=new u3(n);let u;if(o)u=iA;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pw(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gw(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}function rA(n,e){const t=Zs(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Fa(l,e??{}))return o;Ni(o,"already-initialized")}return t.initialize({options:e})}function h3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Br);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sA(n,e,t){const r=na(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=aA(e),{host:u,port:m}=f3(e),g=m===null?"":`:${m}`,p={url:`${l}//${u}${g}/`},_=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Fa(p,r.config.emulator)&&Fa(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ur(u)?(nd(`${l}//${u}${g}`),id("Auth",!0)):d3()}function aA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f3(n){const e=aA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:yw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:yw(u)}}}function yw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function d3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Nd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function m3(n,e){return ta(n,"POST","/v1/accounts:signUp",e)}async function g3(n,e){return Rl(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))}async function p3(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}async function y3(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}class dl extends Nd{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new dl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pw(e,t,"signInWithPassword",g3);case"emailLink":return p3(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pw(e,r,"signUpPassword",m3);case"emailLink":return y3(e,{idToken:t,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sl(n,e){return Rl(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}const _3="http://localhost";class Ws extends Nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=t;if(!r||!o)return null;const u=new Ws(r,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return sl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,sl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sl(e,t)}buildRequest(){const e={requestUri:_3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}function v3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E3(n){const e=Uc(Bc(n)).link,t=e?Uc(Bc(e)).deep_link_id:null,r=Uc(Bc(n)).deep_link_id;return(r?Uc(Bc(r)).link:null)||r||t||e||n}class Od{constructor(e){const t=Uc(Bc(e)),r=t.apiKey??null,o=t.oobCode??null,l=v3(t.mode??null);we(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=E3(e);try{return new Od(t)}catch{return null}}}class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,t){return dl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Od.parseLink(t);return we(r,"argument-error"),dl._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mr extends Au{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";class Pr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ws._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pr.credential(t,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";class xr extends Au{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";class Lr extends Au{constructor(){super("twitter.com")}static credential(e,t){return Ws._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Lr.credential(t,r)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";async function w3(n,e){return Rl(n,"POST","/v1/accounts:signUp",ns(n,e))}class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Ai._fromIdTokenResponse(e,r,o),u=_w(r);return new Zr({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=_w(r);return new Zr({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function _w(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function lA(n){if(wn(n.app))return Promise.reject(sr(n));const e=na(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Zr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await w3(e,{returnSecureToken:!0}),r=await Zr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Yf extends hi{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Yf(e,t,r,o)}}function cA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(n,l,e,r):l})}async function T3(n,e,t=!1){const r=await uu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zr._forOperation(n,"link",r)}async function S3(n,e,t=!1){const{auth:r}=n;if(wn(r.app))return Promise.reject(sr(r));const o="reauthenticate";try{const l=await uu(n,cA(r,o,e,n),t);we(l.idToken,r,"internal-error");const u=$y(l.idToken);we(u,r,"internal-error");const{sub:m}=u;return we(n.uid===m,r,"user-mismatch"),Zr._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ni(r,"user-mismatch"),l}}async function uA(n,e,t=!1){if(wn(n.app))return Promise.reject(sr(n));const r="signIn",o=await cA(n,r,e),l=await Zr._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(l.user),l}async function hA(n,e){return uA(na(n),e)}async function b3(n,e){return Rl(n,"POST","/v1/accounts:signInWithCustomToken",ns(n,e))}async function fA(n,e){if(wn(n.app))return Promise.reject(sr(n));const t=na(n),r=await b3(t,{token:e,returnSecureToken:!0}),o=await Zr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(o.user),o}async function A3(n){const e=na(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function R3(n,e,t){return wn(n.app)?Promise.reject(sr(n)):hA(Ye(n),Ja.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&A3(n),r})}function dA(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function mA(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function I3(n){return Ye(n).signOut()}const Qf="__sak";class gA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const C3=1e3,D3=10;class pA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);WM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D3):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},C3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pA.type="LOCAL";const yA=pA;class _A extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_A.type="SESSION";const Yy=_A;function N3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(u).map(async p=>p(t.origin,l)),g=await N3(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];function Qy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class O3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((m,g)=>{const p=Qy("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(_),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ar(){return window}function k3(n){ar().location.href=n}function vA(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function M3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){return navigator?.serviceWorker?.controller||null}function x3(){return vA()?self:null}const EA="firebaseLocalStorageDb",L3=1,Xf="firebaseLocalStorage",wA="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Md(n,e){return n.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function V3(){const n=indexedDB.deleteDatabase(EA);return new Ru(n).toPromise()}function Up(){const n=indexedDB.open(EA,L3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xf,{keyPath:wA})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),await V3(),e(await Up()))})})}async function vw(n,e,t){const r=Md(n,!0).put({[wA]:e,value:t});return new Ru(r).toPromise()}async function U3(n,e){const t=Md(n,!1).get(e),r=await new Ru(t).toPromise();return r===void 0?null:r.value}function Ew(n,e){const t=Md(n,!0).delete(e);return new Ru(t).toPromise()}const B3=800,z3=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>z3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(x3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M3(),!this.activeServiceWorker)return;this.sender=new O3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await vw(e,Qf,"1"),await Ew(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>U3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ew(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Md(o,!1).getAll();return new Ru(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const SA=TA;new bu(3e4,6e4);function j3(n,e){return e?Br(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Xy extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function F3(n){return uA(n.auth,new Xy(n),n.bypassAuthState)}function H3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),S3(t,new Xy(n),n.bypassAuthState)}async function q3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),T3(t,new Xy(n),n.bypassAuthState)}class bA{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return H3;default:Ni(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const G3=new bu(2e3,1e4);class tl extends bA{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G3.get())};e()}}tl.currentPopupAction=null;const $3="pendingRedirect",Rf=new Map;class K3 extends bA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const r=await Y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y3(n,e){const t=W3(e),r=X3(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Q3(n,e){Rf.set(n._key(),e)}function X3(n){return Br(n._redirectPersistence)}function W3(n){return Af($3,n.config.apiKey,n.name)}async function Z3(n,e,t=!1){if(wn(n.app))return Promise.reject(sr(n));const r=na(n),o=j3(r,e),u=await new K3(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const J3=600*1e3;class e8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!AA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ww(e))}saveEventToCache(e){this.cachedEventUids.add(ww(e)),this.lastProcessedEventTime=Date.now()}}function ww(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function t8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(n);default:return!1}}async function n8(n,e={}){return ta(n,"GET","/v1/projects",e)}const i8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r8=/^https?/;async function s8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await n8(n);for(const t of e)try{if(a8(t))return}catch{}Ni(n,"unauthorized-domain")}function a8(n){const e=xp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!r8.test(t))return!1;if(i8.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const o8=new bu(3e4,6e4);function Tw(){const n=ar().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function l8(n){return new Promise((e,t)=>{function r(){Tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tw(),t(rr(n,"network-request-failed"))},timeout:o8.get()})}if(ar().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ar().gapi?.load)r();else{const o=a3("iframefcb");return ar()[o]=()=>{gapi.load?r():t(rr(n,"network-request-failed"))},nA(`${s3()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw If=null,e})}let If=null;function c8(n){return If=If||l8(n),If}const u8=new bu(5e3,15e3),h8="__/auth/iframe",f8="emulator/auth/iframe",d8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g8(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gy(e,f8):`https://${n.config.authDomain}/${h8}`,r={apiKey:e.apiKey,appName:n.name,v:Xa},o=m8.get(n.config.apiHost);o&&(r.eid=o);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${du(r).slice(1)}`}async function p8(n){const e=await c8(n),t=ar().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:g8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d8,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const u=rr(n,"network-request-failed"),m=ar().setTimeout(()=>{l(u)},u8.get());function g(){ar().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{l(u)})}))}const y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_8=500,v8=600,E8="_blank",w8="http://localhost";class Sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T8(n,e,t,r=_8,o=v8){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...y8,width:r.toString(),height:o.toString(),top:l,left:u},p=mn().toLowerCase();t&&(m=Qb(p)?E8:t),Kb(p)&&(e=e||w8,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[C,j])=>`${T}${C}=${j},`,"");if(XM(p)&&m!=="_self")return S8(e||"",m),new Sw(null);const w=window.open(e||"",m,_);we(w,n,"popup-blocked");try{w.focus()}catch{}return new Sw(w)}function S8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const b8="__/auth/handler",A8="emulator/auth/handler",R8=encodeURIComponent("fac");async function bw(n,e,t,r,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xa,eventId:o};if(e instanceof oA){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",NC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof Au){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await n._getAppCheckToken(),p=g?`#${R8}=${encodeURIComponent(g)}`:"";return`${I8(n)}?${du(m).slice(1)}${p}`}function I8({config:n}){return n.emulator?Gy(n,A8):`https://${n.authDomain}/${b8}`}const op="webStorageSupport";class C8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yy,this._completeRedirectFn=Z3,this._overrideRedirectResult=Q3}async _openPopup(e,t,r,o){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bw(e,t,r,xp(),o);return T8(e,l,Qy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await bw(e,t,r,xp(),o);return k3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Wr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await p8(e),r=new e8(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{const l=o?.[0]?.[op];l!==void 0&&t(!!l),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eA()||Yb()||Ky()}}const RA=C8;var Aw="@firebase/auth",Rw="1.12.0";class D8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function N8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O8(n){ui(new Kn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(n)},p=new n3(r,o,l,g);return h3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Kn("auth-internal",e=>{const t=na(e.getProvider("auth").getImmediate());return(r=>new D8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(Aw,Rw,N8(n)),un(Aw,Rw,"esm2020")}const k8=300,M8=rT("authIdTokenMaxAge")||k8;let Iw=null;const P8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>M8)return;const o=t?.token;Iw!==o&&(Iw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IA(n=mu()){const e=Zs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rA(n,{popupRedirectResolver:RA,persistence:[SA,yA,Yy]}),r=rT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=P8(l.toString());mA(t,u,()=>u(t.currentUser)),dA(t,m=>u(m))}}const o=nT("auth");return o&&sA(t,`http://${o}`),t}function x8(){return document.getElementsByTagName("head")?.[0]??document}i3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const l=rr("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",x8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O8("Browser");const mf=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Od,AuthCredential:Nd,EmailAuthCredential:dl,EmailAuthProvider:Ja,FacebookAuthProvider:Mr,GithubAuthProvider:xr,GoogleAuthProvider:Pr,OAuthCredential:Ws,TwitterAuthProvider:Lr,beforeAuthStateChanged:mA,browserLocalPersistence:yA,browserPopupRedirectResolver:RA,browserSessionPersistence:Yy,connectAuthEmulator:sA,getAuth:IA,getIdTokenResult:Hb,inMemoryPersistence:Vp,indexedDBLocalPersistence:SA,initializeAuth:rA,onIdTokenChanged:dA,prodErrorMap:Vb,reload:qb,signInAnonymously:lA,signInWithCredential:hA,signInWithCustomToken:fA,signInWithEmailAndPassword:R3,signOut:I3},Symbol.toStringTag,{value:"Module"}));const L8="type.googleapis.com/google.protobuf.Int64Value",V8="type.googleapis.com/google.protobuf.UInt64Value";function CA(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Wf(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Wf(e));if(typeof n=="function"||typeof n=="object")return CA(n,e=>Wf(e));throw new Error("Data cannot be encoded in JSON: "+n)}function ml(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case L8:case V8:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>ml(e)):typeof n=="function"||typeof n=="object"?CA(n,e=>ml(e)):n}const Wy="functions";const Cw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends hi{constructor(e,t,r){super(`${Wy}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,kn.prototype)}}function U8(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Zf(n,e){let t=U8(n),r=t,o;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!Cw[u])return new kn("internal","internal");t=Cw[u],r=u}const m=l.message;typeof m=="string"&&(r=m),o=l.details,o!==void 0&&(o=ml(o))}}catch{}return t==="ok"?null:new kn(t,r,o)}class B8{constructor(e,t,r,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,wn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:o}}}const Bp="us-central1",z8=/^data: (.*?)(?:\n|$)/;function j8(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new kn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class F8{constructor(e,t,r,o,l=Bp,u=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new B8(e,t,r,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(l);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Bp}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function H8(n,e,t){const r=ur(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(nd(n.emulatorOrigin+"/backends"),id("Functions",!0))}function q8(n,e,t){const r=o=>$8(n,e,o,{});return r.stream=(o,l)=>Y8(n,e,o,l),r}function DA(n){return n.emulatorOrigin&&ur(n.emulatorOrigin)?"include":void 0}async function G8(n,e,t,r,o){t["Content-Type"]="application/json";let l;try{l=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:DA(o)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function NA(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function $8(n,e,t,r){const o=n._url(e);return K8(n,o,t,r)}async function K8(n,e,t,r){t=Wf(t);const o={data:t},l=await NA(n,r),u=r.timeout||7e4,m=j8(u),g=await Promise.race([G8(e,o,l,n.fetchImpl,n),m.promise,n.cancelAllRequests]);if(m.cancel(),!g)throw new kn("cancelled","Firebase Functions instance was deleted.");const p=Zf(g.status,g.json);if(p)throw p;if(!g.json)throw new kn("internal","Response is not valid JSON object.");let _=g.json.data;if(typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new kn("internal","Response is missing data field.");return{data:ml(_)}}function Y8(n,e,t,r){const o=n._url(e);return Q8(n,o,t,r||{})}async function Q8(n,e,t,r){t=Wf(t);const o={data:t},l=await NA(n,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:l,signal:r?.signal,credentials:DA(n)})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const j=new kn("cancelled","Request was cancelled.");return{data:Promise.reject(j),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(j)}}}}}}const C=Zf(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let m,g;const p=new Promise((T,C)=>{m=T,g=C});r?.signal?.addEventListener("abort",()=>{const T=new kn("cancelled","Request was cancelled.");g(T)});const _=u.body.getReader(),w=X8(_,m,g,r?.signal);return{stream:{[Symbol.asyncIterator](){const T=w.getReader();return{async next(){const{value:C,done:j}=await T.read();return{value:C,done:j}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:p}}function X8(n,e,t,r){const o=(u,m)=>{const g=u.match(z8);if(!g)return;const p=g[1];try{const _=JSON.parse(p);if("result"in _){e(ml(_.result));return}if("message"in _){m.enqueue(ml(_.message));return}if("error"in _){const w=Zf(0,_);m.error(w),t(w);return}}catch(_){if(_ instanceof kn){m.error(_),t(_);return}}},l=new TextDecoder;return new ReadableStream({start(u){let m="";return g();async function g(){if(r?.aborted){const p=new kn("cancelled","Request was cancelled");return u.error(p),t(p),Promise.resolve()}try{const{value:p,done:_}=await n.read();if(_){m.trim()&&o(m.trim(),u),u.close();return}if(r?.aborted){const T=new kn("cancelled","Request was cancelled");u.error(T),t(T),await n.cancel();return}m+=l.decode(p,{stream:!0});const w=m.split(`
`);m=w.pop()||"";for(const T of w)T.trim()&&o(T.trim(),u);return g()}catch(p){const _=p instanceof kn?p:Zf(0,null);u.error(_),t(_)}}},cancel(){return n.cancel()}})}const Dw="@firebase/functions",Nw="0.13.1";const W8="auth-internal",Z8="app-check-internal",J8="messaging-internal";function eP(n){const e=(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider(W8),u=t.getProvider(J8),m=t.getProvider(Z8);return new F8(o,l,u,m,r)};ui(new Kn(Wy,e,"PUBLIC").setMultipleInstances(!0)),un(Dw,Nw,n),un(Dw,Nw,"esm2020")}function tP(n=mu(),e=Bp){const r=Zs(Ye(n),Wy).getImmediate({identifier:e}),o=Yp("functions");return o&&nP(r,...o),r}function nP(n,e,t){H8(Ye(n),e,t)}function Jr(n,e,t){return q8(Ye(n),e)}eP();const iP={apiKey:"AIzaSyCTjDayI1tiZO15eynRzKqrDK3TKj3D-yw",authDomain:"boksaem-yoga.firebaseapp.com",projectId:"boksaem-yoga",storageBucket:"boksaem-yoga.firebasestorage.app",messagingSenderId:"638854766032",appId:"1:638854766032:web:db6b919068aaf5808b2dd5"},Iu=uT(iP),ie=xS(Iu),rP=nk(Iu);console.log("[Firebase] Initialized without IndexedDbPersistence clear v2026.02.22.v7");const sP="2026.02.22.v7";typeof window<"u"&&(window.__FIREBASE_VERSION=sP);const qc=OM(Iu),vn=IA(Iu),es=tP(Iu,"asia-northeast3"),lr={NAME:"",NAME_ENGLISH:"",LOGO_TEXT:"BOKSAEM",APP_VERSION:"1.3.0",BRANCHES:[{id:"gwangheungchang",name:"",color:"var(--primary-gold)"},{id:"mapo",name:"",color:"#3B82F6"}],BRANCH_IDS:{GWANGHEUNGCHANG:"gwangheungchang",MAPO:"mapo"},THEME:{PRIMARY_COLOR:"#D4AF37",ACCENT_COLOR:"#FF6B6B"},FEATURES:{ENABLE_DATA_MIGRATION:!1},INSTRUCTORS:[{id:"wonjang",name:"",branches:["gwangheungchang","mapo"]},{id:"seyeon",name:"",branches:["mapo"]},{id:"hana",name:"",branches:["gwangheungchang","mapo"]},{id:"songmi",name:"",branches:["mapo"]},{id:"jeongyeon",name:"",branches:["gwangheungchang","mapo"]},{id:"rian",name:"",branches:["mapo"]},{id:"miseon",name:"",branches:["gwangheungchang"]},{id:"boyoon",name:"",branches:["gwangheungchang"]},{id:"soyeong",name:"",branches:["gwangheungchang","mapo"]},{id:"hyesil",name:"",branches:["gwangheungchang"]},{id:"heejung",name:"",branches:["gwangheungchang"]},{id:"eunhye",name:"",branches:["gwangheungchang"]},{id:"sunghee",name:"",branches:["mapo"]},{id:"hyowon",name:"",branches:["mapo"]},{id:"anu",name:"anu",branches:["mapo"]},{id:"dana",name:"",branches:["mapo"]},{id:"heeyeon",name:"",branches:["mapo"]}],SOCIAL:{Instagram_Gwangheungchang:"https://www.instagram.com/boksaemyoga_ghc",Instagram_Mapo:"https://www.instagram.com/reel/DTT2iORE7th/?utm_source=ig_web_copy_link",Youtube:"https://www.youtube.com/@boksaemyoga_ghc",Blog:"https://blog.naver.com/boksaemyoga"},DEFAULT_SCHEDULE_TEMPLATE:{gwangheungchang:[{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"14:00",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""},{days:[""],startTime:"20:20",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"14:00",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""},{days:[""],startTime:"20:20",className:"",instructor:""},{days:[""],startTime:"10:00",className:"+",instructor:""},{days:[""],startTime:"14:20",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""},{days:[""],startTime:"20:20",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"14:00",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""},{days:[""],startTime:"20:20",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"14:20",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""},{days:[""],startTime:"20:20",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"11:20",className:"",instructor:""},{days:[""],startTime:"11:20",className:"",instructor:""},{days:[""],startTime:"14:00",className:"",instructor:""},{days:[""],startTime:"19:00",className:"",instructor:""}],mapo:[{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"11:50",className:"",instructor:"anu"},{days:[""],startTime:"18:40",className:"",instructor:""},{days:[""],startTime:"19:50",className:"",instructor:""},{days:[""],startTime:"21:00",className:"",instructor:"",level:"1"},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"11:50",className:"",instructor:"anu"},{days:[""],startTime:"18:40",className:"",instructor:"",level:"1.5"},{days:[""],startTime:"19:50",className:"",instructor:""},{days:[""],startTime:"21:00",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"17:00",className:"",instructor:"",level:"0.5"},{days:[""],startTime:"18:40",className:"",instructor:""},{days:[""],startTime:"19:50",className:"",instructor:"",level:"2"},{days:[""],startTime:"21:00",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"11:50",className:"",instructor:"anu"},{days:[""],startTime:"18:40",className:"",instructor:"",level:"1"},{days:[""],startTime:"19:50",className:"",instructor:"",level:"1.5"},{days:[""],startTime:"21:00",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"18:40",className:"",instructor:""},{days:[""],startTime:"19:50",className:"",instructor:""},{days:[""],startTime:"21:00",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"11:20",className:"",instructor:"",level:"2"},{days:[""],startTime:"13:30",className:"",instructor:""},{days:[""],startTime:"10:00",className:"",instructor:""},{days:[""],startTime:"18:40",className:"",instructor:""}]},PRICING:{intensive:{label:"",branches:["gwangheungchang","mapo"],options:[{id:"10_session",label:"10 (3)",basePrice:3e5,credits:10,months:3,type:"ticket"},{id:"month_4",label:" 4",basePrice:12e4,credits:4,months:1,type:"subscription"},{id:"month_8",label:" 8",basePrice:154e3,credits:8,months:1,type:"subscription",discount3:439e3,discount6:832e3},{id:"month_12",label:" 12",basePrice:187e3,credits:12,months:1,type:"subscription",discount3:533e3,discount6:101e4},{id:"month_16",label:" 16",basePrice:209e3,credits:16,months:1,type:"subscription",discount3:596e3,discount6:1129e3},{id:"month_20",label:" 20",basePrice:231e3,credits:20,months:1,type:"subscription",discount3:659e3,discount6:1248e3},{id:"unlimited",label:" ",basePrice:275e3,credits:9999,months:1,type:"subscription",discount3:784e3,discount6:1485e3}]},general:{label:"",branches:["gwangheungchang","mapo"],options:[{id:"10_session",label:"10 (3)",basePrice:2e5,credits:10,months:3,type:"ticket"},{id:"month_8",label:" 8",basePrice:143e3,credits:8,months:1,type:"subscription",discount3:408e3,discount6:773e3},{id:"month_12",label:" 12",basePrice:176e3,credits:12,months:1,type:"subscription",discount3:502e3,discount6:951e3},{id:"month_16",label:" 16",basePrice:198e3,credits:16,months:1,type:"subscription",discount3:565e3,discount6:107e4},{id:"unlimited",label:" ",basePrice:22e4,credits:9999,months:1,type:"subscription",discount3:627e3,discount6:1188e3}]},pregnancy:{label:"",branches:["mapo"],options:[{id:"8_session",label:"8 (3)",basePrice:18e4,credits:8,months:3,type:"ticket"}]},kids:{label:"",branches:["mapo"],options:[{id:"10_session",label:"10 (3)",basePrice:22e4,credits:10,months:3,type:"ticket"}]},sat_hatha:{label:"",branches:["mapo"],options:[{id:"4_session",label:"4 (1)",basePrice:18e4,credits:4,months:1,type:"ticket"}]},ttc:{label:"TTC ()",branches:["gwangheungchang","mapo"],options:[{id:"ttc_standard",label:"TTC 6 ",basePrice:352e4,cashPrice:32e5,credits:9999,months:6,type:"ticket",isCourse:!0}]}},ALIMTALK_TEMPLATES:[{id:"",name:"  (LMS/SMS)",content:""},{id:"KA01TP260219025216404VfhzWLRH3F5",name:"   ()",content:`[]  .
  10  /  2   .
  .`},{id:"KA01TP260219025023679E4NxugsIDNd",name:"   ()",content:`[]   .
  10  /  2   .
  .`},{id:"KA01TP260219024739217NOCrSlZrNo0",name:"  ()",content:`[]   
#{date}     .`}]},mx=n=>{const e=lr.BRANCHES.find(t=>t.id===n);return e?e.name:n},gx=n=>lr.BRANCHES.find(t=>t.id===n)?.color||"var(--text-secondary)",px=n=>{const e=lr.BRANCHES.find(t=>t.id===n);return e?e.id==="gwangheungchang"?"var(--primary-gold)":e.id==="mapo"?"#60a5fa":e.color||"var(--primary-gold)":"var(--text-secondary)"},yx=()=>lr.BRANCHES,aP=async(n,e,t)=>{if(!n)return{};const r=`${e}-${String(t).padStart(2,"0")}-01`,o=`${e}-${String(t).padStart(2,"0")}-31`,l=It(be(ie,"daily_classes"),fn("branchId","==",n),fn("date",">=",r),fn("date","<=",o));try{const u=await lt(l),m={};return u.docs.forEach(g=>{m[g.data().date]=g.data().classes}),m}catch(u){return console.warn("Failed to fetch monthly classes:",u),{}}},oP=async(n,e,t)=>{try{const r=`${n}_${e}_${t}`,o=ve(ie,"monthly_schedules",r),l=await gt(o);if(l.exists())return{exists:!0,isSaved:l.data().isSaved};const u=`${e}-${String(t).padStart(2,"0")}-01`,m=ve(ie,"daily_classes",`${n}_${u}`);if((await gt(m)).exists())return{exists:!0,isSaved:!0,isLegacy:!0};for(let p=2;p<=5;p++){const _=`${e}-${String(t).padStart(2,"0")}-${String(p).padStart(2,"0")}`,w=ve(ie,"daily_classes",`${n}_${_}`);if((await gt(w)).exists())return{exists:!0,isSaved:!0,isLegacy:!0}}return{exists:!1,isSaved:!1}}catch(r){return console.warn("Status check failed:",r),{exists:!1,isSaved:!1}}},lP=async(n,e,t)=>{try{const r=ve(ie,"daily_classes",`${n}_${e}`);return await En(r,{branchId:n,date:e,classes:t,updatedAt:new Date().toISOString()}),{success:!0}}catch(r){throw console.error("Update daily classes failed:",r),r}},Zy=async(n,e)=>{try{const t=fl(ie);return e.forEach(r=>{const o=ve(ie,"daily_classes",`${n}_${r.date}`);t.set(o,{branchId:n,date:r.date,classes:r.classes,updatedAt:new Date().toISOString()})}),await t.commit(),{success:!0}}catch(t){throw console.error("Batch update failed:",t),t}},cP=async(n,e,t)=>{console.log(`[Schedule] Creating for ${n} ${e}-${t}`);try{const r=ve(ie,"weekly_templates",n),o=await gt(r);let l=[];return o.exists()?l=o.data().classes||[]:(console.warn("Weekly template not found in Firestore, using config fallback."),l=lr.DEFAULT_SCHEDULE_TEMPLATE[n]||[]),uP(n,e,t,l)}catch(r){throw console.error("Create monthly schedule failed:",r),r}},uP=async(n,e,t,r)=>{const o=[],l=new Date(e,t,0).getDate(),u=p=>["","","","","","",""][p.getDay()],m={};r.forEach(p=>{p.days.forEach(_=>{m[_]||(m[_]=[]),m[_].push(p)})});for(let p=1;p<=l;p++){const _=new Date(e,t-1,p),w=u(_),T=`${e}-${String(t).padStart(2,"0")}-${String(p).padStart(2,"0")}`,j=(m[w]||[]).map(V=>({time:V.startTime,title:V.className,instructor:V.instructor||"",status:"normal",level:V.level||"",duration:V.duration||60}));o.push({date:T,classes:j})}await Zy(n,o);const g=`${n}_${e}_${t}`;return await En(ve(ie,"monthly_schedules",g),{branchId:n,year:e,month:t,isSaved:!0,createdAt:new Date().toISOString(),createdBy:vn.currentUser?.email||"admin"}),{success:!0}},hP=async(n,e,t,r,o)=>{try{console.log(`Copying schedule from ${e}-${t} to ${r}-${o}`);const l=B=>["","","","","","",""][B.getDay()],u=new Date(e,t,0).getDate(),m=[];for(let B=1;B<=u;B++){const Q=`${e}-${String(t).padStart(2,"0")}-${String(B).padStart(2,"0")}`;m.push(gt(ve(ie,"daily_classes",`${n}_${Q}`)).then(se=>({day:B,date:new Date(e,t-1,B),exists:se.exists(),data:se.data()})))}const p=(await Promise.all(m)).filter(B=>B.exists&&B.data.classes&&B.data.classes.length>0);if(p.length===0)throw new Error("       .     .");const _={};p.forEach(B=>{const Q=B.date.getDay();if(Q===0||Q===6)return;const se=Math.ceil(B.day/7);_[se]||(_[se]=[]),_[se].push(B)});let w=null,T=-1;Object.entries(_).forEach(([B,Q])=>{const se=Q.reduce((fe,de)=>fe+(de.data.classes.length||0),0);se>T&&(T=se,w=B)});const C={};w&&_[w]?_[w].forEach(B=>{C[l(B.date)]=B.data.classes}):p.forEach(B=>{const Q=l(B.date);Q!==""&&Q!==""&&!C[Q]&&(C[Q]=B.data.classes)});const j=p.filter(B=>B.date.getDay()===6).sort((B,Q)=>B.day-Q.day).map(B=>B.data.classes),V=[],P=new Date(r,o,0).getDate();let Y=0;for(let B=1;B<=P;B++){const Q=new Date(r,o-1,B),se=l(Q),fe=`${r}-${String(o).padStart(2,"0")}-${String(B).padStart(2,"0")}`;let de=[];if(se===""?j.length>0&&(de=j[Y%j.length],Y++):se===""?de=C.||[]:de=C[se]||[],de&&de.length>0){const I=de.map(R=>({time:R.time,title:R.title,instructor:R.instructor,status:"normal",level:R.level||"",duration:R.duration||60}));V.push({date:fe,classes:I})}}if(V.length>0){await Zy(n,V);const B=`${n}_${r}_${o}`;return await En(ve(ie,"monthly_schedules",B),{branchId:n,year:r,month:o,isSaved:!0,createdAt:new Date().toISOString(),createdBy:vn.currentUser?.email||"admin"}),{success:!0,message:`     .
(: ${w||1} , :  )`}}return{success:!1,message:"  ."}}catch(l){throw console.error("Copy schedule failed:",l),l}},fP=async(n,e,t)=>{try{console.log(`Deleting schedule for ${n} ${e}-${t}`);const r=`${e}-${String(t).padStart(2,"0")}-01`,o=`${e}-${String(t).padStart(2,"0")}-31`,l=It(be(ie,"daily_classes"),fn("branchId","==",n),fn("date",">=",r),fn("date","<=",o)),u=await lt(l),m=fl(ie);let g=0;u.docs.forEach(_=>{m.delete(_.ref),g++});const p=`${n}_${e}_${t}`;return m.delete(ve(ie,"monthly_schedules",p)),(g>0||u.empty)&&await m.commit(),{success:!0,count:g}}catch(r){throw console.error("Delete schedule failed:",r),r}},dP=async()=>{try{const n=await gt(ve(ie,"settings","instructors"));if(n.exists()&&n.data().list)return n.data().list;const e=new Set;return Object.values(lr.DEFAULT_SCHEDULE_TEMPLATE).forEach(t=>{t.forEach(r=>{r.instructor&&e.add(r.instructor)})}),Array.from(e).sort()}catch(n){return console.warn("Failed to load instructors:",n),["","","","","","","","","","","anu","","","","","",""]}},mP=async()=>{try{const n=await gt(ve(ie,"settings","classTypes"));if(n.exists()&&n.data().list)return n.data().list;const e=new Set;return Object.values(lr.DEFAULT_SCHEDULE_TEMPLATE).forEach(t=>{t.forEach(r=>{r.className&&e.add(r.className)})}),Array.from(e).sort()}catch(n){return console.warn("Failed to load class types:",n),["","","","","+","","","","","","","",""]}},gP=async()=>{try{const n=await gt(ve(ie,"settings","classLevels"));return n.exists()&&n.data().list?n.data().list:["0.5","1","1.5","2"]}catch{return["0.5","1","1.5","2"]}},pP=async n=>{try{return await En(ve(ie,"settings","instructors"),{list:n,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(e){throw console.error("Failed to update instructors:",e),e}},yP=async n=>{try{return await En(ve(ie,"settings","classTypes"),{list:n,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(e){throw console.error("Failed to update class types:",e),e}},_P=async n=>{try{return await En(ve(ie,"settings","classLevels"),{list:n,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(e){throw console.error("Failed to update class levels:",e),e}},vP=async(n,e,t=[],r=!0)=>{try{const o=new Date,l=o.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"});let u=[];Array.isArray(t)?u=t:typeof t=="string"&&(u=[t]);let m=[];if(u&&u.length>0){const p=u.map(async(_,w)=>{if(typeof _=="string"&&_.startsWith("data:image"))try{const C=await(await fetch(_)).blob(),j=tk(rP,`notices/${Date.now()}_${w}.webp`),V=JO(j,C),P=new Promise((B,Q)=>setTimeout(()=>Q(new Error("STORAGE_TIMEOUT")),15e3));await Promise.race([V,P]);const Y=await ek(j);return console.log(`[Storage] Uploaded image ${w+1}/${u.length} to Storage`),Y}catch(T){console.warn(`[Storage] Storage upload failed (${T.message}). Using compressed Base64 fallback.`);try{const C=await new Promise(j=>{const V=new Image;V.onload=()=>{const P=document.createElement("canvas"),Y=400;let B=V.width,Q=V.height;B>Y&&(Q*=Y/B,B=Y),P.width=B,P.height=Q,P.getContext("2d").drawImage(V,0,0,B,Q),j(P.toDataURL("image/jpeg",.3))},V.onerror=()=>j(null),V.src=_});if(C)return C}catch{}return null}else return _});m=(await Promise.all(p)).filter(Boolean)}const g=m.length>0?m[0]:null;return await Gn(be(ie,"notices"),{title:n,content:e,image:g,images:m,sendPush:r,date:l,timestamp:o.toISOString()}),{success:!0}}catch(o){throw console.error("Add notice failed:",o),o}},EP=async n=>{try{return await Gr(ve(ie,"notices",n)),{success:!0}}catch(e){throw console.error("Delete notice failed:",e),e}},wP=async(n,e)=>{if(e==="ko"||!n||n.length===0)return n;try{const r=await Jr(es,"translateNoticesV2")({notices:n.map(o=>({id:o.id,title:o.title,content:o.content})),language:e});return r.data&&r.data.notices?r.data.notices.map(o=>({...n.find(u=>u.id===o.id),...o})):n}catch(t){return console.warn("[Storage] Notice translation failed:",t),n}},Jy=n=>{try{return localStorage.getItem(n)}catch{return null}},e_=(n,e)=>{try{localStorage.setItem(n,e)}catch{}},TP=async(n,e,t,r,o,l,u,m,g="ko",p=null,_="profile")=>{const w=`ai_experience_${n}_${r}_${g}_${_}`,T=Jy(w);if(T)return console.log("[AI] Returning cached experience"),JSON.parse(T);try{const C=Jr(es,"generatePageExperienceV2"),j=!n||[" ","","visitor","Guest"].includes(n),V=await C({memberName:n,attendanceCount:e,dayOfWeek:t,timeOfDay:r,upcomingClass:o,weather:l,credits:u,remainingDays:m,language:g,diligence:p,role:j?"visitor":"member",type:"experience",context:_});return V.data&&!V.data.isFallback&&e_(w,JSON.stringify(V.data)),V.data}catch(C){if(console.warn("AI Experience failed, using fallback:",C),_==="instructor"||n?.includes("")){const V=["     .","    .","   .","    .","   !","     .","    .","     .","   !"];return{message:V[Math.floor(Math.random()*V.length)],bgTheme:"sunny",colorTone:"#FFFFFF",isFallback:!0}}const j={ko:"        .",en:"May you find a precious moment to meet yourself on the mat today.",ru:"           .",zh:".",ja:""};return{message:j[g]||j.ko,bgTheme:"sunny",colorTone:"#FFFFFF",isFallback:!0}}},SP=async(n,e,t,r,o="ko",l="member",u=null,m="profile")=>{const g=`ai_analysis_${n}_${e}_${o}_${new Date().getHours()}`,p=Jy(g);if(p)return console.log("[AI] Returning cached analysis"),JSON.parse(p);try{const w=await Jr(es,"generatePageExperienceV2")({memberName:n,attendanceCount:e,logs:(t||[]).slice(0,10),type:"analysis",timeOfDay:r,language:o,role:l,statsData:u,context:m});return w.data&&!w.data.isFallback&&e_(g,JSON.stringify(w.data)),w.data}catch(_){console.warn("AI Analysis failed, using fallback:",_);const w={ko:"    .   !",en:"Analyzing your practice records. Cheering for your steady progress!",ru:"   .    !",zh:"",ja:""};return{message:w[o]||w.ko,isFallback:!0}}},bP=async(n="ko")=>{const t=`daily_yoga_${new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"})}_${n}_v2`,r=Jy(t);if(r)return JSON.parse(r);try{const u=(await Jr(es,"generateDailyYogaV2")({language:n,timeOfDay:new Date().getHours(),weather:"Sunny"})).data;return e_(t,JSON.stringify(u)),u}catch(o){console.warn("Daily Yoga fetch failed:",o);const l=[{name:"Child's Pose",benefit:n==="ko"?"  ":"Rest",instruction:n==="ko"?"    .":"Rest forehead on mat.",emoji:""},{name:"Cat-Cow",benefit:n==="ko"?" ":"Spine Flex",instruction:n==="ko"?"   ,   .":"Inhale arch, exhale round.",emoji:""}];return l.isFallback=!0,l}},AP=async()=>{try{const n=new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),e=ve(ie,"ai_quota",n),t=await gt(e);return t.exists()?{count:t.data().count||0,limit:5e3}:{count:0,limit:5e3}}catch(n){return console.error("AI Usage fetch failed:",n),{count:0,limit:2e3}}},RP=(n,e=1e4,t="   ")=>Promise.race([n,new Promise((r,o)=>setTimeout(()=>o(new Error(t)),e))]);let Yt=[],li={},gf=null,lp=()=>{};const dt={setNotifyCallback(n){lp=n},setupMemberListener(){console.log("[memberService] Starting Member Listener...");try{return gf&&gf(),gf=$r(be(ie,"members"),n=>{const e=n.docs.map(t=>({id:t.id,...t.data()}));Yt=e,console.log(`[memberService] Members updated via listener: ${e.length}`),this._buildPhoneLast4Index(),lp()},n=>{console.warn("[memberService] Member listener error:",n)}),gf}catch(n){return console.error("[memberService] Failed to setup member listener:",n),null}},getMembers(){return Yt},async loadAllMembers(){if(Yt.length>0)return Yt;try{console.time("[memberService] Force Fetch Members"),console.log("[memberService] Cache empty, force fetching members...");const e=(await lt(be(ie,"members"))).docs.map(t=>({id:t.id,...t.data()}));return Yt.length===0&&(Yt=e),this._buildPhoneLast4Index(),console.timeEnd("[memberService] Force Fetch Members"),Yt}catch(n){return console.error("Force fetch members failed:",n),[]}},_buildPhoneLast4Index(){li={},Yt.forEach(n=>{const e=n.phoneLast4||n.phone&&n.phone.slice(-4);e&&(li[e]||(li[e]=[]),li[e].push(n))}),console.log(`[memberService] PhoneLast4 index built: ${Object.keys(li).length} unique PINs`)},async findMembersByPhone(n){if(li[n]?.length>0)return console.log(`[memberService] Index hit for ${n}: ${li[n].length} member(s)`),li[n];const e=Yt.filter(t=>(t.phoneLast4||t.phone&&t.phone.slice(-4))===n);if(e.length>0)return console.log(`[memberService] Cache filter hit for ${n}: ${e.length} member(s)`),e;console.warn(`[memberService] Cache miss for ${n}, calling Cloud Function...`);try{const t=Jr(es,"getSecureMemberV2Call"),o=(await RP(t({phoneLast4:n}),1e4,"    -  ")).data.members||[];return o.forEach(l=>{const u=Yt.findIndex(m=>m.id===l.id);u!==-1?Yt[u]={...Yt[u],...l}:Yt.some(m=>m.id===l.id)||Yt.push(l),li[n]||(li[n]=[]),li[n].some(m=>m.id===l.id)||li[n].push(l)}),o}catch(t){console.warn("Using Firestore fallback for findMembersByPhone:",t);const r=It(be(ie,"members"),fn("phoneLast4","==",n),qr(10));return(await lt(r)).docs.map(l=>({id:l.id,...l.data()}))}},getMemberById(n){return n&&Yt.find(e=>e.id===n)||null},async updateMember(n,e){try{const t=ve(ie,"members",n);return await Vr(t,{...e,updatedAt:new Date().toISOString()}),{success:!0}}catch(t){return console.error("Update member failed:",t),{success:!1,error:t.message}}},_updateLocalMemberCache(n,e){const t=Yt.findIndex(r=>r.id===n);t!==-1&&(Yt[t]={...Yt[t],...e},lp(),this._buildPhoneLast4Index())},async addMember(n){try{const e=It(be(ie,"members"),fn("phone","==",n.phone));if(!(await lt(e)).empty)throw new Error("  .");const r=await Gn(be(ie,"members"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),phoneLast4:n.phone.slice(-4)});return console.log(`[memberService] Member added to Firestore: ${r.id}`),{success:!0,id:r.id}}catch(e){throw console.error("Add member failed:",e),e}},getMemberStreak(n,e){try{if(!e||e.length===0)return 0;const t=e.map(p=>p.date).filter(Boolean).sort().reverse(),r=[...new Set(t)],o=new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),l=new Date;l.setDate(l.getDate()-1);const u=l.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"});if(r[0]!==o&&r[0]!==u)return 0;let m=1,g=new Date(r[0]);for(let p=1;p<r.length;p++){const _=new Date(r[p]);if(Math.round((g-_)/(1e3*60*60*24))===1)m++,g=_;else break}return m}catch(t){return console.warn("Streak calc failed:",t),0}},async getMemberDiligence(n){try{const e=await gt(ve(ie,"member_diligence",n));return e.exists()?e.data():null}catch(e){return console.warn("Diligence fetch failed:",e),null}},_safeGetItem(n){try{return localStorage.getItem(n)}catch{return null}},_safeSetItem(n,e){try{localStorage.setItem(n,e)}catch{}},getGreetingCache(n){const e=this._safeGetItem(`greeting_${n}`);return e?JSON.parse(e):null},setGreetingCache(n,e){this._safeSetItem(`greeting_${n}`,JSON.stringify(e))}},IP=(n,e=1e4,t="   ")=>Promise.race([n,new Promise((r,o)=>setTimeout(()=>o(new Error(t)),e))]);let Or=[],Lc=()=>{},pf={getCurrentClass:async()=>null,logError:async()=>{}};const bi={setNotifyCallback(n){Lc=n},setDependencies(n){pf={...pf,...n}},setupAttendanceListener(){try{return $r(It(be(ie,"attendance"),er("timestamp","desc"),qr(500)),n=>{Or=n.docs.map(e=>({id:e.id,...e.data()})),Lc()},n=>console.warn("[attendanceService] Listener error:",n))}catch(n){return console.error("[attendanceService] Failed to subscribe:",n),null}},getAttendance(){return Or},async clearAllAttendance(){try{if(!window.confirm("    ?     ."))return{success:!1,message:"."};const n=await lt(be(ie,"attendance")),e=n.docs.map(t=>Gr(t.ref));return await Promise.all(e),Or=[],Lc(),{success:!0,count:n.docs.length}}catch(n){return console.error("Clear all attendance failed:",n),{success:!1,message:n.message}}},getAttendanceByMemberId(n){return Or.filter(e=>e.memberId===n).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))},async getAttendanceByDate(n,e=null){try{let t=It(be(ie,"attendance"),fn("date","==",n)),o=(await lt(t)).docs.map(l=>({id:l.id,...l.data()}));return o.sort((l,u)=>{const m=l.timestamp?new Date(l.timestamp).getTime():0;return(u.timestamp?new Date(u.timestamp).getTime():0)-m}),e&&(o=o.filter(l=>l.branchId===e)),o}catch(t){return console.warn("Get attendance by date failed:",t),[]}},subscribeAttendance(n,e=null,t){try{let r=It(be(ie,"attendance"),fn("date","==",n));return $r(r,o=>{let l=o.docs.map(u=>({id:u.id,...u.data()}));l.sort((u,m)=>{const g=u.timestamp?new Date(u.timestamp).getTime():0;return(m.timestamp?new Date(m.timestamp).getTime():0)-g}),e&&(l=l.filter(u=>u.branchId===e)),t(l)},o=>{console.warn("[attendanceService] Attendance listener error:",o)})}catch(r){return console.error("[attendanceService] Failed to subscribe to attendance:",r),()=>{}}},async deleteAttendance(n){try{const e=ve(ie,"attendance",n),t=await gt(e);if(t.exists()){const r=t.data(),o=r.status==="valid"||!r.status&&!r.denialReason;if(r.memberId&&o&&(r.type==="checkin"||r.type==="manual"||!r.type)){const l=ve(ie,"members",r.memberId);await Vr(l,{credits:Hc(1),attendanceCount:Hc(-1)});const u=dt.getMembers(),m=u.findIndex(g=>g.id===r.memberId);m!==-1&&dt._updateLocalMemberCache(r.memberId,{credits:(Number(u[m].credits)||0)+1,attendanceCount:Math.max(0,(Number(u[m].attendanceCount)||0)-1)})}}return await Gr(e),Or=Or.filter(r=>r.id!==n),Lc(),{success:!0}}catch(e){return console.error("Delete attendance failed:",e),await pf.logError(e,{context:"deleteAttendance",logId:n}),{success:!1,message:e.message}}},async syncPendingCheckins(){if(!navigator.onLine)return{successCount:0,remainingCount:0};const n=JSON.parse(localStorage.getItem("pending_checkins_queue")||"[]");if(n.length===0)return{successCount:0,remainingCount:0};console.log(`[attendanceService] Syncing ${n.length} pending check-ins...`);const e=be(ie,"pending_attendance"),t=[];let r=0;for(const o of n)try{await Gn(e,o),r++}catch(l){console.error("[attendanceService] Failed to sync pending record:",l),t.push(o)}return t.length>0?localStorage.setItem("pending_checkins_queue",JSON.stringify(t)):localStorage.removeItem("pending_checkins_queue"),console.log(`[attendanceService] Synced ${r} records. Remaining: ${t.length}`),{successCount:r,remainingCount:t.length}},async checkInById(n,e,t=!1){try{const r=Jr(es,"checkInMemberV2Call"),o=await pf.getCurrentClass(e),l=o?.title||"",u=o?.instructor||"";let m=null;for(let V=1;V<=2;V++)try{console.log(`[attendanceService] Check-in attempt ${V}/2... (force: ${t})`);const P=await IP(r({memberId:n,branchId:e,classTitle:l,instructor:u,classTime:o?.time||null,force:t}),5e3,"timeout");if(P.data.success){const{newCredits:Y,startDate:B,endDate:Q,attendanceCount:se,streak:fe,isMultiSession:de,sessionCount:I}=P.data;return dt._updateLocalMemberCache(n,{credits:Y,attendanceCount:se,streak:fe,startDate:B,endDate:Q,lastAttendance:new Date().toISOString()}),{success:!0,message:de?`[${l}] ${I} !`:`[${l}] !`,attendanceStatus:P.data.attendanceStatus,denialReason:P.data.denialReason,isDuplicate:P.data.isDuplicate,member:{id:n,name:P.data.memberName,credits:Y,attendanceCount:se,streak:fe,startDate:B,endDate:Q,isMultiSession:de,sessionCount:I}}}else return console.warn(`[attendanceService] Check-in denied by server: ${P.data.message}`),{success:!1,message:P.data.message||"Check-in failed"}}catch(P){m=P;const Y=P.code,B=P.message||"";if(Y&&["invalid-argument","failed-precondition","out-of-range","unauthenticated","permission-denied","not-found","already-exists","resource-exhausted","aborted","cancelled","unknown"].includes(Y))return console.warn(`[attendanceService] Logic error returned: ${Y} - ${B}`),{success:!1,message:B};if(V===1&&navigator.onLine){console.warn(`[attendanceService] Attempt 1 failed (${B}). Retrying immediately...`);continue}break}console.warn(`[attendanceService] Offline mode triggered. Reason: ${m?.message||"Unknown"}`);const g=dt.getMemberById(n),p=new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),_=new Date().toISOString();if(g){let V=!1,P=null;if(g.endDate){const Y=new Date(p),B=new Date(g.endDate);Y>B&&(V=!0,P="expired")}if(!V&&(g.credits||0)<=0&&(V=!0,P="no_credits"),V)return{success:!0,isOffline:!0,attendanceStatus:"denied",denialReason:P,message:"   . ()",member:g}}const w=be(ie,"pending_attendance"),T={memberId:n,branchId:e,classTitle:l,instructor:u,classTime:o?.time||null,date:p,timestamp:_,status:"pending-offline"};try{await Gn(w,T),console.log("[attendanceService] Pending record saved to Firestore (Offline mode)")}catch(V){console.error("[attendanceService] Firestore write failed. Using LocalStorage fallback:",V.message);const P=JSON.parse(localStorage.getItem("pending_checkins_queue")||"[]");P.push(T),localStorage.setItem("pending_checkins_queue",JSON.stringify(P))}const C=(g?.credits||0)>0?g.credits-1:0,j=(g?.attendanceCount||0)+1;return dt._updateLocalMemberCache(n,{credits:C,attendanceCount:j,lastAttendance:_}),{success:!0,isOffline:!0,message:`[${l}] !`,member:{...g,credits:C,attendanceCount:j}}}catch(r){return{success:!1,message:r.message}}},async addManualAttendance(n,e,t,r=" ",o=""){try{const l=await gt(ve(ie,"members",n)),u=l.exists()?l.data().name:"  ";let m=new Date(e);isNaN(m.getTime())&&(m=new Date);const g=m.toISOString();let p=r,_=o;if(r===" ")try{const V=m.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),P=`${t}_${V}`,Y=await gt(ve(ie,"daily_classes",P));if(Y.exists()){const Q=Y.data().classes||[],se=m.getHours(),fe=m.getMinutes(),de=se*60+fe,I=Q.find(R=>{if(!R.time||R.status==="cancelled")return!1;const[D,L]=R.time.split(":").map(Number),k=D*60+L,z=R.duration||60,N=k+z;return de>=k-30&&de<=N+30});I?(p=I.title||I.name||"",_=I.instructor||""):(p="",_="")}else p="",_=""}catch(V){console.warn("Schedule lookup failed, using default:",V),p="",_=""}const w=await Gn(be(ie,"attendance"),{memberId:n,memberName:u,timestamp:g,branchId:t,className:p,instructor:_,type:"manual",date:m.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"})}),T=ve(ie,"members",n);await Vr(T,{credits:Hc(-1),attendanceCount:Hc(1),lastAttendance:g});const C={id:w.id,memberId:n,memberName:u,timestamp:g,branchId:t,className:p,instructor:_,type:"manual",date:m.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"})};return Or.some(V=>V.id===w.id)||(Or.push(C),Or.sort((V,P)=>new Date(P.timestamp)-new Date(V.timestamp))),dt._updateLocalMemberCache(n,{credits:(Number(dt.getMemberById(n)?.credits)||0)-1,attendanceCount:(Number(dt.getMemberById(n)?.attendanceCount)||0)+1,lastAttendance:g}),Lc(),{success:!0,id:w.id}}catch(l){return console.error("Add manual attendance failed:",l),{success:!1,message:l.message}}}};let Ow=()=>{};const Go={setNotifyCallback(n){Ow=n},async addSalesRecord(n){try{return await Gn(be(ie,"sales"),{...n,timestamp:new Date().toISOString()}),!0}catch(e){throw console.error("Add sales failed:",e),e}},async deleteSalesRecord(n){try{return await Gr(ve(ie,"sales",n)),console.log(`[paymentService] Sales record deleted: ${n}`),Ow(),!0}catch(e){throw console.error("Delete sales record failed:",e),e}},async getSalesHistory(n){try{const e=It(be(ie,"sales"),fn("memberId","==",n));return(await lt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.warn("Get sales history failed:",e),[]}},async getAllSales(){try{const n=It(be(ie,"sales"),er("timestamp","desc"));return(await lt(n)).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.warn("Get all sales failed:",n),[]}},async getSales(){return this.getAllSales()}},Vs={setNotifyCallback(){},async getMessagesByMemberId(n){try{console.log(`[messageService] Fetching messages for member: ${n}`);const e=It(be(ie,"messages"),fn("memberId","==",n),qr(50)),r=(await lt(e)).docs.map(g=>({id:g.id,...g.data(),type:"admin_individual"})),o=It(be(ie,"notices"),qr(20)),u=(await lt(o)).docs.map(g=>({id:g.id,...g.data(),type:"notice",content:g.data().content,timestamp:g.data().timestamp||g.data().date}));return[...r,...u].sort((g,p)=>{const _=new Date(g.timestamp||0).getTime();return new Date(p.timestamp||0).getTime()-_})}catch(e){return console.error("[messageService] getMessagesByMemberId failed:",e),[]}},getPendingApprovals(n){try{const e=It(be(ie,"message_approvals"),er("createdAt","desc"));return $r(e,t=>{const r=t.docs.map(o=>({id:o.id,...o.data()}));n&&n(r)},t=>{console.warn("[messageService] Error fetching pending approvals:",t),n&&n([])})}catch(e){return console.error("[messageService] Failed to setup pending approvals listener:",e),n&&n([]),()=>{}}},async approvePush(n){try{const e=ve(ie,"message_approvals",n);return await Vr(e,{status:"approved",approvedAt:new Date().toISOString()}),{success:!0}}catch(e){throw console.error("Approve push failed:",e),e}},async rejectPush(n){try{return await Gr(ve(ie,"message_approvals",n)),{success:!0}}catch(e){throw console.error("Reject push failed:",e),e}},async addMessage(n,e,t=null,r=null){try{if(!n||!e)throw new Error("Invalid message data");const o={memberId:n,content:e,type:"admin_individual",createdAt:new Date().toISOString(),timestamp:new Date().toISOString()};t?(o.scheduledAt=t,o.status="scheduled"):o.status="pending",r&&(o.templateId=r);const l=await Gn(be(ie,"messages"),o);return console.log(`[messageService] Message added for ${n}: ${l.id}. Template: ${r||"None"}`),{success:!0,id:l.id}}catch(o){throw console.error("Add message failed:",o),o}},async sendBulkMessages(n,e,t=null,r=null){try{if(!n||n.length===0)throw new Error("No members selected");if(!e)throw new Error("Content is empty");const o=[];for(let u=0;u<n.length;u+=400)o.push(n.slice(u,u+400));let l=0;for(const u of o){const m=fl(ie);u.forEach(g=>{const p=ve(be(ie,"messages")),_={memberId:g,content:e,type:"admin_individual",createdAt:new Date().toISOString(),timestamp:new Date().toISOString(),status:t?"scheduled":"pending"};t&&(_.scheduledAt=t),r&&(_.templateId=r),m.set(p,_)}),await m.commit(),l+=u.length}return console.log(`[messageService] Bulk sent ${l} messages.`),{success:!0,count:l}}catch(o){throw console.error("Bulk message send failed:",o),o}},async getMessages(n){try{const e=It(be(ie,"messages"),fn("memberId","==",n),er("timestamp","desc"),qr(50));return(await lt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.warn("Get messages failed:",e),[]}},async sendBulkPushCampaign(n,e,t){try{if(!t)throw new Error("Message body is required");const r=await Gn(be(ie,"push_campaigns"),{targetMemberIds:n||[],title:e||lr.NAME+" ",body:t,status:"pending",createdAt:new Date().toISOString(),totalTargets:n?.length||0});return console.log(`[messageService] Bulk push campaign created: ${r.id}. Status: pending.`),{success:!0,id:r.id}}catch(r){throw console.error("Bulk push failed:",r),r}}},_x=()=>CP(new Date),CP=n=>{if(!n)return"";let e;if(typeof n=="string"?e=new Date(n):n&&typeof n.toDate=="function"?e=n.toDate():e=n,!(e instanceof Date)||isNaN(e.getTime()))return"";const r=new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),o=r.find(m=>m.type==="year")?.value,l=r.find(m=>m.type==="month")?.value,u=r.find(m=>m.type==="day")?.value;return!o||!l||!u?"":`${o}-${l}-${u}`},vx=n=>{if(!n||n==="TBD"||n==="unlimited")return null;const e=new Date(n);if(isNaN(e.getTime()))return null;const t=new Date;t.setHours(0,0,0,0),e.setHours(0,0,0,0);const r=e-t;return Math.ceil(r/(1e3*60*60*24))},DP=()=>{const n={timeZone:"Asia/Seoul",hour:"numeric",hour12:!1},e=new Intl.DateTimeFormat("en-US",n).format(new Date);return parseInt(e)},NP=()=>{const n={timeZone:"Asia/Seoul",minute:"numeric"},e=new Intl.DateTimeFormat("en-US",n).format(new Date);return parseInt(e)},OP=()=>DP()*60+NP();let Vc=[],$o={},kP={},Us={};const MP=600*1e3;let Ko=[],Cf=[];const PP=(n,e=1e4,t="   ")=>Promise.race([n,new Promise((r,o)=>setTimeout(()=>o(new Error(t)),e))]),Pa=()=>{Cf.forEach(n=>n())},OA={subscribe(n){return Cf.push(n),()=>{Cf=Cf.filter(e=>e!==n)}},async initialize({mode:n="full"}={}){dt.setNotifyCallback(Pa),bi.setNotifyCallback(Pa),Go.setNotifyCallback(Pa),bi.setDependencies({getCurrentClass:this.getCurrentClass.bind(this),logError:this.logError.bind(this)});try{await new Promise(t=>{const r=vn.onAuthStateChanged(o=>{r(),t(o)})}),vn.currentUser||await lA(vn)}catch(t){console.error("Auth initialization failed:",t)}const e=(t,r,o)=>{try{return $r(t,l=>{r(l),Pa()},l=>{console.warn(`[Storage] Listener error for ${o}:`,l)})}catch(l){console.error(`[Storage] Failed to subscribe to ${o}:`,l)}};if(n==="kiosk"){console.log("KIOSK MODE: Initializing cache for maximum speed & reliability..."),console.time("[Kiosk] Full Cache Load");const t=await dt.loadAllMembers();console.log(`[Storage] Kiosk member cache ready: ${t.length} members`);try{const r=new Date,o=[];for(let m=-1;m<=1;m++){const g=new Date(r);g.setDate(g.getDate()+m),o.push(g.toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}))}const l=["gwangheungchang","mapo"],u=[];o.forEach(m=>{l.forEach(g=>{u.push(this._refreshDailyClassCache(g,m))})}),await Promise.all(u),console.log("[Storage] Kiosk daily_classes cache ready (3 days for all branches)"),this._refreshInterval||(this._refreshInterval=setInterval(()=>{console.log("[Storage] Scheduled background refresh for today's classes..."),l.forEach(m=>this._refreshDailyClassCache(m))},600*1e3))}catch(r){console.warn("[Storage] Kiosk pre-fetch error:",r)}console.timeEnd("[Kiosk] Full Cache Load");return}dt.setupMemberListener(),bi.setupAttendanceListener(),e(It(be(ie,"notices"),er("timestamp","desc")),t=>Vc=t.docs.map(r=>({id:r.id,...r.data()})),"Notices"),e(be(ie,"fcm_tokens"),t=>{Ko=t.docs.map(r=>({id:r.id,...r.data()})),console.log(`[Storage] FCM Tokens: ${Ko.length}`)},"FCMTokens");try{const t=await lt(be(ie,"images")),r={};t.docs.forEach(o=>{r[o.id]=o.data().url||o.data().base64}),$o=r,console.log(`[Storage] Images loaded (one-time): ${Object.keys($o).length} items`)}catch(t){console.warn("[Storage] Images load failed:",t)}},_setupMemberListener(){return dt.setupMemberListener()},_safeGetItem(n){try{return localStorage.getItem(n)}catch{return null}},_safeSetItem(n,e){try{localStorage.setItem(n,e)}catch{}},async addNotice(n,e,t=[],r=!0){return vP(n,e,t,r)},async deleteNotice(n){return EP(n)},getMembers(){return dt.getMembers()},loadAllMembers(){return dt.loadAllMembers()},_buildPhoneLast4Index(){return dt._buildPhoneLast4Index()},findMembersByPhone(n){return dt.findMembersByPhone(n)},checkInById(n,e,t=!1){return bi.checkInById(n,e,t)},_updateLocalMemberCache(n,e){return dt._updateLocalMemberCache(n,e)},async _refreshDailyClassCache(n,e=null){const t=e||new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),r=`${n}_${t}`;try{const o=ve(ie,"daily_classes",r),l=await gt(o);l.exists()?Us[r]={classes:l.data().classes||[],fetchedAt:Date.now()}:Us[r]={classes:[],fetchedAt:Date.now()}}catch(o){console.warn(`[Storage] Failed to refresh daily classes for ${r}:`,o)}},async getCurrentClass(n,e=null){const t=new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),r=`${n}_${t}`,o=Us[r],l=Date.now();if(!o||!o.classes||o.classes.length===0||l-(o.fetchedAt||0)>MP)try{console.log(`[Storage] Cache stale/empty for ${r}, refreshing...`);const w=ve(ie,"daily_classes",r),T=await gt(w),C=T.exists()?T.data().classes||[]:[];Us[r]={classes:C,fetchedAt:Date.now()}}catch(w){return console.warn("[Storage] Failed to fetch classes:",w),null}let m=(Us[r]?.classes||[]).filter(w=>w.status!=="cancelled");if(e){const w=e.trim();m=m.filter(T=>{const C=(T.instructor||"").trim();return C===w||C.includes(w)||w.includes(C)})}if(m.sort((w,T)=>w.time.localeCompare(T.time)),m.length===0)return null;const g=OP();let p=null,_="No Match";for(let w=0;w<m.length;w++){const T=m[w],C=T.duration||60,[j,V]=T.time.split(":").map(Number),P=j*60+V,Y=P+C;if(g>=P-30&&g<P){p=T,_=` : ${T.time}`;break}if(g>=P&&g<Y){const B=m[w+1];if(B){const[Q,se]=B.time.split(":").map(Number),fe=Q*60+se;if(g>=fe-30){p=B,_=`  : ${B.time}`;break}}p=T,_=`  : ${T.time}`;break}if(g>=P-60&&g<P-30){const B=m[w-1];let Q=!1;if(B){const[se,fe]=B.time.split(":").map(Number),de=se*60+fe+(B.duration||60);g<de&&(Q=!0)}if(!Q){p=T,_=` : ${T.time}`;break}}}if(!p)for(let w=m.length-1;w>=0;w--){const T=m[w],C=T.duration||60,[j,V]=T.time.split(":").map(Number),P=j*60+V+C;if(g>=P&&g<=P+30){p=T,_=`  : ${T.time} ( ${g-P} )`;break}}return p?(console.log(`[SmartAttendance] Matched: ${p.title||p.className} (${_})`),{title:p.title||p.className,instructor:p.instructor,time:p.time,debugReason:_}):(console.log(`[SmartAttendance] No match found. currentMinutes=${g}, classes=${m.map(w=>w.time+"("+w.title+")").join(", ")}`),null)},async getDailyClasses(n,e=null){const t=new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),r=`${n}_${t}`,o=Us[r];if(!o||!o.classes)try{const u=ve(ie,"daily_classes",r),m=await gt(u),g=m.exists()?m.data().classes||[]:[];Us[r]={classes:g,fetchedAt:Date.now()}}catch{return[]}let l=(Us[r]?.classes||[]).filter(u=>u.status!=="cancelled");if(e){const u=e.trim();l=l.filter(m=>(m.instructor||"").trim()===u)}return l.sort((u,m)=>u.time.localeCompare(m.time))},async saveToken(n,e="member",t="ko"){if(n)try{const r=ve(ie,"fcm_tokens",n);await En(r,{token:n,role:e,language:t,updatedAt:new Date().toISOString(),platform:"web"},{merge:!0})}catch(r){console.error("Save token failed:",r)}},async saveInstructorToken(n,e,t="ko"){if(!(!n||!e))try{const r=ve(ie,"fcm_tokens",n);await En(r,{token:n,role:"instructor",instructorName:e,language:t,updatedAt:new Date().toISOString(),platform:"web"},{merge:!0}),console.log(`[Storage] Instructor token saved for ${e}`)}catch(r){console.error("Save instructor token failed:",r)}},async getAIExperience(n,e,t,r,o,l,u,m,g="ko",p=null,_="profile"){return TP(n,e,t,r,o,l,u,m,g,p,_)},async getAIAnalysis(n,e,t,r,o="ko",l="member",u=null,m="profile"){return SP(n,e,t,r,o,l,u,m)},async getDailyYoga(n="ko"){return bP(n)},async getMonthlyClasses(n,e,t){return aP(n,e,t)},async getMonthlyScheduleStatus(n,e,t){return oP(n,e,t)},async updateDailyClasses(n,e,t){return lP(n,e,t)},async batchUpdateDailyClasses(n,e){return Zy(n,e)},async createMonthlySchedule(n,e,t){return cP(n,e,t)},async copyMonthlySchedule(n,e,t,r,o){return hP(n,e,t,r,o)},async deleteMonthlySchedule(n,e,t){return fP(n,e,t)},async getInstructors(){return dP()},async updateInstructors(n){return pP(n)},async getClassTypes(){return mP()},async updateClassTypes(n){return yP(n)},async getClassLevels(){return gP()},async updateClassLevels(n){return _P(n)},getMemberById(n){return dt.getMemberById(n)},async logError(n,e={}){try{await Gn(be(ie,"error_logs"),{message:n?.message||String(n),context:e,url:window.location.href,timestamp:new Date().toISOString(),userId:vn.currentUser?vn.currentUser.uid:"anonymous"})}catch(t){console.warn("Failed to log error:",t)}},getKioskBranch(){return this._safeGetItem("kiosk_branch")||lr.BRANCH_IDS.MAPO},setKioskBranch(n){this._safeSetItem("kiosk_branch",n)},getCurrentBranch(){return this._safeGetItem("admin_current_branch")||"all"},setBranch(n){this._safeSetItem("admin_current_branch",n)},async logLoginFailure(n,e,t,r){try{await Gn(be(ie,"login_failures"),{timestamp:new Date().toISOString(),type:n,attemptedName:e,attemptedPhone:t,errorMessage:r,userAgent:navigator.userAgent,device:/mobile/i.test(navigator.userAgent)?"mobile":"desktop"}),console.log(`[Login Failure] Logged: ${n} - ${e} - ${t}`)}catch(o){console.error("[Login Failure] Failed to log:",o)}},async loginMember(n,e){try{const t=await this.findMembersByPhone(e),r=n.trim().toLowerCase(),o=t.filter(l=>{const u=(l.name||"").trim().toLowerCase();return u.startsWith(r)||u.includes(r)});if(o.length===1){try{vn.currentUser||(await Fn(async()=>{const{signInAnonymously:l}=await Promise.resolve().then(()=>mf);return{signInAnonymously:l}},[]).then(({signInAnonymously:l})=>l(vn)),console.log("[Storage] Anonymous auth successful for member login"))}catch(l){console.warn("[Storage] Anonymous auth failed during login:",l)}return{success:!0,member:{...o[0],displayName:n.trim()}}}else if(o.length>1){console.warn(`Multiple members found for name ${n} and PIN ${e}`);const l=o.find(u=>(u.name||"").trim().toLowerCase()===r);try{vn.currentUser||(await Fn(async()=>{const{signInAnonymously:u}=await Promise.resolve().then(()=>mf);return{signInAnonymously:u}},void 0).then(({signInAnonymously:u})=>u(vn)),console.log("[Storage] Anonymous auth successful for member login"))}catch(u){console.warn("[Storage] Anonymous auth failed during login:",u)}return{success:!0,member:{...l||o[0],displayName:n.trim()}}}else return await this.logLoginFailure("member",n,e,"NOT_FOUND"),{success:!1,error:"NOT_FOUND",message:"   ."}}catch(t){return console.error("Login failed:",t),await this.logLoginFailure("member",n,e,t.message||"SYSTEM_ERROR"),{success:!1,error:"SYSTEM_ERROR",message:"   ."}}},async loginInstructor(n,e){try{const t=Jr(es,"verifyInstructorV2Call"),r=await PP(t({name:n,phoneLast4:e}),1e4,"   ");if(r.data.success){if(r.data.token)try{await fA(vn,r.data.token),console.log("[Storage] Instructor auth via token successful")}catch(o){console.warn("[Storage] Instructor token auth failed:",o)}return localStorage.setItem("instructorName",r.data.name),{success:!0,name:r.data.name}}else return await this.logLoginFailure("instructor",n,e,r.data.message||" "),{success:!1,message:r.data.message||" "}}catch(t){return console.error("Instructor login failed:",t),await this.logLoginFailure("instructor",n,e,t.message||"SYSTEM_ERROR"),{success:!1,message:"    ."}}},async migratePhoneLast4(){try{const n=await lt(be(ie,"members"));let e=0;const t=100;let r=fl(ie);for(const l of n.docs){const u=l.data();u.phone&&!u.phoneLast4&&(r.update(ve(ie,"members",l.id),{phoneLast4:u.phone.slice(-4)}),e++,e%t===0&&(await r.commit(),r=fl(ie)))}await r.commit();const o=await gt(ve(ie,"settings","instructors"));if(o.exists()){const u=(o.data().list||[]).map(m=>typeof m=="object"&&m.phone&&!m.phoneLast4?{...m,phoneLast4:m.phone.slice(-4)}:m);await En(ve(ie,"settings","instructors"),{list:u},{merge:!0})}return{success:!0,count:e}}catch(n){throw console.error("Migration failed:",n),n}},updateMember(n,e){return dt.updateMember(n,e)},addMember(n){return dt.addMember(n)},getMemberStreak(n,e){return dt.getMemberStreak(n,e)},getMemberDiligence(n){return dt.getMemberDiligence(n)},getGreetingCache(n){return dt.getGreetingCache(n)},setGreetingCache(n,e){return dt.setGreetingCache(n,e)},async deletePushToken(){try{const n=await navigator.serviceWorker.ready,e=await ff(qc,{vapidKey:lr.VAPID_KEY||"BOz8GOOsVZsK9FJ6jS-w25tiMJk-YhdGmxvZNi2Q1gfY9Kmip4SOF0JAj0nl7aZKkAiAk6_wjb5AOzFZ2BHhDw0",serviceWorkerRegistration:n});if(e){const t=await gt(ve(ie,"fcm_tokens",e));t.exists()&&t.data().memberId&&await Vr(ve(ie,"members",t.data().memberId),{pushEnabled:!1}),await Gr(ve(ie,"fcm_tokens",e))}return!0}catch(n){return console.error("Delete push token failed:",n),!1}},async requestPushPermission(n){try{const e=await Notification.requestPermission();if(e==="granted"){const t=await this.requestAndSaveToken("member");if(t&&n){const r=ve(ie,"fcm_tokens",t),o=await gt(r);let l={memberId:n,updatedAt:new Date().toISOString()};(!o.exists()||!o.data().createdAt)&&(l.createdAt=new Date().toISOString()),await En(r,l,{merge:!0}),await Vr(ve(ie,"members",n),{pushEnabled:!0})}}return e}catch(e){return console.error("Push permission request failed:",e),"denied"}},async requestInstructorPushPermission(n){if(n)try{if(await Notification.requestPermission()==="granted"){const t=await this.requestAndSaveToken("instructor");if(t){const r=ve(ie,"fcm_tokens",t),o=await gt(r);let l={token:t,role:"instructor",instructorName:n,updatedAt:new Date().toISOString(),platform:"web"};return(!o.exists()||!o.data().createdAt)&&(l.createdAt=new Date().toISOString()),await En(r,l,{merge:!0}),console.log(`[Push] Instructor token registered for ${n}`),!0}}return!1}catch(e){return console.error("Instructor push permission request failed:",e),!1}},async verifyServiceWorkerRegistration(){if(!("serviceWorker"in navigator))throw new Error("     .");try{return await navigator.serviceWorker.ready}catch(n){throw console.error("[Storage] Service Worker verification failed:",n),new Error(`Service Worker  : ${n.message}`)}},async checkPushNotificationStatus(){try{if(!("Notification"in window))return{supported:!1,permission:"unsupported",serviceWorker:!1,message:"     ."};const n=Notification.permission;let e=!1;if("serviceWorker"in navigator){const r=await navigator.serviceWorker.getRegistration();e=!!(r&&r.active)}let t=!1;try{const r="BOz8GOOsVZsK9FJ6jS-w25tiMJk-YhdGmxvZNi2Q1gfY9Kmip4SOF0JAj0nl7aZKkAiAk6_wjb5AOzFZ2BHhDw0";if(r&&n==="granted"&&e){const o=await navigator.serviceWorker.ready;t=!!await ff(qc,{vapidKey:r,serviceWorkerRegistration:o})}}catch(r){console.warn("[Storage] Token check failed:",r)}return{supported:!0,permission:n,serviceWorker:e,hasToken:t,message:this._getPushStatusMessage(n,e,t)}}catch(n){return console.error("[Storage] Push notification status check failed:",n),{supported:!1,permission:"error",serviceWorker:!1,hasToken:!1,message:"     ."}}},_getPushStatusMessage(n,e,t){return n==="denied"?"  .   .":n!=="granted"?"  .":e?t?"    .":"    .":"    ."},async reregisterPushToken(n){try{console.log("[Storage] Starting push token reregistration..."),await this.verifyServiceWorkerRegistration();try{await this.deletePushToken()}catch(o){console.warn("[Storage] Failed to delete old token (this is OK):",o)}if(await Notification.requestPermission()!=="granted")throw new Error("  .");const t="BOz8GOOsVZsK9FJ6jS-w25tiMJk-YhdGmxvZNi2Q1gfY9Kmip4SOF0JAj0nl7aZKkAiAk6_wjb5AOzFZ2BHhDw0",r=await ff(qc,{vapidKey:t,serviceWorkerRegistration:await this.verifyServiceWorkerRegistration()});if(!r)throw new Error("  .");if(console.log("[Storage] New token obtained:",r.substring(0,20)+"..."),n){const o=ve(ie,"fcm_tokens",r),l=await gt(o);let u={memberId:n,updatedAt:new Date().toISOString(),platform:"web",role:"member",language:"ko"};(!l.exists()||!l.data().createdAt)&&(u.createdAt=new Date().toISOString()),await En(o,u,{merge:!0}),await Vr(ve(ie,"members",n),{pushEnabled:!0,fcmToken:r,lastTokenUpdate:new Date}),console.log("[Storage] Token registered for member:",n)}return{success:!0,token:r,message:"   !"}}catch(e){return console.error("[Storage] Token reregistration failed:",e),{success:!1,error:e.message,message:`   : ${e.message}`}}},async requestAndSaveToken(){try{const n=await Notification.requestPermission();if(console.warn("Permission status:",n),n==="denied")throw new Error("   .     .");const e="BOz8GOOsVZsK9FJ6jS-w25tiMJk-YhdGmxvZNi2Q1gfY9Kmip4SOF0JAj0nl7aZKkAiAk6_wjb5AOzFZ2BHhDw0";console.log("[Storage] Requesting token with VAPID Key...");const t=await this.verifyServiceWorkerRegistration();return await ff(qc,{vapidKey:e,serviceWorkerRegistration:t})}catch(n){throw console.error("Token retrieval failed:",n),alert("   : "+(n.message||n)+`

(Firebase Console     .)`),n}},async translateNotices(n,e){return wP(n,e)},async getAiUsage(){return AP()},onAuthStateChanged(n){return vn.onAuthStateChanged(n)},async getImages(){if(Object.keys($o).length===0)try{console.log("[Storage] cachedImages empty, fetching from Firestore...");const n=await lt(be(ie,"images")),e={};return n.docs.forEach(t=>{e[t.id]=t.data().url||t.data().base64}),$o=e,console.log("[Storage] Fetched images from Firestore. Keys:",Object.keys(e)),e}catch(n){return console.warn("[Storage] Failed to fetch images from Firestore:",n),{}}return $o},async updateImage(n,e){try{if(!e||!n)throw new Error("Invalid image data");return console.log(`[Storage] updateImage called for ${n}. Length: ${e.length}`),$o[n]=e,kP[n]={base64:e,timestamp:Date.now()},Pa(),await En(ve(ie,"images",n),{base64:e,updatedAt:new Date().toISOString()},{merge:!0}),console.log(`[Storage] SetDoc complete for ${n}`),!0}catch(t){throw console.error("Update image failed:",t),t}},async loginAdmin(n,e){const{signInWithEmailAndPassword:t}=await Fn(async()=>{const{signInWithEmailAndPassword:r}=await Promise.resolve().then(()=>mf);return{signInWithEmailAndPassword:r}},void 0);try{return await t(vn,n,e),{success:!0}}catch(r){return console.error("Admin login failed:",r),await this.logLoginFailure("admin",n,"N/A",r.message||"AUTH_ERROR"),{success:!1,message:" ."}}},async logoutAdmin(){const{signOut:n}=await Fn(async()=>{const{signOut:e}=await Promise.resolve().then(()=>mf);return{signOut:e}},void 0);return n(vn)},addSalesRecord(n){return Go.addSalesRecord(n)},deleteSalesRecord(n){return Go.deleteSalesRecord(n)},getSalesHistory(n){return Go.getSalesHistory(n)},getAllSales(){return Go.getAllSales()},getSales(){return Go.getSales()},deleteAttendance(n){return bi.deleteAttendance(n)},addManualAttendance(n,e,t,r=" ",o=""){return bi.addManualAttendance(n,e,t,r,o)},async getErrorLogs(n=50){try{const e=It(be(ie,"error_logs"),er("timestamp","desc"),qr(n));return(await lt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.warn("Failed to fetch error logs:",e),[]}},async getPushHistory(n=50){try{const e=It(be(ie,"push_history"),er("createdAt","desc"),qr(n));return(await lt(e)).docs.map(r=>{const o=r.data();return{id:r.id,...o,displayDate:o.createdAt?.toDate?.()||o.createdAt||new Date}})}catch(e){return console.warn("Failed to fetch push history:",e),[]}},subscribeToPushHistory(n,e=50){try{const t=It(be(ie,"push_history"),er("createdAt","desc"),qr(e));return $r(t,r=>{const o=r.docs.map(l=>{const u=l.data();return{id:l.id,...u,displayDate:u.createdAt?.toDate?.()||u.createdAt||new Date}});n(o)},r=>{console.warn("[Storage] Push history listener error:",r)})}catch(t){return console.error("[Storage] Failed to subscribe to push history:",t),()=>{}}},getAttendanceByMemberId(n){return bi.getAttendanceByMemberId(n)},getAttendanceByDate(n,e=null){return bi.getAttendanceByDate(n,e)},subscribeAttendance(n,e=null,t){return bi.subscribeAttendance(n,e,t)},async deleteErrorLog(n){try{return await Gr(ve(ie,"error_logs",n)),{success:!0}}catch(e){return console.error("Delete error log failed:",e),{success:!1,message:e.message}}},async clearErrorLogs(){try{const n=await lt(be(ie,"error_logs")),e=n.docs.map(t=>Gr(t.ref));return await Promise.all(e),{success:!0,count:n.docs.length}}catch(n){return console.error("Clear error logs failed:",n),{success:!1,message:n.message}}},clearAllAttendance(){return bi.clearAllAttendance()},getAttendance(){return bi.getAttendance()},getNotices(){return Vc},async loadNotices(){if(Vc.length>0)return Vc;try{console.log("[Storage] Cache empty, fetching notices from Firestore...");const n=It(be(ie,"notices"),er("timestamp","desc")),t=(await lt(n)).docs.map(r=>({id:r.id,...r.data()}));return Vc=t,t}catch(n){return console.error("Failed to fetch notices:",n),[]}},async getAllPushTokens(){if(Ko.length>0)return Ko;try{console.log("[Storage] getAllPushTokens: Force fetching from Firestore collections...");const n=await Promise.all([lt(be(ie,"fcm_tokens")).catch(()=>({docs:[]})),lt(be(ie,"fcmTokens")).catch(()=>({docs:[]})),lt(be(ie,"push_tokens")).catch(()=>({docs:[]}))]),e={};n.forEach(r=>{r.docs.forEach(o=>{e[o.id]={id:o.id,...o.data()}})});const t=Object.values(e);return Ko=t,console.log(`[Storage] getAllPushTokens: Total ${t.length} unique tokens fetched.`),t}catch(n){return console.warn("[Storage] Critical failure in getAllPushTokens:",n),Ko||[]}},async diagnosePushData(){const n=["fcm_tokens","fcmTokens","push_tokens","tokens","fcm_token"],e={};for(const t of n)try{const r=await lt(be(ie,t));e[t]=r.size}catch(r){e[t]="Error: "+r.message}return e},getMessagesByMemberId(n){return Vs.getMessagesByMemberId(n)},getPendingApprovals(n){return Vs.getPendingApprovals(n)},approvePush(n){return Vs.approvePush(n)},rejectPush(n){return Vs.rejectPush(n)},addMessage(n,e,t=null,r=null){return Vs.addMessage(n,e,t,r)},sendBulkMessages(n,e,t=null,r=null){return Vs.sendBulkMessages(n,e,t,r)},getMessages(n){return Vs.getMessages(n)},sendBulkPushCampaign(n,e,t){return Vs.sendBulkPushCampaign(n,e,t)},async migrateMembersFromCSV(n,e=!1,t=null){const{extractMonthsFromProduct:r,calculateEndDate:o,extractEndDateFromPeriod:l,convertToBranchId:u,parseCredits:m,parseAmount:g,parseLastVisit:p}=await Fn(async()=>{const{extractMonthsFromProduct:w,calculateEndDate:T,extractEndDateFromPeriod:C,convertToBranchId:j,parseCredits:V,parseAmount:P,parseLastVisit:Y}=await import("./csvParser-DXajQDth-v7.js");return{extractMonthsFromProduct:w,calculateEndDate:T,extractEndDateFromPeriod:C,convertToBranchId:j,parseCredits:V,parseAmount:P,parseLastVisit:Y}},[]),_={total:n.length,success:0,failed:0,skipped:0,errors:[],members:[],sales:[]};console.log(`[Migration] Starting CSV migration. Total rows: ${n.length}, Dry Run: ${e}`),e||(console.log("[Migration] Not a dry run. Clearing existing data first..."),t&&t(0,0,"    ( )..."),await this.cleanupAllData((w,T,C)=>{t&&t(0,0,`${C}  ...`)}),console.log("[Migration] Cleanup complete. Proceeding with migration..."));for(let w=0;w<n.length;w++){const T=n[w];try{if(t&&t(w+1,n.length,T.),!T.||!T.1){_.skipped++,_.errors.push({row:w+1,name:T.,error:"   (  )"});continue}const C=u(T.),j=m(T.),V=T.1.trim(),P=V.slice(-4);let Y="";if(T.&&(Y=l(T.)),!Y&&T.&&(Y=T.),!Y&&T.&&T[" "]){const Q=r(T[" "]);Y=o(T.,Q)}const B={name:T..trim(),phone:V,phoneLast4:P,branchId:C,homeBranch:C,credits:j,startDate:T.||T.||"",endDate:Y||"",attendanceCount:0,lastAttendance:p(T.)||"",createdAt:T.?new Date(T.).toISOString():new Date().toISOString(),updatedAt:new Date().toISOString(),streak:0,pushEnabled:!1};if(!e){const Q=It(be(ie,"members"),fn("phone","==",V)),se=await lt(Q);let fe;if(se.empty)fe=(await Gn(be(ie,"members"),B)).id,console.log(`[Migration] Added new member: ${B.name} (${fe})`);else{fe=se.docs[0].id;const I=se.docs[0].data(),R=I.createdAt||I.updatedAt||new Date().toISOString();await Vr(ve(ie,"members",fe),{...B,createdAt:R}),console.log(`[Migration] Updated existing member: ${B.name} (${fe})`)}const de=g(T.);if(de>0&&T.){const I={memberId:fe,memberName:B.name,amount:de,productName:T[" "]||"",branchId:C,timestamp:new Date(T.).toISOString()};await Gn(be(ie,"sales"),I),_.sales.push(I),console.log(`[Migration] Added sales record: ${B.name} - ${de}`)}}_.members.push(B),_.success++}catch(C){_.failed++,_.errors.push({row:w+1,name:T.,error:C.message}),console.error(`[Migration] Error at row ${w+1}:`,C)}}return console.log(`[Migration] Complete. Success: ${_.success}, Failed: ${_.failed}, Skipped: ${_.skipped}`),e||(await this.loadAllMembers(),Pa()),_},async getKioskSettings(){try{const n=await gt(ve(ie,"settings","kiosk"));return n.exists()?n.data():{active:!1,imageUrl:null}}catch(n){return console.error("[Storage] Get kiosk settings failed:",n),{active:!1,imageUrl:null}}},async updateKioskSettings(n){try{return await En(ve(ie,"settings","kiosk"),{...n,updatedAt:new Date().toISOString()},{merge:!0}),!0}catch(e){throw console.error("[Storage] Update kiosk settings failed:",e),e}},subscribeToKioskSettings(n){try{return $r(ve(ie,"settings","kiosk"),e=>{e.exists()?n(e.data()):n({active:!1,imageUrl:null})},e=>{console.warn("[Storage] Kiosk settings listener error:",e)})}catch(e){return console.error("[Storage] Failed to subscribe to kiosk settings:",e),()=>{}}},async cleanupAllData(n=null){const{getDocs:e,collection:t,writeBatch:r}=await Fn(async()=>{const{getDocs:m,collection:g,writeBatch:p}=await Promise.resolve().then(()=>GN);return{getDocs:m,collection:g,writeBatch:p}},void 0),o=["members","sales","attendance","push_campaigns","push_history","notifications","messages","message_approvals","fcm_tokens","fcmTokens","push_tokens"];let l=0;const u={};for(const m of o){console.log(`[Storage] Clearing collection: ${m}...`);try{const p=(await e(t(ie,m))).docs;if(u[m]=p.length,p.length===0)continue;for(let _=0;_<p.length;_+=500){const w=r(ie),T=p.slice(_,_+500);T.forEach(C=>w.delete(C.ref)),await w.commit(),l+=T.length,n&&n(l,p.length,m)}}catch(g){console.warn(`[Cleanup] Failed to clear ${m}:`,g)}}return console.log(`[Storage] Cleanup complete. Deleted ${l} documents.`),await this.loadAllMembers(),Pa(),{totalDeleted:l,stats:u}}},xP=new Map([["bold",A.createElement(A.Fragment,null,A.createElement("path",{d:"M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"}))],["duotone",A.createElement(A.Fragment,null,A.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),A.createElement("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"}))],["fill",A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"}))],["light",A.createElement(A.Fragment,null,A.createElement("path",{d:"M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"}))],["regular",A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"}))],["thin",A.createElement(A.Fragment,null,A.createElement("path",{d:"M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"}))]]),LP=new Map([["bold",A.createElement(A.Fragment,null,A.createElement("path",{d:"M225.81,74.65A11.86,11.86,0,0,1,220.3,76a12,12,0,0,1-10.67-6.47,90.1,90.1,0,0,0-32-35.38,12,12,0,1,1,12.8-20.29,115.25,115.25,0,0,1,40.54,44.62A12,12,0,0,1,225.81,74.65ZM46.37,69.53a90.1,90.1,0,0,1,32-35.38A12,12,0,1,0,65.6,13.86,115.25,115.25,0,0,0,25.06,58.48a12,12,0,0,0,5.13,16.17A11.86,11.86,0,0,0,35.7,76,12,12,0,0,0,46.37,69.53Zm173.51,98.35A20,20,0,0,1,204,200H171.81a44,44,0,0,1-87.62,0H52a20,20,0,0,1-15.91-32.12c7.17-9.33,15.73-26.62,15.88-55.94A76,76,0,0,1,204,112C204.15,141.26,212.71,158.55,219.88,167.88ZM147.6,200H108.4a20,20,0,0,0,39.2,0Zm48.74-24c-8.16-13-16.19-33.57-16.34-63.94A52,52,0,1,0,76,112c-.15,30.42-8.18,51-16.34,64Z"}))],["duotone",A.createElement(A.Fragment,null,A.createElement("path",{d:"M208,192H48a8,8,0,0,1-6.88-12C47.71,168.6,56,147.81,56,112a72,72,0,0,1,144,0c0,35.82,8.3,56.6,14.9,68A8,8,0,0,1,208,192Z",opacity:"0.2"}),A.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0ZM208,184c-10.64-18.27-16-42.49-16-72a64,64,0,0,0-128,0c0,29.52-5.38,53.74-16,72Z"}))],["fill",A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0Z"}))],["light",A.createElement(A.Fragment,null,A.createElement("path",{d:"M223.05,69.33A6,6,0,0,1,215,66.76,96,96,0,0,0,180.8,29.08a6,6,0,0,1,6.4-10.15,109.26,109.26,0,0,1,38.41,42.31A6,6,0,0,1,223.05,69.33ZM41,66.76A96,96,0,0,1,75.2,29.08a6,6,0,0,0-6.4-10.15A109.26,109.26,0,0,0,30.39,61.24,6,6,0,1,0,41,66.76Zm179,110.18A14,14,0,0,1,208,198h-42.5a38,38,0,0,1-75,0H48a14,14,0,0,1-12.06-21.06C45.13,161.09,50,138.63,50,112a78,78,0,0,1,156,0C206,139,210.74,160.86,220.08,176.94ZM153.29,198H102.71a26,26,0,0,0,50.58,0Zm56.42-15C199.29,165,194,141.15,194,112a66,66,0,0,0-132,0c0,29.16-5.29,53-15.71,71a2,2,0,0,0,0,2,1.9,1.9,0,0,0,1.7,1H208a1.9,1.9,0,0,0,1.7-1A2,2,0,0,0,209.71,183Z"}))],["regular",A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0ZM208,184c-10.64-18.27-16-42.49-16-72a64,64,0,0,0-128,0c0,29.52-5.38,53.74-16,72Z"}))],["thin",A.createElement(A.Fragment,null,A.createElement("path",{d:"M222.13,67.55a3.94,3.94,0,0,1-1.84.45,4,4,0,0,1-3.55-2.16,99.41,99.41,0,0,0-34.87-38.46,4,4,0,1,1,4.26-6.76,107.34,107.34,0,0,1,37.71,41.54A4,4,0,0,1,222.13,67.55ZM39.26,65.84A99.41,99.41,0,0,1,74.13,27.38a4,4,0,0,0-4.26-6.76A107.34,107.34,0,0,0,32.16,62.16a4,4,0,0,0,1.71,5.39,3.94,3.94,0,0,0,1.84.45A4,4,0,0,0,39.26,65.84ZM218.36,178A12,12,0,0,1,208,196H163.77a36,36,0,0,1-71.54,0H48A12,12,0,0,1,37.64,178C47.17,161.56,52,139.37,52,112a76,76,0,0,1,152,0C204,139.36,208.83,161.55,218.36,178ZM155.71,196H100.29a28,28,0,0,0,55.42,0Zm55.73-14C201.19,164.34,196,140.79,196,112a68,68,0,0,0-136,0c0,28.8-5.19,52.34-15.44,70a4,4,0,0,0,0,4A3.89,3.89,0,0,0,48,188H208a3.89,3.89,0,0,0,3.43-2A4,4,0,0,0,211.44,182Z"}))]]),VP=new Map([["bold",A.createElement(A.Fragment,null,A.createElement("path",{d:"M196.49,151.51a12,12,0,0,1-17,17L168,157v51a12,12,0,0,1-24,0V157l-11.51,11.52a12,12,0,1,1-17-17l32-32a12,12,0,0,1,17,0ZM160,36A92.08,92.08,0,0,0,79,84.37,68,68,0,1,0,72,220h28a12,12,0,0,0,0-24H72a44,44,0,0,1-1.81-87.95A91.7,91.7,0,0,0,68,128a12,12,0,0,0,24,0,68,68,0,1,1,132.6,21.29,12,12,0,1,0,22.8,7.51A92.06,92.06,0,0,0,160,36Z"}))],["duotone",A.createElement(A.Fragment,null,A.createElement("path",{d:"M240,128a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.74l0,.1A80,80,0,0,1,240,128Z",opacity:"0.2"}),A.createElement("path",{d:"M178.34,165.66,160,147.31V208a8,8,0,0,1-16,0V147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32ZM160,40A88.08,88.08,0,0,0,81.29,88.68,64,64,0,1,0,72,216h40a8,8,0,0,0,0-16H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.12A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,100.8,66,8,8,0,0,0,3.2,15.34,7.9,7.9,0,0,0,3.2-.68A88,88,0,0,0,160,40Z"}))],["fill",A.createElement(A.Fragment,null,A.createElement("path",{d:"M247.93,124.52C246.11,77.54,207.07,40,160.06,40A88.1,88.1,0,0,0,81.29,88.67h0A87.48,87.48,0,0,0,72,127.73,8.18,8.18,0,0,1,64.57,136,8,8,0,0,1,56,128a103.66,103.66,0,0,1,5.34-32.92,4,4,0,0,0-4.75-5.18A64.09,64.09,0,0,0,8,152c0,35.19,29.75,64,65,64H160A88.09,88.09,0,0,0,247.93,124.52Zm-50.27,9.14a8,8,0,0,1-11.32,0L168,115.31V176a8,8,0,0,1-16,0V115.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32A8,8,0,0,1,197.66,133.66Z"}))],["light",A.createElement(A.Fragment,null,A.createElement("path",{d:"M188.24,164.24a6,6,0,0,1-8.48,0L158,142.49V208a6,6,0,0,1-12,0V142.49l-21.76,21.75a6,6,0,0,1-8.48-8.48l32-32a6,6,0,0,1,8.48,0l32,32A6,6,0,0,1,188.24,164.24ZM160,42A86.1,86.1,0,0,0,82.43,90.88,62,62,0,1,0,72,214h40a6,6,0,0,0,0-12H72a50,50,0,0,1,0-100,50.68,50.68,0,0,1,5.91.36A85.54,85.54,0,0,0,74,128a6,6,0,0,0,12,0,74,74,0,1,1,103.6,67.85,6,6,0,0,0,4.8,11A86,86,0,0,0,160,42Z"}))],["regular",A.createElement(A.Fragment,null,A.createElement("path",{d:"M178.34,165.66,160,147.31V208a8,8,0,0,1-16,0V147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32ZM160,40A88.08,88.08,0,0,0,81.29,88.68,64,64,0,1,0,72,216h40a8,8,0,0,0,0-16H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.12A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,100.8,66,8,8,0,0,0,3.2,15.34,7.9,7.9,0,0,0,3.2-.68A88,88,0,0,0,160,40Z"}))],["thin",A.createElement(A.Fragment,null,A.createElement("path",{d:"M186.83,162.83a4,4,0,0,1-5.66,0L156,137.66V208a4,4,0,0,1-8,0V137.66l-25.17,25.17a4,4,0,0,1-5.66-5.66l32-32a4,4,0,0,1,5.66,0l32,32A4,4,0,0,1,186.83,162.83ZM160,44A84.09,84.09,0,0,0,83.61,93.13,60,60,0,1,0,72,212h40a4,4,0,0,0,0-8H72a52,52,0,1,1,8.57-103.27A83.45,83.45,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,1,1,106.4,69.68,4,4,0,0,0,1.6,7.66,3.92,3.92,0,0,0,1.6-.33A84,84,0,0,0,160,44Z"}))]]),UP=new Map([["bold",A.createElement(A.Fragment,null,A.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"}))],["duotone",A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),A.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["fill",A.createElement(A.Fragment,null,A.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))],["light",A.createElement(A.Fragment,null,A.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"}))],["regular",A.createElement(A.Fragment,null,A.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["thin",A.createElement(A.Fragment,null,A.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"}))]]),BP=new Map([["bold",A.createElement(A.Fragment,null,A.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",A.createElement(A.Fragment,null,A.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),A.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",A.createElement(A.Fragment,null,A.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",A.createElement(A.Fragment,null,A.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",A.createElement(A.Fragment,null,A.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",A.createElement(A.Fragment,null,A.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),zP=A.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Il=A.forwardRef((n,e)=>{const{alt:t,color:r,size:o,weight:l,mirrored:u,children:m,weights:g,...p}=n,{color:_="currentColor",size:w,weight:T="regular",mirrored:C=!1,...j}=A.useContext(zP);return A.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??w,height:o??w,fill:r??_,viewBox:"0 0 256 256",transform:u||C?"scale(-1, 1)":void 0,...j,...p},!!t&&A.createElement("title",null,t),m,g.get(l??T))});Il.displayName="IconBase";const kA=A.forwardRef((n,e)=>A.createElement(Il,{ref:e,...n,weights:xP}));kA.displayName="ArrowsClockwiseIcon";const jP=kA,MA=A.forwardRef((n,e)=>A.createElement(Il,{ref:e,...n,weights:LP}));MA.displayName="BellRingingIcon";const FP=MA,PA=A.forwardRef((n,e)=>A.createElement(Il,{ref:e,...n,weights:VP}));PA.displayName="CloudArrowUpIcon";const HP=PA,xA=A.forwardRef((n,e)=>A.createElement(Il,{ref:e,...n,weights:UP}));xA.displayName="WarningCircleIcon";const qP=xA,LA=A.forwardRef((n,e)=>A.createElement(Il,{ref:e,...n,weights:BP}));LA.displayName="XIcon";const GP=LA,$P=()=>{const[n,e]=A.useState(null);return A.useEffect(()=>{const t=kM(qc,r=>{const{title:o,body:l}=r.notification||{};if(o){const u=r.data?.url;e({title:o,body:l,url:u,visible:!0}),setTimeout(()=>{e(null)},5e3)}navigator.setAppBadge&&navigator.setAppBadge(1).catch(u=>console.warn("Badge failed",u))});return navigator.clearAppBadge&&navigator.clearAppBadge().catch(r=>console.warn("Clear badge failed",r)),()=>{t&&t()}},[]),n?re.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(30, 30, 30, 0.95)",color:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",zIndex:1e4,display:"flex",alignItems:"start",gap:"12px",minWidth:"320px",maxWidth:"90vw",border:"1px solid rgba(255,215,0,0.3)",animation:"slideDown 0.3s ease-out"},children:[re.jsx(FP,{size:28,color:"var(--primary-gold)",weight:"fill",style:{marginTop:"2px",flexShrink:0}}),re.jsxs("div",{onClick:()=>{n.url&&(window.location.href=n.url),e(null)},style:{flex:1,cursor:n.url?"pointer":"default"},children:[re.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"0.95rem",fontWeight:"bold",color:"var(--primary-gold)"},children:n.title}),re.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"rgba(255,255,255,0.9)",lineHeight:"1.4"},children:n.body})]}),re.jsx("button",{onClick:t=>{t.stopPropagation(),e(null)},"aria-label":"Close notification",style:{background:"none",border:"none",color:"rgba(255,255,255,0.5)",padding:"4px",cursor:"pointer"},children:re.jsx(GP,{size:20})}),re.jsx("style",{children:`
                @keyframes slideDown {
                    from { transform: translate(-50%, -100%); opacity: 0; }
                    to { transform: translate(-50%, 0); opacity: 1; }
                }
                `})]}):null};function KP(n={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:u}=n;let m,g;const p=async(w=!0)=>{await g};async function _(){if("serviceWorker"in navigator){if(m=await Fn(async()=>{const{Workbox:w}=await import("./workbox-window.prod.es5-BIl4cyR9-v7.js");return{Workbox:w}},[]).then(({Workbox:w})=>new w("/sw.js",{scope:"/",type:"classic"})).catch(w=>{u?.(w)}),!m)return;m.addEventListener("activated",w=>{(w.isUpdate||w.isExternal)&&window.location.reload()}),m.addEventListener("installed",w=>{w.isUpdate||r?.()}),m.register({immediate:e}).then(w=>{l?l("/sw.js",w):o?.(w)}).catch(w=>{u?.(w)})}}return g=_(),p}function YP(n={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:u}=n,[m,g]=A.useState(!1),[p,_]=A.useState(!1),[w]=A.useState(()=>KP({immediate:e,onOfflineReady(){_(!0),r?.()},onNeedRefresh(){g(!0),t?.()},onRegistered:o,onRegisteredSW:l,onRegisterError:u}));return{needRefresh:[m,g],offlineReady:[p,_],updateServiceWorker:w}}function QP(){const[n]=A.useState(!1),{needRefresh:[e],updateServiceWorker:t}=YP({onRegistered(l){console.log("SW Registered: "+l),l&&(l.update(),setInterval(()=>{console.log("Checking for SW update (Interval)..."),l.update()},600*1e3),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("Checking for SW update (Visibility)..."),l.update())}))},onRegisterError(l){console.log("SW registration error",l)}});if(n||!e)return null;if((window.location.pathname==="/"||window.location.pathname.startsWith("/admin"))&&e)return console.log(`[AlwaysOn] Auto-applying SW update for path: ${window.location.pathname}`),setTimeout(async()=>{try{await t(!0)}catch{window.location.reload()}},3e3),null;const o=async()=>{console.log("ReloadPrompt: Refresh requested by user."),sessionStorage.setItem("sw_update_attempt","true");try{await t(!0),console.log("ReloadPrompt: updateServiceWorker called."),setTimeout(()=>{console.warn("ReloadPrompt: Timeout waiting for controller change, forcing reload."),window.location.reload()},3e3)}catch(l){console.error("ReloadPrompt: Failed to update service worker:",l),window.location.reload()}};return e&&sessionStorage.getItem("sw_update_attempt")&&(console.warn("ReloadPrompt: Detected retry after update attempt. Clearing flag, keeping SW."),sessionStorage.removeItem("sw_update_attempt")),re.jsxs("div",{className:"pwa-reload-toast",children:[re.jsxs("div",{className:"pwa-reload-content",children:[re.jsx(qP,{size:24,weight:"fill",color:"var(--primary-gold)"}),re.jsxs("div",{className:"pwa-reload-message",children:[re.jsx("span",{className:"pwa-reload-title",children:"  "}),re.jsx("span",{className:"pwa-reload-subtitle",children:" ."})]})]}),re.jsxs("button",{className:"pwa-reload-button",onClick:o,children:[re.jsx(jP,{size:20,weight:"bold"}),re.jsx("span",{children:""})]}),re.jsx("style",{children:`
        .pwa-reload-toast {
          position: fixed;
          bottom: 24px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(30, 30, 30, 0.95);
          border: 1px solid rgba(212, 175, 55, 0.3);
          border-radius: 12px;
          padding: 16px;
          display: flex;
          align-items: center;
          gap: 16px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
          z-index: 9999;
          min-width: 320px;
          animation: slideUp 0.3s ease-out;
        }

        .pwa-reload-content {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
        }

        .pwa-reload-message {
          display: flex;
          flex-direction: column;
        }

        .pwa-reload-title {
          color: white;
          font-weight: 600;
          font-size: 0.95rem;
        }

        .pwa-reload-subtitle {
          color: #888;
          font-size: 0.8rem;
        }

        .pwa-reload-button {
          background: var(--primary-gold);
          color: black; 
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: transform 0.2s;
        }
        
        .pwa-reload-button:active {
          transform: scale(0.95);
        }

        @keyframes slideUp {
          from {
            transform: translate(-50%, 100%);
            opacity: 0;
          }
          to {
            transform: translate(-50%, 0);
            opacity: 1;
          }
        }
      `})]})}const XP=A.createContext(),WP=({children:n})=>{const[e,t]=A.useState(null),r=ts();A.useEffect(()=>{const l=u=>{console.log("[PWA] beforeinstallprompt event fired"),u.preventDefault(),t(u)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",()=>{console.log("[PWA] App was installed"),t(null)}),()=>{window.removeEventListener("beforeinstallprompt",l)}},[]),A.useEffect(()=>{const l=r.pathname;let u="/manifest-checkin.json",m=" ";l.startsWith("/admin")?(u="/manifest-admin.json",m=" "):l.startsWith("/member")?(u="/manifest-member.json",m=""):l.startsWith("/instructor")&&(u="/manifest-instructor.json",m=" ");let g=document.querySelector('link[rel="manifest"]');g||(g=document.createElement("link"),g.rel="manifest",document.head.appendChild(g)),g.href=u,document.title=m;let p=document.querySelector('meta[name="apple-mobile-web-app-title"]');p||(p=document.createElement("meta"),p.name="apple-mobile-web-app-title",document.head.appendChild(p)),p.content=m,console.log(`[PWA] Manifest updated: ${u}`)},[r]);const o=async()=>{if(!e)return console.log("[PWA] No deferredPrompt available"),!1;e.prompt();const{outcome:l}=await e.userChoice;return console.log(`[PWA] User choice outcome: ${l}`),l==="accepted"?(t(null),!0):!1};return re.jsx(XP.Provider,{value:{deferredPrompt:e,installApp:o},children:n})},VA=A.createContext(),ZP=({children:n})=>{const[e,t]=A.useState(navigator.onLine);return A.useEffect(()=>{const r=()=>{console.log("[NetworkContext] Connection restored"),t(!0)},o=()=>{console.log("[NetworkContext] Connection lost"),t(!1)};return window.addEventListener("online",r),window.addEventListener("offline",o),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}},[]),re.jsx(VA.Provider,{value:{isOnline:e,setIsOnline:t},children:n})},JP=()=>{const n=A.useContext(VA);if(!n)throw new Error("useNetwork must be used within a NetworkProvider");return n},UA=A.memo(()=>{const{isOnline:n}=JP(),[e,t]=A.useState(0);return A.useEffect(()=>{const o=It(be(ie,"pending_attendance"),fn("status","==","pending-offline")),l=$r(o,u=>{t(u.size)},u=>{console.warn("[NetworkStatus] Failed to subscribe to pending count:",u)});return()=>l()},[]),!(window.location.pathname==="/")||e===0?null:re.jsxs("div",{className:"global-network-status",style:{position:"fixed",bottom:"24px",right:"24px",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(255, 183, 77, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 183, 77, 1)",borderRadius:"30px",fontSize:"0.9rem",fontWeight:700,color:"#000",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",pointerEvents:"none"},children:[re.jsx(HP,{size:20,weight:"duotone"}),re.jsxs("span",{children:["  : ",e,""]})]})});UA.displayName="NetworkStatus";const ex=A.lazy(()=>Fn(()=>import("./AdminDashboard-Cgh_-RZo-v7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),tx=A.lazy(()=>Fn(()=>import("./CheckInPage-T8I_kDQ1-v7.js"),__vite__mapDeps([10,11,9,3,12]))),nx=A.lazy(()=>Fn(()=>import("./MemberProfile-lZ6IVTXg-v7.js"),__vite__mapDeps([13,1,2,3,7,14,5,6,11,15]))),ix=A.lazy(()=>Fn(()=>import("./LoginPage-D3leJo7i-v7.js"),__vite__mapDeps([16,14,7]))),rx=A.lazy(()=>Fn(()=>import("./InstructorPage-BNN2uAk7-v7.js"),__vite__mapDeps([17,4,2,6,15]))),sx=A.lazy(()=>Fn(()=>import("./MeditationPage-C3pt8ShF-v7.js"),__vite__mapDeps([18,1,2,3]))),Ua=()=>re.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0a",color:"#D4AF37"},children:re.jsxs("div",{style:{textAlign:"center"},children:[re.jsx("div",{className:"loading-spinner",style:{border:"4px solid rgba(212, 175, 55, 0.1)",borderTop:"4px solid var(--primary-gold)",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),re.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:"  ..."})]})}),Yo=({error:n})=>re.jsx("div",{style:{padding:50,color:"red",background:"#0a0a0a",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:re.jsxs("div",{children:[re.jsx("h1",{style:{marginBottom:"20px"},children:"   "}),re.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"    ."}),re.jsx("pre",{style:{background:"rgba(255,0,0,0.1)",padding:"20px",borderRadius:"8px",fontSize:"0.8rem",overflowX:"auto",maxWidth:"80vw"},children:n?.toString()}),re.jsx("button",{onClick:()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister();window.location.reload(!0)}):window.location.reload(!0)},style:{marginTop:"30px",padding:"12px 24px",background:"var(--primary-gold)",color:"black",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"    (Retry)"})]})}),ax=({children:n})=>{const[e,t]=A.useState(null),[r,o]=A.useState(!0);return A.useEffect(()=>{const l=OA.onAuthStateChanged(u=>{t(u||null),o(!1)});return()=>l()},[]),r?re.jsx(Ua,{}):e?n:re.jsx(RI,{to:"/login",replace:!0})};function ox(){return A.useEffect(()=>{window.location.pathname!=="/"&&OA.initialize({mode:"full"})},[]),re.jsx(ZI,{children:re.jsx(ZP,{children:re.jsx(WP,{children:re.jsxs("div",{className:"app",children:[re.jsx($P,{}),re.jsx(QP,{}),re.jsxs(CI,{children:[re.jsx(xa,{path:"/",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(tx,{})})})}),re.jsx(xa,{path:"/admin",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(ax,{children:re.jsx(ex,{})})})})}),re.jsx(xa,{path:"/member",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(nx,{})})})}),re.jsx(xa,{path:"/login",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(ix,{})})})}),re.jsx(xa,{path:"/instructor",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(rx,{})})})}),re.jsx(xa,{path:"/meditation",element:re.jsx(La,{fallback:re.jsx(Yo,{}),children:re.jsx(A.Suspense,{fallback:re.jsx(Ua,{}),children:re.jsx(sx,{})})})})]}),re.jsx(UA,{})]})})})})}const Qo={ko:{loginTitle:"   ",loginWelcome:"     .",loginSub:"    .",nameLabel:"",namePlaceholder:" ",phoneLabel:"  4",phonePlaceholder:" 4 ",checkRecordBtn:"   ",loginFooter:"   AI       .",logout:"",language:"",logoutConfirm:" ?",tabHome:"",tabHistory:"",tabSchedule:"",tabPrices:"",tabNotices:"",tabMessages:"",currentMembership:" ",remainingCredits:" ",expiryDate:"",daysLeft:" ",expired:"",unlimited:"",recentAttendance:" ",viewAll:"",times:"",consecutiveDays:"{n}  ",notificationSetting:"   ",installApp:"   ",installDescIOS:"     Worker     .",installDescAndroid:"          .",installBtn:"  ",appInstallGuide:"   ' ' .",inAppBrowserWarning:" /     .     Chrome Safari .",myAnalysis:"  ",analysisPending:"      ...",notEnoughData:"  .",historyTitle:" ",totalSessions:" {n} ",scheduleTitle:" ",scheduleSub:`   
  (Prashanti)  .`,viewCalendar:"",viewWeekly:"",noImageTimetable:"   .",homeYogaTitle:" 3 ",homeYogaSub:"    !",noticesTitle:" ",noNotices:"  .",recent:"",messagesTitle:"",noMessages:"  .",loading:" ...",errorMemberNotFound:"    .",inputError:"   .",loginFailed:"    .",unknownError:"   ",weatherPrefix:"",weatherDefault:"   ",branchGwangheungchang:"",branchMapo:"",pushEnabled:"  .",pushBlocked:"  .   .",pushDisabledConfirm:"  ?",pushDisabled:"  .",insight_dawn_type:" (Yogi)",insight_dawn_desc:"  ,         .",insight_morning_type:" ",insight_morning_desc:"    ,       .",insight_afternoon_type:" ",insight_afternoon_desc:"            .",insight_evening_type:" ",insight_evening_desc:"     ,      .",insight_consistency_high:"   (Tapas, ) .         . ",insight_consistency_mid:"         .          . ",insight_milestone_50:" {n}   .      ,    '(Sati, )'  . ",insight_milestone_20:"       .        ,    . ",insight_milestone_5:"       .     ,    . ",insight_milestone_0:"       .     ,        . ",insight_welcome:"    .      (Sadhana, )  . ",insight_waiting:"        . ",insight_user_pattern:"  **{day} {time}**  **'{type}'**. {desc}",trad_dawn:"  (Prana)  . ",trad_morning:"       . ",trad_afternoon:"      . ",trad_evening:"       . ",trad_night:" ,    (Atman)  . ",season_spring:"  ,      .",season_summer:"  ,     .",season_autumn:"  ,      .",season_winter:"   (Tapas)    .",sessionOrder:"{n}",class_hatha:"",class_ashtanga:"",class_mysore:"",class_vinyasa:"",class_healing:"",class_yin:"",class_inyang:"",class_flying:"",class_lowflying:"",class_kids:"",class_pregnancy:"",class_hatha_intensive:" ",class_intensive:"",class_regular:"",class_general:"",weather_clear:"",weather_partly_cloudy:" ",weather_cloudy:"",weather_fog:"",weather_rain:"",weather_snow:"",weather_thunderstorm:"",weather_calm:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",date_header:"{year} {month}",legend_regular:"",legend_pregnancy:"",legend_intensive:"//",legend_saturday:"/",legend_my_practice:" ",stats_title:"   ()",stats_empty:"   .",auto_practice:"",holiday_new_year:"",holiday_lunar_new_year:"",holiday_samiljeol:"",holiday_arbor_day:"",holiday_childrens_day:"",holiday_buddha:"  ",holiday_memorial:"",holiday_liberation:"",holiday_chuseok:"",holiday_foundation:"",holiday_hangul:"",holiday_christmas:"",selfPractice:"",ticket:"",noTimetableImage:"   .",noNewNotices:"  .",loadMoreAttendance:"   ",noAttendanceHistory:"  .",loadMoreMessages:"  "},en:{loginTitle:"A Quiet Time to Meet Myself",loginWelcome:"Welcome to My Yoga Digital Yard.",loginSub:"Check your precious sincerity on the mat.",nameLabel:"Name",namePlaceholder:"Please enter your name",phoneLabel:"Last 4 digits of phone",phonePlaceholder:"Enter 4 digits",checkRecordBtn:"Check Records",loginFooter:"Containing the depth of traditional yoga with modern convenience.",logout:"Logout",language:"Language",logoutConfirm:"Are you sure you want to logout?",tabHome:"Home",tabHistory:"History",tabSchedule:"Schedule",tabPrices:"Prices",tabNotices:"Notices",tabMessages:"Messages",currentMembership:"Membership",remainingCredits:"Credits",expiryDate:"Expiry",daysLeft:"Days Left",expired:"Expired",unlimited:"Unlimited",recentAttendance:"Recent",viewAll:"View All",times:"times",consecutiveDays:"{n} Day Streak",notificationSetting:"Notifications",installApp:"Add App to Home Screen",installDescIOS:"Use it more conveniently as an app without entering the address every time.",installDescAndroid:"Manage your training records faster and more conveniently with a single installation.",installBtn:"Install Now",appInstallGuide:" Please select 'Install App' from the browser menu.",inAppBrowserWarning:" You are using an in-app browser. For a better experience, please open in Chrome or Safari.",myAnalysis:"My Analysis",analysisPending:"Analyzing your records to prepare insights...",notEnoughData:"Not enough data yet.",historyTitle:"Records",totalSessions:"Total {n}",scheduleTitle:"Schedule",scheduleSub:"Check today's schedule and prepare your body and mind.",viewCalendar:"Calendar",viewWeekly:"Weekly",noImageTimetable:"Image timetable not registered.",homeYogaTitle:"Today's 3-Minute Home Yoga",homeYogaSub:"Just this if you can't come to the studio!",noticesTitle:"Notices",noNotices:"No new notices.",recent:"Recent",messagesTitle:"Messages",noMessages:"No messages received.",loading:"Loading...",errorMemberNotFound:"Member not found.",inputError:"Please enter name and last 4 digits.",loginFailed:"Login failed.",unknownError:"Unknown error",weatherPrefix:"Seoul",weatherDefault:"Have a great day with yoga",branchGwangheungchang:"G.Chang",branchMapo:"Mapo",pushEnabled:"Notifications enabled.",pushBlocked:"Notifications blocked. Please allow in browser settings.",pushDisabledConfirm:"Stop receiving notifications?",pushDisabled:"Notifications disabled.",insight_dawn_type:"Dawn Yogi",insight_dawn_desc:"It is beautiful to see you devoting yourself in the Brahma Muhurta, when the energy of all things awakens.",insight_morning_type:"Morning Practitioner",insight_morning_desc:"In the morning full of solar energy, you are aligning your body and filling it with vibrant vitality.",insight_afternoon_type:"Afternoon Meditator",insight_afternoon_desc:"The wisdom of choosing silence for yourself amidst the busyness of daily life to achieve harmony of body and mind is impressive.",insight_evening_type:"Evening Purifier",insight_evening_desc:"It is a time of reflection to let go of all traces of the day behind your breath and find deep inner silence.",insight_consistency_high:"Your Tapas (passion) has been hot for the past month. This sincere repetition will become a fundamental strength of life. ",insight_consistency_mid:"The heart that stands on the mat without forgetting in daily life is precious. This sacred time for yourself will be a great lamp of life. ",insight_milestone_50:"You have already accumulated {n} deep practices. Now, feel the texture of your breath rather than the perfection of the movement, and experience 'Sati (mindfulness)' awake in every moment. ",insight_milestone_20:"You are at a stage where you can fully feel the joy of practice and the changes in your body. The subtle stimulation of muscles is leading to positive changes in life, so please cherish this flow. ",insight_milestone_5:"It is a precious time to open the door of yoga and deepen step by step. Remember the clear original intention you had at first, and put your sincerity into every breath. ",insight_milestone_0:"Just sitting on the mat completes half of the practice. Do not rush, and get to know yourself slowly as much as you can breathe and as much as your body allows. ",insight_welcome:"Waiting for your first breath. Start a precious Sadhana (practice) to meet yourself on the mat together. ",insight_waiting:"When practice records accumulate, we will analyze your unique energy rhythm. ",insight_user_pattern:"You are a **'{type}'** who mainly practices on **{day} at {time}**. {desc}",trad_dawn:"It is time for the clear Prana of dawn to awaken. ",trad_morning:"It is a vibrant morning when the warmth of the sun wakes up the energy in the body. ",trad_afternoon:"It is a shining afternoon to look back on yourself and find alignment of your body. ",trad_evening:"Stay in the quiet energy of the evening and empty the tension of the day. ",trad_night:"It is time to face the true self (Atman) with deep breathing in the quiet night. ",season_spring:"In spring, when all things revive, I hope new vitality will dwell in your practice.",season_summer:"In the hot summer, find inner coolness with calm breathing.",season_autumn:"In autumn, when energy deepens, try to bear the fruit of practice with a clear mind.",season_winter:"Please protect the peace of body and mind with warm heat (Tapas) that melts the cold.",sessionOrder:"Session {n}",class_hatha:"Hatha",class_ashtanga:"Ashtanga",class_mysore:"Mysore",class_vinyasa:"Vinyasa",class_healing:"Healing",class_yin:"Yin Yoga",class_inyang:"Yin Yang",class_flying:"Aerial",class_lowflying:"Low Aerial",class_kids:"Kids Aerial",class_pregnancy:"Prenatal",class_hatha_intensive:"Hatha Intensive",class_intensive:"Intensive",class_regular:"General",class_general:"General",weather_clear:"Clear",weather_partly_cloudy:"Partly Cloudy",weather_cloudy:"Cloudy",weather_fog:"Fog",weather_rain:"Rain",weather_snow:"Snow",weather_thunderstorm:"Thunderstorm",weather_calm:"Calm",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",date_header:"{year}.{month}",legend_regular:"General",legend_pregnancy:"Prenatal",legend_intensive:"Intensive/Kids",legend_saturday:"Sat Hatha/Special",legend_my_practice:"My Practice",stats_title:"My Class Stats (Total)",stats_empty:"No class history yet.",auto_practice:"Self Practice",holiday_new_year:"New Year's Day",holiday_lunar_new_year:"Lunar New Year",holiday_samiljeol:"Independence Movement Day",holiday_arbor_day:"Arbor Day",holiday_childrens_day:"Children's Day",holiday_buddha:"Buddha's Birthday",holiday_memorial:"Memorial Day",holiday_liberation:"Liberation Day",holiday_chuseok:"Chuseok",holiday_foundation:"National Foundation Day",holiday_hangul:"Hangul Proclamation Day",holiday_christmas:"Christmas",selfPractice:"Self Practice",ticket:"Pass",noTimetableImage:"No timetable image registered.",noNewNotices:"No new notices.",loadMoreAttendance:"Load more attendance history",noAttendanceHistory:"No attendance history found.",loadMoreMessages:"Load more messages"},ru:{loginTitle:"     ",loginWelcome:"     My Yoga.",loginSub:"    .",nameLabel:"",namePlaceholder:"  ",phoneLabel:" 4  ",phonePlaceholder:" 4 ",checkRecordBtn:" ",loginFooter:"     .",logout:"",language:"",logoutConfirm:" ,   ?",tabHome:"",tabHistory:"",tabSchedule:"",tabPrices:"",tabNotices:"",tabMessages:"",currentMembership:"",remainingCredits:"",expiryDate:"",daysLeft:"",expired:"",unlimited:"",recentAttendance:"",viewAll:"",times:"",consecutiveDays:"{n} . ",notificationSetting:"",installApp:" ",installDescIOS:"    .",installDescAndroid:"    .",installBtn:"",appInstallGuide:" ,  ' '   .",inAppBrowserWarning:"    .      Chrome  Safari.",myAnalysis:" ",analysisPending:"     ...",notEnoughData:" .",historyTitle:"",totalSessions:" {n}",scheduleTitle:"",scheduleSub:"      .",viewCalendar:"",viewWeekly:"",noImageTimetable:"  .",homeYogaTitle:"3-  ",homeYogaSub:" ,    !",noticesTitle:"",noNotices:"  .",recent:"",messagesTitle:"",noMessages:" .",loading:"...",errorMemberNotFound:"  .",inputError:"    4 .",loginFailed:" .",unknownError:" ",weatherPrefix:"",weatherDefault:"   ",branchGwangheungchang:".",branchMapo:"",pushEnabled:" .",pushBlocked:" .   .",pushDisabledConfirm:" ?",pushDisabled:" .",insight_dawn_type:" ",insight_dawn_desc:" ,        ,     .",insight_morning_type:" ",insight_morning_desc:",   ,        .",insight_afternoon_type:" ",insight_afternoon_desc:"              .",insight_evening_type:" ",insight_evening_desc:"  ,           .",insight_consistency_high:"  ()     .       . ",insight_consistency_mid:",         , .         . ",insight_milestone_50:"   {n}  .    ,    ,   ' ()'   . ",insight_milestone_20:"  ,          .         ,   . ",insight_milestone_5:"  ,         .          . ",insight_milestone_0:"   ,     .      ,     . ",insight_welcome:"   .    (),     . ",insight_waiting:"   ,      . ",insight_user_pattern:" **'{type}'**,     **{day}  {time}**. {desc}",trad_dawn:"    . ",trad_morning:" ,       . ",trad_afternoon:" ,        . ",trad_evening:"         . ",trad_night:"     ()      . ",season_spring:",   ,        .",season_summer:"       .",season_autumn:",   ,       .",season_winter:",        (),   .",sessionOrder:" {n}",class_hatha:"",class_ashtanga:"",class_mysore:"",class_vinyasa:"",class_healing:"",class_yin:"-",class_inyang:"-",class_flying:"",class_lowflying:" ",class_kids:" ",class_pregnancy:" ",class_hatha_intensive:" ",class_intensive:"",class_regular:"",weather_clear:"",weather_partly_cloudy:" ",weather_cloudy:"",weather_fog:"",weather_rain:"",weather_snow:"",weather_thunderstorm:"",weather_calm:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",date_header:"{month}/{year}",legend_regular:"",legend_pregnancy:"",legend_intensive:"/",legend_saturday:"/",legend_my_practice:" ",stats_title:"  ()",stats_empty:"  .",auto_practice:"",holiday_new_year:" ",holiday_lunar_new_year:"  ",holiday_samiljeol:"   ",holiday_arbor_day:"  ",holiday_childrens_day:" ",holiday_buddha:"  ",holiday_memorial:" ",holiday_liberation:" ",holiday_chuseok:"",holiday_foundation:"  ",holiday_hangul:" ",holiday_christmas:"",selfPractice:"",ticket:"",noTimetableImage:"   .",noNewNotices:"  .",loadMoreAttendance:"   ",noAttendanceHistory:"   .",loadMoreMessages:"  "},zh:{loginTitle:"",loginWelcome:" My Yoga ",loginSub:"",nameLabel:"",namePlaceholder:"",phoneLabel:"4",phonePlaceholder:"4",checkRecordBtn:"",loginFooter:"",logout:"",language:"",logoutConfirm:"",tabHome:"",tabHistory:"",tabSchedule:"",tabPrices:"",tabNotices:"",tabMessages:"",currentMembership:"",remainingCredits:"",expiryDate:"",daysLeft:"",expired:"",unlimited:"",recentAttendance:"",viewAll:"",times:"",consecutiveDays:" {n} ",notificationSetting:"",installApp:"",installDescIOS:"App",installDescAndroid:"",installBtn:"",appInstallGuide:" ",inAppBrowserWarning:"  Chrome  Safari ",myAnalysis:"",analysisPending:"...",notEnoughData:"",historyTitle:"",totalSessions:" {n} ",scheduleTitle:"",scheduleSub:"",viewCalendar:"",viewWeekly:"",noImageTimetable:"",homeYogaTitle:"3",homeYogaSub:"",noticesTitle:"",noNotices:"",recent:"",messagesTitle:"",noMessages:"",loading:"...",errorMemberNotFound:"",inputError:"4",loginFailed:"",unknownError:"",weatherPrefix:"",weatherDefault:"",branchGwangheungchang:"",branchMapo:"",pushEnabled:"",pushBlocked:"",pushDisabledConfirm:"",pushDisabled:"",insight_dawn_type:"",insight_dawn_desc:"Brahma Muhurta",insight_morning_type:"",insight_morning_desc:"",insight_afternoon_type:"",insight_afternoon_desc:"",insight_evening_type:"",insight_evening_desc:"",insight_consistency_high:"Tapas ",insight_consistency_mid:" ",insight_milestone_50:" {n} Sati ",insight_milestone_20:" ",insight_milestone_5:" ",insight_milestone_0:" ",insight_welcome:"Sadhana ",insight_waiting:" ",insight_user_pattern:" **{day} {time}**  **'{type}'** {desc}",trad_dawn:"Prana ",trad_morning:" ",trad_afternoon:" ",trad_evening:" ",trad_night:"Atman ",season_spring:"",season_summer:"",season_autumn:"",season_winter:"Tapas",sessionOrder:"{n}",class_hatha:"",class_ashtanga:"",class_mysore:"",class_vinyasa:"",class_healing:"",class_yin:"",class_inyang:"",class_flying:"",class_lowflying:"",class_kids:"",class_pregnancy:"",class_hatha_intensive:"",class_intensive:"",class_regular:"",weather_clear:"",weather_partly_cloudy:"",weather_cloudy:"",weather_fog:"",weather_rain:"",weather_snow:"",weather_thunderstorm:"",weather_calm:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",date_header:"{year} {month}",legend_regular:"",legend_pregnancy:"",legend_intensive:"/",legend_saturday:"/",legend_my_practice:"",stats_title:" ()",stats_empty:"",auto_practice:"",holiday_new_year:"",holiday_lunar_new_year:"",holiday_samiljeol:"",holiday_arbor_day:"",holiday_childrens_day:"",holiday_buddha:"",holiday_memorial:"",holiday_liberation:"",holiday_chuseok:"",holiday_foundation:"",holiday_hangul:"",holiday_christmas:"",selfPractice:"",ticket:"",noTimetableImage:"",noNewNotices:"",loadMoreAttendance:"",noAttendanceHistory:"",loadMoreMessages:""},ja:{loginTitle:"",loginWelcome:"My Yoga ",loginSub:"",nameLabel:"",namePlaceholder:"",phoneLabel:"4",phonePlaceholder:"4",checkRecordBtn:"",loginFooter:"",logout:"",language:"",logoutConfirm:"",tabHome:"",tabHistory:"",tabSchedule:"",tabPrices:"",tabNotices:"",tabMessages:"",currentMembership:"",remainingCredits:"",expiryDate:"",daysLeft:"",expired:"",unlimited:"",recentAttendance:"",viewAll:"",times:"",consecutiveDays:"{n}",notificationSetting:"",installApp:"",installDescIOS:"",installDescAndroid:"",installBtn:"",appInstallGuide:" ",inAppBrowserWarning:" ChromeSafari",myAnalysis:"",analysisPending:"...",notEnoughData:"",historyTitle:"",totalSessions:" {n} ",scheduleTitle:"",scheduleSub:"",viewCalendar:"",viewWeekly:"",noImageTimetable:"",homeYogaTitle:"3",homeYogaSub:"",noticesTitle:" & ",noNotices:"",recent:"",messagesTitle:"",noMessages:"",loading:"...",errorMemberNotFound:"",inputError:"4",loginFailed:"",unknownError:"",weatherPrefix:"",weatherDefault:"",branchGwangheungchang:"",branchMapo:"",pushEnabled:"",pushBlocked:"",pushDisabledConfirm:"",pushDisabled:"",insight_dawn_type:"",insight_dawn_desc:"",insight_morning_type:"",insight_morning_desc:"",insight_afternoon_type:"",insight_afternoon_desc:"",insight_evening_type:"",insight_evening_desc:"",insight_consistency_high:"1Tapas ",insight_consistency_mid:" ",insight_milestone_50:" {n} Sati ",insight_milestone_20:" ",insight_milestone_5:" ",insight_milestone_0:" ",insight_welcome:"Sadhana ",insight_waiting:" ",insight_user_pattern:" **{day} {time}**  **{type}**  {desc}",trad_dawn:"Prana ",trad_morning:" ",trad_afternoon:" ",trad_evening:" ",trad_night:"Atman ",season_spring:"",season_summer:"",season_autumn:"",season_winter:"Tapas",sessionOrder:"{n}",class_hatha:"",class_ashtanga:"",class_mysore:"",class_vinyasa:"",class_healing:"",class_yin:"",class_inyang:"",class_flying:"",class_lowflying:"",class_kids:"",class_pregnancy:"",class_hatha_intensive:"",class_intensive:"",class_regular:"",weather_clear:"",weather_partly_cloudy:"",weather_cloudy:"",weather_fog:"",weather_rain:"",weather_snow:"",weather_thunderstorm:"",weather_calm:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",date_header:"{year} {month}",legend_regular:"",legend_pregnancy:"",legend_intensive:"/",legend_saturday:"/",legend_my_practice:"",stats_title:" ()",stats_empty:"",auto_practice:"",holiday_new_year:"",holiday_lunar_new_year:"",holiday_samiljeol:"",holiday_arbor_day:"",holiday_childrens_day:"",holiday_buddha:"",holiday_memorial:"",holiday_liberation:"",holiday_chuseok:"",holiday_foundation:"",holiday_hangul:"",holiday_christmas:"",selfPractice:"",ticket:"",noTimetableImage:"",noNewNotices:"",loadMoreAttendance:"",noAttendanceHistory:"",loadMoreMessages:""}},BA=A.createContext(),lx=({children:n})=>{const[e,t]=A.useState(()=>{try{return localStorage.getItem("appLanguage")||"ko"}catch{return console.warn("LocalStorage unavailable, defaulting to 'ko'"),"ko"}}),r=(l,u={})=>{try{let m=l;return Qo[e]&&Qo[e][l]?m=Qo[e][l]:Qo.ko&&Qo.ko[l]&&(m=Qo.ko[l]),Object.keys(u).forEach(g=>{const p=new RegExp(`{${g}}`,"g");m=m.replace(p,u[g])}),m}catch(m){return console.error("Translation error:",m),l}};A.useEffect(()=>{try{localStorage.setItem("appLanguage",e)}catch(l){console.warn("Failed to save language preference:",l)}},[e]);const o={language:e,setLanguage:t,t:r};return re.jsx(BA.Provider,{value:o,children:n})};function Ex(){const n=A.useContext(BA);if(!n)throw new Error("useLanguageContext must be used within a LanguageProvider");return n}typeof window<"u"&&window.addEventListener("contextmenu",n=>{n.preventDefault()},{passive:!1});const cx=Date.prototype.toLocaleDateString;Date.prototype.toLocaleDateString=function(n,e){if(n==="sv-SE")try{const r=new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(this),o=r.find(m=>m.type==="year")?.value,l=r.find(m=>m.type==="month")?.value,u=r.find(m=>m.type==="day")?.value;if(o&&l&&u)return`${o}-${l}-${u}`}catch(t){console.warn("Date polyfill error:",t)}return cx.call(this,n,e)};typeof window<"u"&&(async()=>{try{console.log(" [Warm-up] Sending signals to Cloud Functions..."),Jr(es,"checkInMemberV2Call")({ping:!0}).catch(()=>{}),Jr(es,"generateMeditationGuidance")({type:"warmup"}).catch(()=>{})}catch(e){console.debug("Warm-up signal failed (harmless):",e)}})();try{CR.createRoot(document.getElementById("root")).render(re.jsx(A.StrictMode,{children:re.jsx(La,{children:re.jsx(lx,{children:re.jsx(ox,{})})})})),window.addEventListener("unhandledrejection",e=>{console.warn("[Global Safety] Unhandled Promise Rejection:",e.reason);const t=window.location.pathname==="/",r=String(e.reason?.message||e.reason||""),o=r.includes("ChunkLoadError")||r.includes("Failed to fetch")||r.includes("Loading chunk")||r.includes("dynamically imported module");if(t&&o){const l=parseInt(sessionStorage.getItem("auto_reload_count")||"0");l<3?(sessionStorage.setItem("auto_reload_count",String(l+1)),console.error("[AlwaysOn] Fatal error on kiosk, auto-reloading in 5s... (attempt "+(l+1)+"/3)"),setTimeout(()=>window.location.reload(),5e3)):console.error("[AlwaysOn] Max reload attempts reached. Stopping auto-recovery.")}}),window.onerror=(e,t,r,o,l)=>{if(console.error("[Global Safety] Uncaught Error:",e,t,r),window.location.pathname==="/"){const m=parseInt(sessionStorage.getItem("auto_reload_count")||"0");m<3&&(sessionStorage.setItem("auto_reload_count",String(m+1)),console.error("[AlwaysOn] Fatal sync error on kiosk, auto-reloading in 5s..."),setTimeout(()=>window.location.reload(),5e3))}return!1},setTimeout(()=>{sessionStorage.removeItem("auto_reload_count")},3e4)}catch(n){console.error(" Fatal Application Error:",n),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; color: red; background: #1a1a1a; height: 100vh;">
      <h1>Critical Error</h1>
      <p>   .</p>
      <pre>${n.toString()}</pre>
    </div>
  `}export{be as A,ie as B,vx as C,Gn as D,JP as E,bi as F,yx as G,mx as H,lA as I,CP as J,Qo as K,lt as L,gx as M,px as N,qP as O,XP as P,hx as Q,ER as R,lr as S,zp as T,fx as U,mf as V,Fn as _,bR as a,aP as b,ux as c,OP as d,ff as e,es as f,kw as g,Jr as h,qc as i,re as j,DP as k,Ex as l,FP as m,GP as n,_x as o,Il as p,vn as q,A as r,OA as s,$r as t,qw as u,ve as v,It as w,qr as x,er as y,fn as z};
//# sourceMappingURL=index-CdUgHszu-v7.js.map
