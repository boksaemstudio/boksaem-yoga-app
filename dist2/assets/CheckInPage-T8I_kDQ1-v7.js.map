{"version":3,"mappings":"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","names":["e","a.createElement","a.Fragment","a","e.createElement","e.Fragment","l.createElement","l.Fragment","o.forwardRef","r","o.createElement","t","m","n","s","c","p","Keypad","onKeyPress","onClear","disabled","jsxs","key","jsx","KeyButton","memo","onPress","children","special","className","style","touchHandledRef","useRef","logoWide","logError","error","context","addDoc","collection","db","useNetworkMonitor","isOnline","setIsOnline","useNetwork","checkConnection","useCallback","controller","timeoutId","res","attendanceService","useEffect","initServer","currentHour","getKSTHour","httpsCallable","functions","interval","handleFocus","audioWelcome","audioSuccess","audioDuplicateSuccess","audioDenied","audioError","audioLastSession","useTTS","type","source","wakeUp","audio","DigitalClock","time","setTime","useState","timer","h","getWeatherIcon","code","isNight","Moon","Sun","Cloud","CloudRain","Snowflake","Lightning","TopBar","weather","currentBranch","branches","handleBranchChange","toggleFullscreen","isFullscreen","language","onInstructorClick","locale","now","branch","MapPin","Fragment","Chalkboard","CornersIn","CornersOut","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","value","__spreadValues","b","prop","__objRest","exclude","target","qrcodegen","qrcodegen2","_QrCode","version","errorCorrectionLevel","dataCodewords","msk","row","i","allCodewords","minPenalty","penalty","assert","text","ecl","segs","data","seg","minVersion","maxVersion","mask","boostEcl","dataUsedBits","dataCapacityBits2","usedBits","QrSegment","newEcl","bb","appendBits","dataCapacityBits","padByte","x","y","alignPatPos","numAlign","j","rem","bits","getBit","color","dy","dx","dist","xx","yy","isDark","ver","numBlocks","blockEccLen","rawCodewords","numShortBlocks","shortBlockLen","blocks","rsDiv","dat","ecc","result","block","right","vert","invert","runColor","runX","runHistory","runY","dark","sum","total","k","step","pos","degree","root","divisor","_","factor","coef","z","core","currentRunColor","currentRunLength","val","len","cond","_QrSegment","mode","numChars","bitData","digits","temp","assignVal","ccbits","str","QrCode2","_Ecc","ordinal","formatBits","QrSegment2","_Mode","modeBits","numBitsCharCount","qrcodegen_default","ERROR_LEVEL_MAP","DEFAULT_SIZE","DEFAULT_LEVEL","DEFAULT_BGCOLOR","DEFAULT_FGCOLOR","DEFAULT_INCLUDEMARGIN","DEFAULT_MINVERSION","SPEC_MARGIN_SIZE","DEFAULT_MARGIN_SIZE","DEFAULT_IMG_SCALE","generatePath","modules","margin","ops","start","cell","excavateModules","excavation","getImageSettings","cells","size","imageSettings","numCells","defaultSize","scale","w","opacity","floorX","floorY","ceilW","ceilH","crossOrigin","getMarginSize","includeMargin","marginSize","useQRCode","level","boostLevel","qrcode","React","segments","accum","v","calculatedImageSettings","cells2","margin2","numCells2","calculatedImageSettings2","SUPPORTS_PATH2D","QRCodeCanvas","props","forwardedRef","_a","bgColor","fgColor","_b","otherProps","imgSrc","_canvas","_image","setCanvasRef","node","isImgLoaded","setIsImageLoaded","canvas","ctx","cellsToDraw","image","haveImageToRender","pixelRatio","rdx","cdx","canvasStyle","img","QRCodeSVG","title","fgPath","InstructorQRModal","isOpen","onClose","instructorUrl","X","QrCode","getBgForPeriod","period","CheckInPage","pin","setPin","message","setMessage","loading","setLoading","isReady","setIsReady","timerRef","setCurrentBranch","storageService","duplicateMembers","setDuplicateMembers","showSelectionModal","setShowSelectionModal","setWeather","setIsFullscreen","aiExperience","setAiExperience","aiEnhancedMsg","setAiEnhancedMsg","aiLoading","setAiLoading","showKioskInstallGuide","setShowKioskInstallGuide","showInstallGuide","setShowInstallGuide","kioskSettings","setKioskSettings","needRefresh","updateServiceWorker","usePWA","selectedMemberId","setSelectedMemberId","showInstructorQR","setShowInstructorQR","deferredPrompt","setDeferredPrompt","keypadLocked","setKeypadLocked","speak","recentCheckInsRef","showDuplicateConfirm","setShowDuplicateConfirm","pendingPin","setPendingPin","duplicateAutoCloseRef","duplicateTimer","setDuplicateTimer","isDuplicateFlow","setIsDuplicateFlow","loadingMessage","setLoadingMessage","timer1","timer2","setPeriod","hour","bgImage","setBgImage","getAllBranches","handleBeforeInstallPrompt","unsubscribe","settings","idleTimer","resetIdleTimer","fetchWeatherAndAI","currentWeatherData","loadAIExperience","err","signInAnonymously","auth","authErr","periodTimer","newPeriod","refreshTimer","handleFirstInteraction","lastActiveTime","handleVisibilityChange","sleepDuration","sleepMinutes","wakeLock","requestWakeLock","handleWakeLockVisibility","heartbeatCount","heartbeat","rootEl","memberName","credits","remainingDays","isStandby","day","classTitle","weatherCode","staticMsg","wCode","isRainy","isSnowy","rainMsgs","snowMsgs","flyingMsgs","healingMsgs","flowMsgs","timeMsgs","aiResult","cleanMsg","cacheKey","exp","finalData","handleKeyPress","num","prev","newPin","handleSubmit","handleClear","handleQRInteraction","branchId","proceedWithCheckIn","pinCode","isDuplicateConfirm","members","startDismissTimer","member","handleCheckInError","showCheckInSuccess","confirmDuplicateCheckIn","cancelDuplicateCheckIn","DUPLICATE_WINDOW_MS","entry","errorStr","displayMsg","lowerErr","dateMatch","date","handleSelectMember","memberId","reason","isDuplicate","streak","attCount","today","endDate","daysLeft","finalMsg","isExpiredPeriod","isExpiredCredits","isLastSessionOrDay","fallbacks","days","getDaysRemaining","handleModalClose","now2","dayNames","duration","closeAction","qrCodeUrl","rys200Logo","activeMembers","inactiveMembers","endDateStr","hasCredits","hasValidDate","isSelected","getBranchName"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,27],"sources":["../../node_modules/@phosphor-icons/react/dist/defs/Chalkboard.es.js","../../node_modules/@phosphor-icons/react/dist/defs/CornersIn.es.js","../../node_modules/@phosphor-icons/react/dist/defs/CornersOut.es.js","../../node_modules/@phosphor-icons/react/dist/defs/MapPin.es.js","../../node_modules/@phosphor-icons/react/dist/defs/Moon.es.js","../../node_modules/@phosphor-icons/react/dist/defs/QrCode.es.js","../../node_modules/@phosphor-icons/react/dist/defs/Snowflake.es.js","../../node_modules/@phosphor-icons/react/dist/csr/Chalkboard.es.js","../../node_modules/@phosphor-icons/react/dist/csr/CornersIn.es.js","../../node_modules/@phosphor-icons/react/dist/csr/CornersOut.es.js","../../node_modules/@phosphor-icons/react/dist/csr/MapPin.es.js","../../node_modules/@phosphor-icons/react/dist/csr/Moon.es.js","../../node_modules/@phosphor-icons/react/dist/csr/QrCode.es.js","../../node_modules/@phosphor-icons/react/dist/csr/Snowflake.es.js","../../src/components/Keypad.jsx","../../src/assets/logo_wide.png","../../src/services/modules/errorModule.js","../../src/hooks/useNetworkMonitor.js","../../src/assets/audio/welcome.mp3","../../src/assets/audio/success.mp3","../../src/assets/audio/duplicate_success.mp3","../../src/assets/audio/denied.mp3","../../src/assets/audio/error.mp3","../../src/assets/audio/last_session.mp3","../../src/hooks/useTTS.js","../../src/components/checkin/DigitalClock.jsx","../../src/components/checkin/TopBar.jsx","../../node_modules/qrcode.react/lib/esm/index.js","../../src/components/InstructorQRModal.jsx","../../src/pages/CheckInPage.jsx"],"sourcesContent":["import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,188h-4V56a20,20,0,0,0-20-20H40A20,20,0,0,0,20,56V188H16a12,12,0,0,0,0,24H240a12,12,0,0,0,0-24ZM44,60H212V188H196V160a12,12,0,0,0-12-12H120a12,12,0,0,0-12,12v28H84V100h88v20a12,12,0,0,0,24,0V88a12,12,0,0,0-12-12H72A12,12,0,0,0,60,88V188H44ZM172,188H132V172h40Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M192,80v88H120v32H64V80Z\", opacity: \"0.2\" }), /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,192h-8V56a16,16,0,0,0-16-16H40A16,16,0,0,0,24,56V192H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16ZM40,56H216V192H200V168a8,8,0,0,0-8-8H120a8,8,0,0,0-8,8v24H72V88H184v48a8,8,0,0,0,16,0V80a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V192H40ZM184,192H128V176h56Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,192h-8V56a16,16,0,0,0-16-16H40A16,16,0,0,0,24,56V192H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16Zm-24,0H144V176a8,8,0,0,1,8-8h56a8,8,0,0,1,8,8Zm0-48a8,8,0,0,1-16,0V72H56V184a8,8,0,0,1-16,0V64a8,8,0,0,1,8-8H208a8,8,0,0,1,8,8Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,194H230V56a14,14,0,0,0-14-14H40A14,14,0,0,0,26,56V194H16a6,6,0,0,0,0,12H240a6,6,0,0,0,0-12ZM38,56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2V194H198V168a6,6,0,0,0-6-6H120a6,6,0,0,0-6,6v26H70V86H186v50a6,6,0,0,0,12,0V80a6,6,0,0,0-6-6H64a6,6,0,0,0-6,6V194H38ZM186,194H126V174h60Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,192h-8V56a16,16,0,0,0-16-16H40A16,16,0,0,0,24,56V192H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16ZM40,56H216V192H200V168a8,8,0,0,0-8-8H120a8,8,0,0,0-8,8v24H72V88H184v48a8,8,0,0,0,16,0V80a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V192H40ZM184,192H128V176h56Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M240,196H228V56a12,12,0,0,0-12-12H40A12,12,0,0,0,28,56V196H16a4,4,0,0,0,0,8H240a4,4,0,0,0,0-8ZM36,56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4V196H196V168a4,4,0,0,0-4-4H120a4,4,0,0,0-4,4v28H68V84H188v52a4,4,0,0,0,8,0V80a4,4,0,0,0-4-4H64a4,4,0,0,0-4,4V196H36ZM188,196H124V172h64Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M148,96V48a12,12,0,0,1,24,0V84h36a12,12,0,0,1,0,24H160A12,12,0,0,1,148,96ZM96,148H48a12,12,0,0,0,0,24H84v36a12,12,0,0,0,24,0V160A12,12,0,0,0,96,148Zm112,0H160a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V172h36a12,12,0,0,0,0-24ZM96,36A12,12,0,0,0,84,48V84H48a12,12,0,0,0,0,24H96a12,12,0,0,0,12-12V48A12,12,0,0,0,96,36Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M208,64V192a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V64A16,16,0,0,1,64,48H192A16,16,0,0,1,208,64Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M152,96V48a8,8,0,0,1,16,0V88h40a8,8,0,0,1,0,16H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0,0,16H88v40a8,8,0,0,0,16,0V160A8,8,0,0,0,96,152Zm112,0H160a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V168h40a8,8,0,0,0,0-16ZM96,40a8,8,0,0,0-8,8V88H48a8,8,0,0,0,0,16H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M152,96V48a8,8,0,0,1,13.66-5.66l48,48A8,8,0,0,1,208,104H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0-5.66,13.66l48,48A8,8,0,0,0,104,208V160A8,8,0,0,0,96,152ZM99.06,40.61a8,8,0,0,0-8.72,1.73l-48,48A8,8,0,0,0,48,104H96a8,8,0,0,0,8-8V48A8,8,0,0,0,99.06,40.61ZM208,152H160a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66l48-48A8,8,0,0,0,208,152Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M154,96V48a6,6,0,0,1,12,0V90h42a6,6,0,0,1,0,12H160A6,6,0,0,1,154,96ZM96,154H48a6,6,0,0,0,0,12H90v42a6,6,0,0,0,12,0V160A6,6,0,0,0,96,154Zm112,0H160a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V166h42a6,6,0,0,0,0-12ZM96,42a6,6,0,0,0-6,6V90H48a6,6,0,0,0,0,12H96a6,6,0,0,0,6-6V48A6,6,0,0,0,96,42Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M152,96V48a8,8,0,0,1,16,0V88h40a8,8,0,0,1,0,16H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0,0,16H88v40a8,8,0,0,0,16,0V160A8,8,0,0,0,96,152Zm112,0H160a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V168h40a8,8,0,0,0,0-16ZM96,40a8,8,0,0,0-8,8V88H48a8,8,0,0,0,0,16H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M156,96V48a4,4,0,0,1,8,0V92h44a4,4,0,0,1,0,8H160A4,4,0,0,1,156,96ZM96,156H48a4,4,0,0,0,0,8H92v44a4,4,0,0,0,8,0V160A4,4,0,0,0,96,156Zm112,0H160a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V164h44a4,4,0,0,0,0-8ZM96,44a4,4,0,0,0-4,4V92H48a4,4,0,0,0,0,8H96a4,4,0,0,0,4-4V48A4,4,0,0,0,96,44Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M220,48V88a12,12,0,0,1-24,0V60H168a12,12,0,0,1,0-24h40A12,12,0,0,1,220,48ZM88,196H60V168a12,12,0,0,0-24,0v40a12,12,0,0,0,12,12H88a12,12,0,0,0,0-24Zm120-40a12,12,0,0,0-12,12v28H168a12,12,0,0,0,0,24h40a12,12,0,0,0,12-12V168A12,12,0,0,0,208,156ZM88,36H48A12,12,0,0,0,36,48V88a12,12,0,0,0,24,0V60H88a12,12,0,0,0,0-24Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M208,48V208H48V48Z\", opacity: \"0.2\" }), /* @__PURE__ */ a.createElement(\"path\", { d: \"M216,48V88a8,8,0,0,1-16,0V56H168a8,8,0,0,1,0-16h40A8,8,0,0,1,216,48ZM88,200H56V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H88a8,8,0,0,0,0-16Zm120-40a8,8,0,0,0-8,8v32H168a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,208,160ZM88,40H48a8,8,0,0,0-8,8V88a8,8,0,0,0,16,0V56H88a8,8,0,0,0,0-16Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M93.66,202.34A8,8,0,0,1,88,216H48a8,8,0,0,1-8-8V168a8,8,0,0,1,13.66-5.66ZM88,40H48a8,8,0,0,0-8,8V88a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,88,40ZM211.06,160.61a8,8,0,0,0-8.72,1.73l-40,40A8,8,0,0,0,168,216h40a8,8,0,0,0,8-8V168A8,8,0,0,0,211.06,160.61ZM208,40H168a8,8,0,0,0-5.66,13.66l40,40A8,8,0,0,0,216,88V48A8,8,0,0,0,208,40Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M214,48V88a6,6,0,0,1-12,0V54H168a6,6,0,0,1,0-12h40A6,6,0,0,1,214,48ZM88,202H54V168a6,6,0,0,0-12,0v40a6,6,0,0,0,6,6H88a6,6,0,0,0,0-12Zm120-40a6,6,0,0,0-6,6v34H168a6,6,0,0,0,0,12h40a6,6,0,0,0,6-6V168A6,6,0,0,0,208,162ZM88,42H48a6,6,0,0,0-6,6V88a6,6,0,0,0,12,0V54H88a6,6,0,0,0,0-12Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M216,48V88a8,8,0,0,1-16,0V56H168a8,8,0,0,1,0-16h40A8,8,0,0,1,216,48ZM88,200H56V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H88a8,8,0,0,0,0-16Zm120-40a8,8,0,0,0-8,8v32H168a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,208,160ZM88,40H48a8,8,0,0,0-8,8V88a8,8,0,0,0,16,0V56H88a8,8,0,0,0,0-16Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M212,48V88a4,4,0,0,1-8,0V52H168a4,4,0,0,1,0-8h40A4,4,0,0,1,212,48ZM88,204H52V168a4,4,0,0,0-8,0v40a4,4,0,0,0,4,4H88a4,4,0,0,0,0-8Zm120-40a4,4,0,0,0-4,4v36H168a4,4,0,0,0,0,8h40a4,4,0,0,0,4-4V168A4,4,0,0,0,208,164ZM88,44H48a4,4,0,0,0-4,4V88a4,4,0,0,0,8,0V52H88a4,4,0,0,0,0-8Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,60a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,60Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,124Zm0-112a92.1,92.1,0,0,0-92,92c0,77.36,81.64,135.4,85.12,137.83a12,12,0,0,0,13.76,0,259,259,0,0,0,42.18-39C205.15,170.57,220,136.37,220,104A92.1,92.1,0,0,0,128,12Zm31.3,174.71A249.35,249.35,0,0,1,128,216.89a249.35,249.35,0,0,1-31.3-30.18C80,167.37,60,137.31,60,104a68,68,0,0,1,136,0C196,137.31,176,167.37,159.3,186.71Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.17,83.41,134.55a8,8,0,0,0,9.18,0C136,236.17,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,66a38,38,0,1,0,38,38A38,38,0,0,0,128,66Zm0,64a26,26,0,1,1,26-26A26,26,0,0,1,128,130Zm0-112a86.1,86.1,0,0,0-86,86c0,30.91,14.34,63.74,41.47,94.94a252.32,252.32,0,0,0,41.09,38,6,6,0,0,0,6.88,0,252.32,252.32,0,0,0,41.09-38c27.13-31.2,41.47-64,41.47-94.94A86.1,86.1,0,0,0,128,18Zm0,206.51C113,212.93,54,163.62,54,104a74,74,0,0,1,148,0C202,163.62,143,212.93,128,224.51Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,68a36,36,0,1,0,36,36A36,36,0,0,0,128,68Zm0,64a28,28,0,1,1,28-28A28,28,0,0,1,128,132Zm0-112a84.09,84.09,0,0,0-84,84c0,30.42,14.17,62.79,41,93.62a250,250,0,0,0,40.73,37.66,4,4,0,0,0,4.58,0A250,250,0,0,0,171,197.62c26.81-30.83,41-63.2,41-93.62A84.09,84.09,0,0,0,128,20Zm37.1,172.23A254.62,254.62,0,0,1,128,227a254.62,254.62,0,0,1-37.1-34.81C73.15,171.8,52,139.9,52,104a76,76,0,0,1,152,0C204,139.9,182.85,171.8,165.1,192.23Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as e from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M236.37,139.4a12,12,0,0,0-12-3A84.07,84.07,0,0,1,119.6,31.59a12,12,0,0,0-15-15A108.86,108.86,0,0,0,49.69,55.07,108,108,0,0,0,136,228a107.09,107.09,0,0,0,64.93-21.69,108.86,108.86,0,0,0,38.44-54.94A12,12,0,0,0,236.37,139.4Zm-49.88,47.74A84,84,0,0,1,68.86,69.51,84.93,84.93,0,0,1,92.27,48.29Q92,52.13,92,56A108.12,108.12,0,0,0,200,164q3.87,0,7.71-.27A84.79,84.79,0,0,1,186.49,187.14Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\n      \"path\",\n      {\n        d: \"M227.89,147.89A96,96,0,1,1,108.11,28.11,96.09,96.09,0,0,0,227.89,147.89Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ e.createElement(\"path\", { d: \"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M235.54,150.21a104.84,104.84,0,0,1-37,52.91A104,104,0,0,1,32,120,103.09,103.09,0,0,1,52.88,57.48a104.84,104.84,0,0,1,52.91-37,8,8,0,0,1,10,10,88.08,88.08,0,0,0,109.8,109.8,8,8,0,0,1,10,10Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M232.13,143.64a6,6,0,0,0-6-1.49A90.07,90.07,0,0,1,113.86,29.85a6,6,0,0,0-7.49-7.48A102.88,102.88,0,0,0,54.48,58.68,102,102,0,0,0,197.32,201.52a102.88,102.88,0,0,0,36.31-51.89A6,6,0,0,0,232.13,143.64Zm-42,48.29a90,90,0,0,1-126-126A90.9,90.9,0,0,1,99.65,37.66,102.06,102.06,0,0,0,218.34,156.35,90.9,90.9,0,0,1,190.1,191.93Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M230.72,145.06a4,4,0,0,0-4-1A92.08,92.08,0,0,1,111.94,29.27a4,4,0,0,0-5-5A100.78,100.78,0,0,0,56.08,59.88a100,100,0,0,0,140,140,100.78,100.78,0,0,0,35.59-50.87A4,4,0,0,0,230.72,145.06ZM191.3,193.53A92,92,0,0,1,62.47,64.7a93,93,0,0,1,39.88-30.35,100.09,100.09,0,0,0,119.3,119.3A93,93,0,0,1,191.3,193.53Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as l from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\"path\", { d: \"M227.65,149.14a12,12,0,0,1-8.79,14.51l-20.67,5.08,5.4,20.16a12,12,0,0,1-23.18,6.22l-7.29-27.2L140,148.78V187l20.48,20.48a12,12,0,0,1-17,17L128,209l-15.51,15.52a12,12,0,0,1-17-17L116,187V148.78L82.88,167.91l-7.29,27.2a12,12,0,0,1-23.18-6.22l5.4-20.16-20.67-5.08a12,12,0,1,1,5.72-23.3l27.89,6.85L104,128,70.75,108.8l-27.89,6.85A11.8,11.8,0,0,1,40,116a12,12,0,0,1-2.85-23.65l20.67-5.08-5.4-20.16a12,12,0,0,1,23.18-6.22l7.29,27.2L116,107.21V69L95.52,48.48a12,12,0,0,1,17-17L128,47l15.51-15.52a12,12,0,1,1,17,17L140,69v38.24l33.12-19.12,7.29-27.2a12,12,0,0,1,23.18,6.22l-5.4,20.16,20.67,5.08A12,12,0,0,1,216,116a11.8,11.8,0,0,1-2.87-.35l-27.89-6.85L152,128l33.25,19.2,27.89-6.85A12,12,0,0,1,227.65,149.14Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\n      \"path\",\n      {\n        d: \"M220,128a92,92,0,1,1-92-92A92.1,92.1,0,0,1,220,128Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ l.createElement(\"path\", { d: \"M223.77,150.09a8,8,0,0,1-5.86,9.68l-24.64,6,6.46,24.11a8,8,0,0,1-5.66,9.8A8.25,8.25,0,0,1,192,200a8,8,0,0,1-7.72-5.93l-7.72-28.8L136,141.86v46.83l21.66,21.65a8,8,0,0,1-11.32,11.32L128,203.31l-18.34,18.35a8,8,0,0,1-11.32-11.32L120,188.69V141.86L79.45,165.27l-7.72,28.8A8,8,0,0,1,64,200a8.25,8.25,0,0,1-2.08-.27,8,8,0,0,1-5.66-9.8l6.46-24.11-24.64-6a8,8,0,0,1,3.82-15.54l29.45,7.23L112,128,71.36,104.54l-29.45,7.23A7.85,7.85,0,0,1,40,112a8,8,0,0,1-1.91-15.77l24.64-6L56.27,66.07a8,8,0,0,1,15.46-4.14l7.72,28.8L120,114.14V67.31L98.34,45.66a8,8,0,0,1,11.32-11.32L128,52.69l18.34-18.35a8,8,0,0,1,11.32,11.32L136,67.31v46.83l40.55-23.41,7.72-28.8a8,8,0,0,1,15.46,4.14l-6.46,24.11,24.64,6A8,8,0,0,1,216,112a7.85,7.85,0,0,1-1.91-.23l-29.45-7.23L144,128l40.64,23.46,29.45-7.23A8,8,0,0,1,223.77,150.09Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\"path\", { d: \"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm42.37,119.22,18.94-6.76a8,8,0,1,1,5.38,15.08l-15.48,5.52,4.52,16.87a8,8,0,0,1-5.66,9.8A8.23,8.23,0,0,1,176,184a8,8,0,0,1-7.73-5.93l-5.57-20.8L136,141.86v30.83l13.66,13.65a8,8,0,0,1-11.32,11.32L128,187.31l-10.34,10.35a8,8,0,0,1-11.32-11.32L120,172.69V141.86L93.3,157.27l-5.57,20.8A8,8,0,0,1,80,184a8.23,8.23,0,0,1-2.07-.27,8,8,0,0,1-5.66-9.8l4.52-16.87-15.48-5.52a8,8,0,0,1,5.38-15.08l18.94,6.76L112,128,85.63,112.78l-18.94,6.76A8.18,8.18,0,0,1,64,120a8,8,0,0,1-2.69-15.54l15.48-5.52L72.27,82.07a8,8,0,0,1,15.46-4.14l5.57,20.8L120,114.14V83.31L106.34,69.66a8,8,0,0,1,11.32-11.32L128,68.69l10.34-10.35a8,8,0,0,1,11.32,11.32L136,83.31v30.83l26.7-15.41,5.57-20.8a8,8,0,0,1,15.46,4.14l-4.52,16.87,15.48,5.52A8,8,0,0,1,192,120a8.18,8.18,0,0,1-2.69-.46l-18.94-6.76L144,128Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\"path\", { d: \"M221.83,150.57a6,6,0,0,1-4.4,7.26l-26.62,6.54,7,26.08a6,6,0,0,1-4.24,7.35,6.4,6.4,0,0,1-1.55.2,6,6,0,0,1-5.8-4.45L178.27,164,134,138.39v51.13l22.24,22.24a6,6,0,1,1-8.48,8.48L128,200.49l-19.76,19.75a6,6,0,0,1-8.48-8.48L122,189.52V138.39L77.73,164l-7.93,29.6A6,6,0,0,1,64,198a6.4,6.4,0,0,1-1.55-.2,6,6,0,0,1-4.24-7.35l7-26.08-26.62-6.54a6,6,0,0,1,2.86-11.66l30.23,7.43L116,128,71.66,102.4l-30.23,7.43A5.88,5.88,0,0,1,40,110a6,6,0,0,1-1.43-11.83l26.62-6.54-7-26.08a6,6,0,1,1,11.59-3.1l7.93,29.6L122,117.61V66.48L99.76,44.24a6,6,0,0,1,8.48-8.48L128,55.51l19.76-19.75a6,6,0,0,1,8.48,8.48L134,66.48v51.13l44.27-25.56,7.93-29.6a6,6,0,1,1,11.59,3.1l-7,26.08,26.62,6.54A6,6,0,0,1,216,110a5.88,5.88,0,0,1-1.43-.17l-30.23-7.43L140,128l44.34,25.6,30.23-7.43A6,6,0,0,1,221.83,150.57Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\"path\", { d: \"M223.77,150.09a8,8,0,0,1-5.86,9.68l-24.64,6,6.46,24.11a8,8,0,0,1-5.66,9.8A8.25,8.25,0,0,1,192,200a8,8,0,0,1-7.72-5.93l-7.72-28.8L136,141.86v46.83l21.66,21.65a8,8,0,0,1-11.32,11.32L128,203.31l-18.34,18.35a8,8,0,0,1-11.32-11.32L120,188.69V141.86L79.45,165.27l-7.72,28.8A8,8,0,0,1,64,200a8.25,8.25,0,0,1-2.08-.27,8,8,0,0,1-5.66-9.8l6.46-24.11-24.64-6a8,8,0,0,1,3.82-15.54l29.45,7.23L112,128,71.36,104.54l-29.45,7.23A7.85,7.85,0,0,1,40,112a8,8,0,0,1-1.91-15.77l24.64-6L56.27,66.07a8,8,0,0,1,15.46-4.14l7.72,28.8L120,114.14V67.31L98.34,45.66a8,8,0,0,1,11.32-11.32L128,52.69l18.34-18.35a8,8,0,0,1,11.32,11.32L136,67.31v46.83l40.55-23.41,7.72-28.8a8,8,0,0,1,15.46,4.14l-6.46,24.11,24.64,6A8,8,0,0,1,216,112a7.85,7.85,0,0,1-1.91-.23l-29.45-7.23L144,128l40.64,23.46,29.45-7.23A8,8,0,0,1,223.77,150.09Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ l.createElement(l.Fragment, null, /* @__PURE__ */ l.createElement(\"path\", { d: \"M219.88,151.05a4,4,0,0,1-2.93,4.83l-28.6,7L195.86,191a4,4,0,0,1-2.83,4.9,3.65,3.65,0,0,1-1,.14,4,4,0,0,1-3.86-3L180,162.64l-48-27.71v55.41l22.83,22.83a4,4,0,0,1-5.66,5.66L128,197.66l-21.17,21.17a4,4,0,0,1-5.66-5.66L124,190.34V134.93L76,162.64,67.86,193A4,4,0,0,1,64,196a3.65,3.65,0,0,1-1-.14,4,4,0,0,1-2.83-4.9l7.51-28.05-28.6-7A4,4,0,1,1,41,148.12l31,7.61L120,128,72,100.27l-31,7.61a4.07,4.07,0,0,1-1,.12,4,4,0,0,1-1-7.88l28.6-7L60.14,65A4,4,0,0,1,67.86,63L76,93.36l48,27.71V65.66L101.17,42.83a4,4,0,0,1,5.66-5.66L128,58.34l21.17-21.17a4,4,0,1,1,5.66,5.66L132,65.66v55.41l48-27.71L188.14,63A4,4,0,0,1,195.86,65l-7.51,28.05,28.6,7A4,4,0,0,1,216,108a4.07,4.07,0,0,1-1-.12l-31-7.61L136,128l48,27.73,31-7.61A4,4,0,0,1,219.88,151.05Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","import * as o from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport m from \"../defs/Chalkboard.es.js\";\nconst a = o.forwardRef((r, e) => /* @__PURE__ */ o.createElement(t, { ref: e, ...r, weights: m }));\na.displayName = \"ChalkboardIcon\";\nconst n = a;\nexport {\n  n as Chalkboard,\n  a as ChalkboardIcon\n};\n","import * as o from \"react\";\nimport s from \"../lib/IconBase.es.js\";\nimport t from \"../defs/CornersIn.es.js\";\nconst r = o.forwardRef((e, n) => /* @__PURE__ */ o.createElement(s, { ref: n, ...e, weights: t }));\nr.displayName = \"CornersInIcon\";\nconst c = r;\nexport {\n  c as CornersIn,\n  r as CornersInIcon\n};\n","import * as o from \"react\";\nimport s from \"../lib/IconBase.es.js\";\nimport n from \"../defs/CornersOut.es.js\";\nconst r = o.forwardRef((e, t) => /* @__PURE__ */ o.createElement(s, { ref: t, ...e, weights: n }));\nr.displayName = \"CornersOutIcon\";\nconst c = r;\nexport {\n  c as CornersOut,\n  r as CornersOutIcon\n};\n","import * as o from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport n from \"../defs/MapPin.es.js\";\nconst a = o.forwardRef((e, r) => /* @__PURE__ */ o.createElement(t, { ref: r, ...e, weights: n }));\na.displayName = \"MapPinIcon\";\nconst p = a;\nexport {\n  p as MapPin,\n  a as MapPinIcon\n};\n","import * as o from \"react\";\nimport n from \"../lib/IconBase.es.js\";\nimport a from \"../defs/Moon.es.js\";\nconst e = o.forwardRef((r, t) => /* @__PURE__ */ o.createElement(n, { ref: t, ...r, weights: a }));\ne.displayName = \"MoonIcon\";\nconst s = e;\nexport {\n  s as Moon,\n  e as MoonIcon\n};\n","import * as o from \"react\";\nimport a from \"../lib/IconBase.es.js\";\nimport m from \"../defs/QrCode.es.js\";\nconst e = o.forwardRef((r, t) => /* @__PURE__ */ o.createElement(a, { ref: t, ...r, weights: m }));\ne.displayName = \"QrCodeIcon\";\nconst n = e;\nexport {\n  n as QrCode,\n  e as QrCodeIcon\n};\n","import * as o from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport n from \"../defs/Snowflake.es.js\";\nconst e = o.forwardRef((a, r) => /* @__PURE__ */ o.createElement(t, { ref: r, ...a, weights: n }));\ne.displayName = \"SnowflakeIcon\";\nconst c = e;\nexport {\n  c as Snowflake,\n  e as SnowflakeIcon\n};\n","import { memo, useRef } from 'react';\r\nimport './Keypad.css';\r\n\r\n\r\nconst Keypad = ({ onKeyPress, onClear, disabled }) => {\r\n\r\n    return (\r\n        <div className=\"keypad-grid\">\r\n            {['1', '2', '3', '4', '5', '6', '7', '8', '9'].map((key) => (\r\n                <KeyButton\r\n                    key={key}\r\n                    onPress={() => onKeyPress(key)}\r\n                    disabled={disabled}\r\n                >\r\n                    {key}\r\n                </KeyButton>\r\n            ))}\r\n\r\n            <KeyButton\r\n                onPress={() => onKeyPress('0')}\r\n                disabled={disabled}\r\n                style={{ gridColumn: 'span 2' }}\r\n            >\r\n                0\r\n            </KeyButton>\r\n\r\n            <KeyButton\r\n                onPress={() => onClear()}\r\n                disabled={disabled}\r\n                className=\"clear-btn\"\r\n            >\r\n                <div style={{ fontSize: '2.5rem', fontWeight: 'bold' }}></div>\r\n            </KeyButton>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Extracted Button Component with memo for performance\r\n// [FIX]    touchstart   + contextmenu \r\nconst KeyButton = memo(({ onPress, disabled, children, special, className, style }) => {\r\n    const touchHandledRef = useRef(false);\r\n\r\n    return (\r\n        <button\r\n            className={`keypad-btn ${className || ''} ${special || ''}`}\r\n            // [FIX]      (//)  \r\n            onContextMenu={(e) => e.preventDefault()}\r\n            // [FIX]          \r\n            onTouchStart={(e) => {\r\n                e.preventDefault(); //   (,   ) \r\n                touchHandledRef.current = true;\r\n                if (navigator.vibrate) {\r\n                    navigator.vibrate(10);\r\n                }\r\n                onPress(e);\r\n            }}\r\n            // [FIX] PC    ,    click \r\n            onClick={(e) => {\r\n                if (touchHandledRef.current) {\r\n                    touchHandledRef.current = false;\r\n                    return; //   ,  \r\n                }\r\n                if (navigator.vibrate) {\r\n                    navigator.vibrate(10);\r\n                }\r\n                onPress(e);\r\n            }}\r\n            disabled={disabled}\r\n            style={{\r\n                touchAction: 'manipulation',\r\n                userSelect: 'none',\r\n                WebkitUserSelect: 'none',\r\n                WebkitTouchCallout: 'none',\r\n                ...style\r\n            }}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n});\r\nKeyButton.displayName = 'KeyButton';\r\n\r\nexport default Keypad;\r\n","export default \"__VITE_ASSET__Cn0H1K2r__\"","/**\r\n * Error/Monitoring Service Module\r\n *       .\r\n * \r\n * @module errorModule\r\n * [Refactor] Extracted from storage.js\r\n */\r\n\r\nimport { db } from \"../../firebase\";\r\nimport { collection, addDoc, deleteDoc, getDocs, doc, query, orderBy, limit as firestoreLimit, writeBatch } from \"firebase/firestore\";\r\n\r\n/**\r\n *   \r\n */\r\nexport const logError = async (error, context = {}) => {\r\n    try {\r\n        await addDoc(collection(db, 'error_logs'), {\r\n            message: error?.message || String(error),\r\n            stack: error?.stack || null,\r\n            context,\r\n            timestamp: new Date().toISOString()\r\n        });\r\n    } catch (e) {\r\n        console.error(\"[Error Module] Failed to log error:\", e);\r\n    }\r\n};\r\n\r\n/**\r\n *   \r\n */\r\nexport const getErrorLogs = async (limitCount = 50) => {\r\n    try {\r\n        const q = query(\r\n            collection(db, 'error_logs'),\r\n            orderBy('timestamp', 'desc'),\r\n            firestoreLimit(limitCount)\r\n        );\r\n        const snapshot = await getDocs(q);\r\n        return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    } catch (e) {\r\n        console.warn(\"Failed to fetch error logs:\", e);\r\n        return [];\r\n    }\r\n};\r\n\r\n/**\r\n *    \r\n */\r\nexport const deleteErrorLog = async (logId) => {\r\n    try {\r\n        await deleteDoc(doc(db, 'error_logs', logId));\r\n        return { success: true };\r\n    } catch (e) {\r\n        console.error(\"Delete error log failed:\", e);\r\n        throw e;\r\n    }\r\n};\r\n\r\n/**\r\n *    \r\n */\r\nexport const clearErrorLogs = async () => {\r\n    try {\r\n        const snapshot = await getDocs(collection(db, 'error_logs'));\r\n        const batch = writeBatch(db);\r\n        snapshot.docs.forEach(doc => batch.delete(doc.ref));\r\n        await batch.commit();\r\n        return { success: true, count: snapshot.size };\r\n    } catch (e) {\r\n        console.error(\"Clear error logs failed:\", e);\r\n        throw e;\r\n    }\r\n};\r\n\r\n/**\r\n *   \r\n */\r\nexport const getPushHistory = async (limitCount = 50) => {\r\n    try {\r\n        const q = query(\r\n            collection(db, 'push_history'),\r\n            orderBy('createdAt', 'desc'),\r\n            firestoreLimit(limitCount)\r\n        );\r\n        const snapshot = await getDocs(q);\r\n        \r\n        return snapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                displayDate: data.createdAt?.toDate?.() || data.createdAt || new Date()\r\n            };\r\n        });\r\n    } catch (e) {\r\n        console.warn('Failed to fetch push history:', e);\r\n        return [];\r\n    }\r\n};\r\n","import { useEffect, useCallback } from 'react';\r\nimport { useNetwork } from '../context/NetworkContext';\r\nimport { getKSTHour } from '../utils/dates';\r\nimport { httpsCallable } from 'firebase/functions';\r\nimport { functions } from '../firebase';\r\nimport { attendanceService } from '../services/attendanceService';\r\n\r\nexport const useNetworkMonitor = () => {\r\n    const { isOnline, setIsOnline } = useNetwork(); // [NETWORK] GLOBAL Connectivity state\r\n\r\n    // [NETWORK] Active Connection Check & Recovery\r\n    const checkConnection = useCallback(async () => {\r\n        try {\r\n            console.log('[Network] Pinging server to verify connection...');\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n            \r\n            // Bypass Cache with timestamp\r\n            const res = await fetch('/?t=' + new Date().getTime(), { \r\n                method: 'HEAD', \r\n                cache: 'no-store',\r\n                signal: controller.signal\r\n            });\r\n            clearTimeout(timeoutId);\r\n            \r\n            // Any response means we reached the server\r\n            if (res.ok || res.status < 500) { \r\n                console.log('[Network] Connection verified ');\r\n                if (!isOnline) {\r\n                    console.log('[Network] Restoring online state');\r\n                    setIsOnline(true);\r\n                }\r\n                // [FIX] Try to sync any offline check-ins automatically\r\n                attendanceService.syncPendingCheckins().catch(e => console.error(\"Offline sync error:\", e));\r\n                return true;\r\n            }\r\n            return false;\r\n        } catch (e) {\r\n            console.warn('[Network] Ping failed:', e);\r\n            return false;\r\n        }\r\n    }, [isOnline, setIsOnline]);\r\n\r\n    // [PERF] Warm-up & Keep-alive:      ( )\r\n    useEffect(() => {\r\n        const initServer = async () => {\r\n            const currentHour = getKSTHour();\r\n            //  (09:00 ~ 22:00)    \r\n            if (currentHour >= 9 && currentHour < 22) {\r\n                await checkConnection();\r\n                \r\n                // [WARM-UP] Meditation AI (Cold Start )\r\n                const aiFn = httpsCallable(functions, 'generateMeditationGuidance');\r\n                aiFn({ type: 'warmup' }).catch(e => console.debug(\"[System] AI Warm-up silent fail:\", e));\r\n            }\r\n        };\r\n\r\n        initServer();\r\n        const interval = setInterval(initServer, 10 * 60 * 1000); \r\n        return () => clearInterval(interval);\r\n    }, [checkConnection]);\r\n\r\n    useEffect(() => {\r\n        // [NETWORK] Background connection check to prevent permanent \"Offline\" on UI\r\n        const intervalTime = isOnline ? 10 * 60 * 1000 : 30000;\r\n        \r\n        const interval = setInterval(() => {\r\n            console.log(`[NetworkMonitor] Periodic network check (${isOnline ? 'Online mode' : 'Offline mode'})...`);\r\n            checkConnection();\r\n        }, intervalTime);\r\n\r\n        // [NETWORK] Also check when window regains focus\r\n        const handleFocus = () => {\r\n            console.log('[NetworkMonitor] Window focused - Triggering network check');\r\n            checkConnection();\r\n        };\r\n        window.addEventListener('focus', handleFocus);\r\n\r\n        return () => {\r\n            clearInterval(interval);\r\n            window.removeEventListener('focus', handleFocus);\r\n        };\r\n    }, [isOnline, checkConnection]);\r\n\r\n    return { checkConnection, isOnline };\r\n};\r\n","export default \"__VITE_ASSET__Bohf2zaq__\"","export default \"__VITE_ASSET__DoDbE3q3__\"","export default \"__VITE_ASSET__CsH98sWd__\"","export default \"__VITE_ASSET__DQfU9lr4__\"","export default \"__VITE_ASSET__D789DE3s__\"","export default \"data:audio/mpeg;base64,\"","import { useCallback } from 'react';\r\n\r\n// [AUDIO] High-quality TTS assets\r\nimport audioWelcome from '../assets/audio/welcome.mp3';\r\nimport audioSuccess from '../assets/audio/success.mp3';\r\nimport audioDuplicateSuccess from '../assets/audio/duplicate_success.mp3';\r\nimport audioDenied from '../assets/audio/denied.mp3';\r\nimport audioError from '../assets/audio/error.mp3';\r\nimport audioLastSession from '../assets/audio/last_session.mp3';\r\n\r\nexport const useTTS = () => {\r\n    // [TTS] Voice Feedback Helper\r\n    const speak = useCallback((type) => {\r\n        const audioMap = {\r\n            'welcome': audioWelcome,\r\n            'success': audioSuccess,\r\n            'duplicate': audioDuplicateSuccess,\r\n            'denied': audioDenied,\r\n            'error': audioError,\r\n            'last_session': audioLastSession\r\n        };\r\n\r\n        const source = audioMap[type];\r\n        if (!source) {\r\n            console.warn(`[TTS] No audio mapping for type: ${type}`);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // [UX]  ( )    (Wake-up)\r\n            //  TTS        .\r\n            if ('speechSynthesis' in window) {\r\n                const wakeUp = new SpeechSynthesisUtterance('');\r\n                wakeUp.volume = 0.01;\r\n                wakeUp.rate = 2.0;\r\n                window.speechSynthesis.speak(wakeUp);\r\n            }\r\n\r\n            //      (500ms)   .\r\n            const audio = new Audio(source);\r\n            setTimeout(() => {\r\n                audio.play().catch(e => console.warn('[TTS] Playback failed', e));\r\n            }, 500);\r\n        } catch (e) {\r\n            console.error('[TTS] Audio creation failed', e);\r\n        }\r\n    }, []);\r\n\r\n    return { speak };\r\n};\r\n","import { useState, useEffect, memo } from 'react';\r\n\r\n// [OPTIMIZED] Self-contained Clock to prevent full-page re-renders\r\nconst DigitalClock = memo(() => {\r\n    const [time, setTime] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => setTime(new Date()), 1000);\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // Optimized formatting for older CPUs\r\n    const h = time.getHours().toString().padStart(2, '0');\r\n    const m = time.getMinutes().toString().padStart(2, '0');\r\n    const s = time.getSeconds().toString().padStart(2, '0');\r\n\r\n    return (\r\n        <div className=\"top-clock outfit-font\" style={{\r\n            fontSize: '2.2rem',\r\n            fontWeight: 700,\r\n            color: 'var(--primary-gold)',\r\n            letterSpacing: '2px',\r\n            fontVariantNumeric: 'tabular-nums',\r\n            lineHeight: 1\r\n        }}>\r\n            {h}:{m}:{s}\r\n        </div>\r\n    );\r\n});\r\nDigitalClock.displayName = 'DigitalClock';\r\n\r\nexport default DigitalClock;\r\n","import { memo } from 'react';\r\nimport { MapPin, Sun, Cloud, CloudRain, Snowflake, Lightning, Moon, CornersOut, CornersIn, Chalkboard } from '@phosphor-icons/react';\r\nimport { getKSTHour } from '../../utils/dates';\r\nimport DigitalClock from './DigitalClock';\r\n\r\nconst getWeatherIcon = (code, isNight) => {\r\n    if (code === 0) return isNight ? <Moon size={24} weight=\"fill\" /> : <Sun size={24} weight=\"fill\" />;\r\n    if (code >= 1 && code <= 3) return <Cloud size={24} weight=\"fill\" />;\r\n    if (code >= 45 && code <= 48) return <Cloud size={24} weight=\"fill\" />; // Fog\r\n    if (code >= 51 && code <= 67) return <CloudRain size={24} weight=\"fill\" />;\r\n    if (code >= 71 && code <= 77) return <Snowflake size={24} weight=\"fill\" />;\r\n    if (code >= 80 && code <= 82) return <CloudRain size={24} weight=\"fill\" />;\r\n    if (code >= 95) return <Lightning size={24} weight=\"fill\" />;\r\n    return <Cloud size={24} weight=\"fill\" />;\r\n};\r\n\r\nconst TopBar = memo(({ weather, currentBranch, branches, handleBranchChange, toggleFullscreen, isFullscreen, language, onInstructorClick }) => {\r\n    const locale = language === 'ko' ? 'ko-KR' : (language === 'en' ? 'en-US' : (language === 'ru' ? 'ru-RU' : (language === 'zh' ? 'zh-CN' : 'ja-JP')));\r\n    const now = new Date();\r\n\r\n    return (\r\n        <div className=\"checkin-top-bar\" style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: '10px 30px',\r\n            zIndex: 10,\r\n            position: 'relative'\r\n        }}>\r\n            {/* Left: Branch Selector */}\r\n            <div className=\"branch-selector\" style={{ flex: 1, display: 'flex', gap: '10px' }}>\r\n                {branches.map(branch => (\r\n                    <button\r\n                        key={branch.id}\r\n                        className={`branch-btn ${currentBranch === branch.id ? 'active' : ''}`}\r\n                        onClick={() => handleBranchChange(branch.id)}\r\n                    >\r\n                        <MapPin size={18} weight={currentBranch === branch.id ? 'fill' : 'regular'} /> {branch.name}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Center: Clock & Weather (Absolute Centered) */}\r\n            <div className=\"top-info-center glass-panel-sm\" style={{\r\n                position: 'absolute',\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '12px',\r\n                padding: '8px 20px',\r\n                borderRadius: '50px',\r\n                background: 'rgba(255, 255, 255, 0.1)',\r\n                border: '1px solid rgba(255, 215, 0, 0.3)',\r\n                boxShadow: '0 4px 15px rgba(0,0,0,0.3)',\r\n                whiteSpace: 'nowrap',\r\n                width: 'fit-content',\r\n                flexShrink: 0\r\n            }}>\r\n                <DigitalClock locale={locale} />\r\n\r\n                <div style={{ width: '1px', height: '20px', background: 'rgba(255,255,255,0.15)' }} />\r\n\r\n                {weather && (\r\n                    <>\r\n                        <div className=\"top-weather\" style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                            {getWeatherIcon(weather.weathercode, getKSTHour() >= 18 || getKSTHour() < 6)}\r\n                            <span className=\"weather-temp\" style={{ fontSize: '1.4rem', fontWeight: 600, color: 'rgba(255,255,255,0.95)', lineHeight: 1 }}>\r\n                                {weather.temperature}C\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div style={{ width: '1px', height: '20px', background: 'rgba(255,255,255,0.15)' }} />\r\n\r\n                        <span className=\"weather-date\" style={{ fontSize: '1.1rem', color: 'rgba(255,255,255,0.6)', fontWeight: 500, letterSpacing: '0.5px', lineHeight: 1 }}>\r\n                            {now.toLocaleDateString(locale, { year: 'numeric', month: 'long', day: 'numeric', weekday: 'short' })}\r\n                        </span>\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n            {/* Right: Action Buttons Grouped */}\r\n            <div className=\"top-actions-right\" style={{ flex: 1, display: 'flex', justifyContent: 'flex-end', gap: '20px', alignItems: 'center' }}>\r\n                <button\r\n                    className=\"instructor-btn\"\r\n                    onClick={onInstructorClick}\r\n                    aria-label=\" \"\r\n                    style={{\r\n                        background: 'rgba(212, 175, 55, 0.15)',\r\n                        border: '1px solid rgba(212, 175, 55, 0.4)',\r\n                        borderRadius: '22px',\r\n                        padding: '8px 16px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        cursor: 'pointer',\r\n                        color: 'var(--primary-gold)',\r\n                        fontSize: '0.9rem',\r\n                        fontWeight: 500,\r\n                        transition: 'none'\r\n                    }}\r\n                >\r\n                    <Chalkboard size={20} weight=\"duotone\" />\r\n                    \r\n                </button>\r\n\r\n\r\n                <button\r\n                    className=\"fullscreen-btn\"\r\n                    onClick={toggleFullscreen}\r\n                    aria-label={isFullscreen ? \" \" : \" \"}\r\n                    style={{\r\n                        background: 'rgba(255, 255, 255, 0.1)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.2)',\r\n                        borderRadius: '50%',\r\n                        width: '44px',\r\n                        height: '44px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        cursor: 'pointer',\r\n                        color: 'white',\r\n                        transition: 'none'\r\n                    }}\r\n                >\r\n                    {isFullscreen ? <CornersIn size={24} /> : <CornersOut size={24} />}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\nTopBar.displayName = 'TopBar';\r\n\r\nexport default TopBar;\r\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/index.tsx\nimport React from \"react\";\n\n// src/third-party/qrcodegen/index.ts\n/**\n * @license QR Code generator library (TypeScript)\n * Copyright (c) Project Nayuki.\n * SPDX-License-Identifier: MIT\n */\nvar qrcodegen;\n((qrcodegen2) => {\n  const _QrCode = class _QrCode {\n    /*-- Constructor (low level) and fields --*/\n    // Creates a new QR Code with the given version number,\n    // error correction level, data codeword bytes, and mask number.\n    // This is a low-level API that most users should not use directly.\n    // A mid-level API is the encodeSegments() function.\n    constructor(version, errorCorrectionLevel, dataCodewords, msk) {\n      this.version = version;\n      this.errorCorrectionLevel = errorCorrectionLevel;\n      // The modules of this QR Code (false = light, true = dark).\n      // Immutable after constructor finishes. Accessed through getModule().\n      this.modules = [];\n      // Indicates function modules that are not subjected to masking. Discarded when constructor finishes.\n      this.isFunction = [];\n      if (version < _QrCode.MIN_VERSION || version > _QrCode.MAX_VERSION)\n        throw new RangeError(\"Version value out of range\");\n      if (msk < -1 || msk > 7)\n        throw new RangeError(\"Mask value out of range\");\n      this.size = version * 4 + 17;\n      let row = [];\n      for (let i = 0; i < this.size; i++)\n        row.push(false);\n      for (let i = 0; i < this.size; i++) {\n        this.modules.push(row.slice());\n        this.isFunction.push(row.slice());\n      }\n      this.drawFunctionPatterns();\n      const allCodewords = this.addEccAndInterleave(dataCodewords);\n      this.drawCodewords(allCodewords);\n      if (msk == -1) {\n        let minPenalty = 1e9;\n        for (let i = 0; i < 8; i++) {\n          this.applyMask(i);\n          this.drawFormatBits(i);\n          const penalty = this.getPenaltyScore();\n          if (penalty < minPenalty) {\n            msk = i;\n            minPenalty = penalty;\n          }\n          this.applyMask(i);\n        }\n      }\n      assert(0 <= msk && msk <= 7);\n      this.mask = msk;\n      this.applyMask(msk);\n      this.drawFormatBits(msk);\n      this.isFunction = [];\n    }\n    /*-- Static factory functions (high level) --*/\n    // Returns a QR Code representing the given Unicode text string at the given error correction level.\n    // As a conservative upper bound, this function is guaranteed to succeed for strings that have 738 or fewer\n    // Unicode code points (not UTF-16 code units) if the low error correction level is used. The smallest possible\n    // QR Code version is automatically chosen for the output. The ECC level of the result may be higher than the\n    // ecl argument if it can be done without increasing the version.\n    static encodeText(text, ecl) {\n      const segs = qrcodegen2.QrSegment.makeSegments(text);\n      return _QrCode.encodeSegments(segs, ecl);\n    }\n    // Returns a QR Code representing the given binary data at the given error correction level.\n    // This function always encodes using the binary segment mode, not any text mode. The maximum number of\n    // bytes allowed is 2953. The smallest possible QR Code version is automatically chosen for the output.\n    // The ECC level of the result may be higher than the ecl argument if it can be done without increasing the version.\n    static encodeBinary(data, ecl) {\n      const seg = qrcodegen2.QrSegment.makeBytes(data);\n      return _QrCode.encodeSegments([seg], ecl);\n    }\n    /*-- Static factory functions (mid level) --*/\n    // Returns a QR Code representing the given segments with the given encoding parameters.\n    // The smallest possible QR Code version within the given range is automatically\n    // chosen for the output. Iff boostEcl is true, then the ECC level of the result\n    // may be higher than the ecl argument if it can be done without increasing the\n    // version. The mask number is either between 0 to 7 (inclusive) to force that\n    // mask, or -1 to automatically choose an appropriate mask (which may be slow).\n    // This function allows the user to create a custom sequence of segments that switches\n    // between modes (such as alphanumeric and byte) to encode text in less space.\n    // This is a mid-level API; the high-level API is encodeText() and encodeBinary().\n    static encodeSegments(segs, ecl, minVersion = 1, maxVersion = 40, mask = -1, boostEcl = true) {\n      if (!(_QrCode.MIN_VERSION <= minVersion && minVersion <= maxVersion && maxVersion <= _QrCode.MAX_VERSION) || mask < -1 || mask > 7)\n        throw new RangeError(\"Invalid value\");\n      let version;\n      let dataUsedBits;\n      for (version = minVersion; ; version++) {\n        const dataCapacityBits2 = _QrCode.getNumDataCodewords(version, ecl) * 8;\n        const usedBits = QrSegment.getTotalBits(segs, version);\n        if (usedBits <= dataCapacityBits2) {\n          dataUsedBits = usedBits;\n          break;\n        }\n        if (version >= maxVersion)\n          throw new RangeError(\"Data too long\");\n      }\n      for (const newEcl of [_QrCode.Ecc.MEDIUM, _QrCode.Ecc.QUARTILE, _QrCode.Ecc.HIGH]) {\n        if (boostEcl && dataUsedBits <= _QrCode.getNumDataCodewords(version, newEcl) * 8)\n          ecl = newEcl;\n      }\n      let bb = [];\n      for (const seg of segs) {\n        appendBits(seg.mode.modeBits, 4, bb);\n        appendBits(seg.numChars, seg.mode.numCharCountBits(version), bb);\n        for (const b of seg.getData())\n          bb.push(b);\n      }\n      assert(bb.length == dataUsedBits);\n      const dataCapacityBits = _QrCode.getNumDataCodewords(version, ecl) * 8;\n      assert(bb.length <= dataCapacityBits);\n      appendBits(0, Math.min(4, dataCapacityBits - bb.length), bb);\n      appendBits(0, (8 - bb.length % 8) % 8, bb);\n      assert(bb.length % 8 == 0);\n      for (let padByte = 236; bb.length < dataCapacityBits; padByte ^= 236 ^ 17)\n        appendBits(padByte, 8, bb);\n      let dataCodewords = [];\n      while (dataCodewords.length * 8 < bb.length)\n        dataCodewords.push(0);\n      bb.forEach((b, i) => dataCodewords[i >>> 3] |= b << 7 - (i & 7));\n      return new _QrCode(version, ecl, dataCodewords, mask);\n    }\n    /*-- Accessor methods --*/\n    // Returns the color of the module (pixel) at the given coordinates, which is false\n    // for light or true for dark. The top left corner has the coordinates (x=0, y=0).\n    // If the given coordinates are out of bounds, then false (light) is returned.\n    getModule(x, y) {\n      return 0 <= x && x < this.size && 0 <= y && y < this.size && this.modules[y][x];\n    }\n    // Modified to expose modules for easy access\n    getModules() {\n      return this.modules;\n    }\n    /*-- Private helper methods for constructor: Drawing function modules --*/\n    // Reads this object's version field, and draws and marks all function modules.\n    drawFunctionPatterns() {\n      for (let i = 0; i < this.size; i++) {\n        this.setFunctionModule(6, i, i % 2 == 0);\n        this.setFunctionModule(i, 6, i % 2 == 0);\n      }\n      this.drawFinderPattern(3, 3);\n      this.drawFinderPattern(this.size - 4, 3);\n      this.drawFinderPattern(3, this.size - 4);\n      const alignPatPos = this.getAlignmentPatternPositions();\n      const numAlign = alignPatPos.length;\n      for (let i = 0; i < numAlign; i++) {\n        for (let j = 0; j < numAlign; j++) {\n          if (!(i == 0 && j == 0 || i == 0 && j == numAlign - 1 || i == numAlign - 1 && j == 0))\n            this.drawAlignmentPattern(alignPatPos[i], alignPatPos[j]);\n        }\n      }\n      this.drawFormatBits(0);\n      this.drawVersion();\n    }\n    // Draws two copies of the format bits (with its own error correction code)\n    // based on the given mask and this object's error correction level field.\n    drawFormatBits(mask) {\n      const data = this.errorCorrectionLevel.formatBits << 3 | mask;\n      let rem = data;\n      for (let i = 0; i < 10; i++)\n        rem = rem << 1 ^ (rem >>> 9) * 1335;\n      const bits = (data << 10 | rem) ^ 21522;\n      assert(bits >>> 15 == 0);\n      for (let i = 0; i <= 5; i++)\n        this.setFunctionModule(8, i, getBit(bits, i));\n      this.setFunctionModule(8, 7, getBit(bits, 6));\n      this.setFunctionModule(8, 8, getBit(bits, 7));\n      this.setFunctionModule(7, 8, getBit(bits, 8));\n      for (let i = 9; i < 15; i++)\n        this.setFunctionModule(14 - i, 8, getBit(bits, i));\n      for (let i = 0; i < 8; i++)\n        this.setFunctionModule(this.size - 1 - i, 8, getBit(bits, i));\n      for (let i = 8; i < 15; i++)\n        this.setFunctionModule(8, this.size - 15 + i, getBit(bits, i));\n      this.setFunctionModule(8, this.size - 8, true);\n    }\n    // Draws two copies of the version bits (with its own error correction code),\n    // based on this object's version field, iff 7 <= version <= 40.\n    drawVersion() {\n      if (this.version < 7)\n        return;\n      let rem = this.version;\n      for (let i = 0; i < 12; i++)\n        rem = rem << 1 ^ (rem >>> 11) * 7973;\n      const bits = this.version << 12 | rem;\n      assert(bits >>> 18 == 0);\n      for (let i = 0; i < 18; i++) {\n        const color = getBit(bits, i);\n        const a = this.size - 11 + i % 3;\n        const b = Math.floor(i / 3);\n        this.setFunctionModule(a, b, color);\n        this.setFunctionModule(b, a, color);\n      }\n    }\n    // Draws a 9*9 finder pattern including the border separator,\n    // with the center module at (x, y). Modules can be out of bounds.\n    drawFinderPattern(x, y) {\n      for (let dy = -4; dy <= 4; dy++) {\n        for (let dx = -4; dx <= 4; dx++) {\n          const dist = Math.max(Math.abs(dx), Math.abs(dy));\n          const xx = x + dx;\n          const yy = y + dy;\n          if (0 <= xx && xx < this.size && 0 <= yy && yy < this.size)\n            this.setFunctionModule(xx, yy, dist != 2 && dist != 4);\n        }\n      }\n    }\n    // Draws a 5*5 alignment pattern, with the center module\n    // at (x, y). All modules must be in bounds.\n    drawAlignmentPattern(x, y) {\n      for (let dy = -2; dy <= 2; dy++) {\n        for (let dx = -2; dx <= 2; dx++)\n          this.setFunctionModule(x + dx, y + dy, Math.max(Math.abs(dx), Math.abs(dy)) != 1);\n      }\n    }\n    // Sets the color of a module and marks it as a function module.\n    // Only used by the constructor. Coordinates must be in bounds.\n    setFunctionModule(x, y, isDark) {\n      this.modules[y][x] = isDark;\n      this.isFunction[y][x] = true;\n    }\n    /*-- Private helper methods for constructor: Codewords and masking --*/\n    // Returns a new byte string representing the given data with the appropriate error correction\n    // codewords appended to it, based on this object's version and error correction level.\n    addEccAndInterleave(data) {\n      const ver = this.version;\n      const ecl = this.errorCorrectionLevel;\n      if (data.length != _QrCode.getNumDataCodewords(ver, ecl))\n        throw new RangeError(\"Invalid argument\");\n      const numBlocks = _QrCode.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\n      const blockEccLen = _QrCode.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver];\n      const rawCodewords = Math.floor(_QrCode.getNumRawDataModules(ver) / 8);\n      const numShortBlocks = numBlocks - rawCodewords % numBlocks;\n      const shortBlockLen = Math.floor(rawCodewords / numBlocks);\n      let blocks = [];\n      const rsDiv = _QrCode.reedSolomonComputeDivisor(blockEccLen);\n      for (let i = 0, k = 0; i < numBlocks; i++) {\n        let dat = data.slice(k, k + shortBlockLen - blockEccLen + (i < numShortBlocks ? 0 : 1));\n        k += dat.length;\n        const ecc = _QrCode.reedSolomonComputeRemainder(dat, rsDiv);\n        if (i < numShortBlocks)\n          dat.push(0);\n        blocks.push(dat.concat(ecc));\n      }\n      let result = [];\n      for (let i = 0; i < blocks[0].length; i++) {\n        blocks.forEach((block, j) => {\n          if (i != shortBlockLen - blockEccLen || j >= numShortBlocks)\n            result.push(block[i]);\n        });\n      }\n      assert(result.length == rawCodewords);\n      return result;\n    }\n    // Draws the given sequence of 8-bit codewords (data and error correction) onto the entire\n    // data area of this QR Code. Function modules need to be marked off before this is called.\n    drawCodewords(data) {\n      if (data.length != Math.floor(_QrCode.getNumRawDataModules(this.version) / 8))\n        throw new RangeError(\"Invalid argument\");\n      let i = 0;\n      for (let right = this.size - 1; right >= 1; right -= 2) {\n        if (right == 6)\n          right = 5;\n        for (let vert = 0; vert < this.size; vert++) {\n          for (let j = 0; j < 2; j++) {\n            const x = right - j;\n            const upward = (right + 1 & 2) == 0;\n            const y = upward ? this.size - 1 - vert : vert;\n            if (!this.isFunction[y][x] && i < data.length * 8) {\n              this.modules[y][x] = getBit(data[i >>> 3], 7 - (i & 7));\n              i++;\n            }\n          }\n        }\n      }\n      assert(i == data.length * 8);\n    }\n    // XORs the codeword modules in this QR Code with the given mask pattern.\n    // The function modules must be marked and the codeword bits must be drawn\n    // before masking. Due to the arithmetic of XOR, calling applyMask() with\n    // the same mask value a second time will undo the mask. A final well-formed\n    // QR Code needs exactly one (not zero, two, etc.) mask applied.\n    applyMask(mask) {\n      if (mask < 0 || mask > 7)\n        throw new RangeError(\"Mask value out of range\");\n      for (let y = 0; y < this.size; y++) {\n        for (let x = 0; x < this.size; x++) {\n          let invert;\n          switch (mask) {\n            case 0:\n              invert = (x + y) % 2 == 0;\n              break;\n            case 1:\n              invert = y % 2 == 0;\n              break;\n            case 2:\n              invert = x % 3 == 0;\n              break;\n            case 3:\n              invert = (x + y) % 3 == 0;\n              break;\n            case 4:\n              invert = (Math.floor(x / 3) + Math.floor(y / 2)) % 2 == 0;\n              break;\n            case 5:\n              invert = x * y % 2 + x * y % 3 == 0;\n              break;\n            case 6:\n              invert = (x * y % 2 + x * y % 3) % 2 == 0;\n              break;\n            case 7:\n              invert = ((x + y) % 2 + x * y % 3) % 2 == 0;\n              break;\n            default:\n              throw new Error(\"Unreachable\");\n          }\n          if (!this.isFunction[y][x] && invert)\n            this.modules[y][x] = !this.modules[y][x];\n        }\n      }\n    }\n    // Calculates and returns the penalty score based on state of this QR Code's current modules.\n    // This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.\n    getPenaltyScore() {\n      let result = 0;\n      for (let y = 0; y < this.size; y++) {\n        let runColor = false;\n        let runX = 0;\n        let runHistory = [0, 0, 0, 0, 0, 0, 0];\n        for (let x = 0; x < this.size; x++) {\n          if (this.modules[y][x] == runColor) {\n            runX++;\n            if (runX == 5)\n              result += _QrCode.PENALTY_N1;\n            else if (runX > 5)\n              result++;\n          } else {\n            this.finderPenaltyAddHistory(runX, runHistory);\n            if (!runColor)\n              result += this.finderPenaltyCountPatterns(runHistory) * _QrCode.PENALTY_N3;\n            runColor = this.modules[y][x];\n            runX = 1;\n          }\n        }\n        result += this.finderPenaltyTerminateAndCount(runColor, runX, runHistory) * _QrCode.PENALTY_N3;\n      }\n      for (let x = 0; x < this.size; x++) {\n        let runColor = false;\n        let runY = 0;\n        let runHistory = [0, 0, 0, 0, 0, 0, 0];\n        for (let y = 0; y < this.size; y++) {\n          if (this.modules[y][x] == runColor) {\n            runY++;\n            if (runY == 5)\n              result += _QrCode.PENALTY_N1;\n            else if (runY > 5)\n              result++;\n          } else {\n            this.finderPenaltyAddHistory(runY, runHistory);\n            if (!runColor)\n              result += this.finderPenaltyCountPatterns(runHistory) * _QrCode.PENALTY_N3;\n            runColor = this.modules[y][x];\n            runY = 1;\n          }\n        }\n        result += this.finderPenaltyTerminateAndCount(runColor, runY, runHistory) * _QrCode.PENALTY_N3;\n      }\n      for (let y = 0; y < this.size - 1; y++) {\n        for (let x = 0; x < this.size - 1; x++) {\n          const color = this.modules[y][x];\n          if (color == this.modules[y][x + 1] && color == this.modules[y + 1][x] && color == this.modules[y + 1][x + 1])\n            result += _QrCode.PENALTY_N2;\n        }\n      }\n      let dark = 0;\n      for (const row of this.modules)\n        dark = row.reduce((sum, color) => sum + (color ? 1 : 0), dark);\n      const total = this.size * this.size;\n      const k = Math.ceil(Math.abs(dark * 20 - total * 10) / total) - 1;\n      assert(0 <= k && k <= 9);\n      result += k * _QrCode.PENALTY_N4;\n      assert(0 <= result && result <= 2568888);\n      return result;\n    }\n    /*-- Private helper functions --*/\n    // Returns an ascending list of positions of alignment patterns for this version number.\n    // Each position is in the range [0,177), and are used on both the x and y axes.\n    // This could be implemented as lookup table of 40 variable-length lists of integers.\n    getAlignmentPatternPositions() {\n      if (this.version == 1)\n        return [];\n      else {\n        const numAlign = Math.floor(this.version / 7) + 2;\n        const step = this.version == 32 ? 26 : Math.ceil((this.version * 4 + 4) / (numAlign * 2 - 2)) * 2;\n        let result = [6];\n        for (let pos = this.size - 7; result.length < numAlign; pos -= step)\n          result.splice(1, 0, pos);\n        return result;\n      }\n    }\n    // Returns the number of data bits that can be stored in a QR Code of the given version number, after\n    // all function modules are excluded. This includes remainder bits, so it might not be a multiple of 8.\n    // The result is in the range [208, 29648]. This could be implemented as a 40-entry lookup table.\n    static getNumRawDataModules(ver) {\n      if (ver < _QrCode.MIN_VERSION || ver > _QrCode.MAX_VERSION)\n        throw new RangeError(\"Version number out of range\");\n      let result = (16 * ver + 128) * ver + 64;\n      if (ver >= 2) {\n        const numAlign = Math.floor(ver / 7) + 2;\n        result -= (25 * numAlign - 10) * numAlign - 55;\n        if (ver >= 7)\n          result -= 36;\n      }\n      assert(208 <= result && result <= 29648);\n      return result;\n    }\n    // Returns the number of 8-bit data (i.e. not error correction) codewords contained in any\n    // QR Code of the given version number and error correction level, with remainder bits discarded.\n    // This stateless pure function could be implemented as a (40*4)-cell lookup table.\n    static getNumDataCodewords(ver, ecl) {\n      return Math.floor(_QrCode.getNumRawDataModules(ver) / 8) - _QrCode.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver] * _QrCode.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\n    }\n    // Returns a Reed-Solomon ECC generator polynomial for the given degree. This could be\n    // implemented as a lookup table over all possible parameter values, instead of as an algorithm.\n    static reedSolomonComputeDivisor(degree) {\n      if (degree < 1 || degree > 255)\n        throw new RangeError(\"Degree out of range\");\n      let result = [];\n      for (let i = 0; i < degree - 1; i++)\n        result.push(0);\n      result.push(1);\n      let root = 1;\n      for (let i = 0; i < degree; i++) {\n        for (let j = 0; j < result.length; j++) {\n          result[j] = _QrCode.reedSolomonMultiply(result[j], root);\n          if (j + 1 < result.length)\n            result[j] ^= result[j + 1];\n        }\n        root = _QrCode.reedSolomonMultiply(root, 2);\n      }\n      return result;\n    }\n    // Returns the Reed-Solomon error correction codeword for the given data and divisor polynomials.\n    static reedSolomonComputeRemainder(data, divisor) {\n      let result = divisor.map((_) => 0);\n      for (const b of data) {\n        const factor = b ^ result.shift();\n        result.push(0);\n        divisor.forEach((coef, i) => result[i] ^= _QrCode.reedSolomonMultiply(coef, factor));\n      }\n      return result;\n    }\n    // Returns the product of the two given field elements modulo GF(2^8/0x11D). The arguments and result\n    // are unsigned 8-bit integers. This could be implemented as a lookup table of 256*256 entries of uint8.\n    static reedSolomonMultiply(x, y) {\n      if (x >>> 8 != 0 || y >>> 8 != 0)\n        throw new RangeError(\"Byte out of range\");\n      let z = 0;\n      for (let i = 7; i >= 0; i--) {\n        z = z << 1 ^ (z >>> 7) * 285;\n        z ^= (y >>> i & 1) * x;\n      }\n      assert(z >>> 8 == 0);\n      return z;\n    }\n    // Can only be called immediately after a light run is added, and\n    // returns either 0, 1, or 2. A helper function for getPenaltyScore().\n    finderPenaltyCountPatterns(runHistory) {\n      const n = runHistory[1];\n      assert(n <= this.size * 3);\n      const core = n > 0 && runHistory[2] == n && runHistory[3] == n * 3 && runHistory[4] == n && runHistory[5] == n;\n      return (core && runHistory[0] >= n * 4 && runHistory[6] >= n ? 1 : 0) + (core && runHistory[6] >= n * 4 && runHistory[0] >= n ? 1 : 0);\n    }\n    // Must be called at the end of a line (row or column) of modules. A helper function for getPenaltyScore().\n    finderPenaltyTerminateAndCount(currentRunColor, currentRunLength, runHistory) {\n      if (currentRunColor) {\n        this.finderPenaltyAddHistory(currentRunLength, runHistory);\n        currentRunLength = 0;\n      }\n      currentRunLength += this.size;\n      this.finderPenaltyAddHistory(currentRunLength, runHistory);\n      return this.finderPenaltyCountPatterns(runHistory);\n    }\n    // Pushes the given value to the front and drops the last value. A helper function for getPenaltyScore().\n    finderPenaltyAddHistory(currentRunLength, runHistory) {\n      if (runHistory[0] == 0)\n        currentRunLength += this.size;\n      runHistory.pop();\n      runHistory.unshift(currentRunLength);\n    }\n  };\n  /*-- Constants and tables --*/\n  // The minimum version number supported in the QR Code Model 2 standard.\n  _QrCode.MIN_VERSION = 1;\n  // The maximum version number supported in the QR Code Model 2 standard.\n  _QrCode.MAX_VERSION = 40;\n  // For use in getPenaltyScore(), when evaluating which mask is best.\n  _QrCode.PENALTY_N1 = 3;\n  _QrCode.PENALTY_N2 = 3;\n  _QrCode.PENALTY_N3 = 40;\n  _QrCode.PENALTY_N4 = 10;\n  _QrCode.ECC_CODEWORDS_PER_BLOCK = [\n    // Version: (note that index 0 is for padding, and is set to an illegal value)\n    //0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n    [-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    // Low\n    [-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],\n    // Medium\n    [-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    // Quartile\n    [-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30]\n    // High\n  ];\n  _QrCode.NUM_ERROR_CORRECTION_BLOCKS = [\n    // Version: (note that index 0 is for padding, and is set to an illegal value)\n    //0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n    [-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],\n    // Low\n    [-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],\n    // Medium\n    [-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],\n    // Quartile\n    [-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81]\n    // High\n  ];\n  let QrCode = _QrCode;\n  qrcodegen2.QrCode = _QrCode;\n  function appendBits(val, len, bb) {\n    if (len < 0 || len > 31 || val >>> len != 0)\n      throw new RangeError(\"Value out of range\");\n    for (let i = len - 1; i >= 0; i--)\n      bb.push(val >>> i & 1);\n  }\n  function getBit(x, i) {\n    return (x >>> i & 1) != 0;\n  }\n  function assert(cond) {\n    if (!cond)\n      throw new Error(\"Assertion error\");\n  }\n  const _QrSegment = class _QrSegment {\n    /*-- Constructor (low level) and fields --*/\n    // Creates a new QR Code segment with the given attributes and data.\n    // The character count (numChars) must agree with the mode and the bit buffer length,\n    // but the constraint isn't checked. The given bit buffer is cloned and stored.\n    constructor(mode, numChars, bitData) {\n      this.mode = mode;\n      this.numChars = numChars;\n      this.bitData = bitData;\n      if (numChars < 0)\n        throw new RangeError(\"Invalid argument\");\n      this.bitData = bitData.slice();\n    }\n    /*-- Static factory functions (mid level) --*/\n    // Returns a segment representing the given binary data encoded in\n    // byte mode. All input byte arrays are acceptable. Any text string\n    // can be converted to UTF-8 bytes and encoded as a byte mode segment.\n    static makeBytes(data) {\n      let bb = [];\n      for (const b of data)\n        appendBits(b, 8, bb);\n      return new _QrSegment(_QrSegment.Mode.BYTE, data.length, bb);\n    }\n    // Returns a segment representing the given string of decimal digits encoded in numeric mode.\n    static makeNumeric(digits) {\n      if (!_QrSegment.isNumeric(digits))\n        throw new RangeError(\"String contains non-numeric characters\");\n      let bb = [];\n      for (let i = 0; i < digits.length; ) {\n        const n = Math.min(digits.length - i, 3);\n        appendBits(parseInt(digits.substring(i, i + n), 10), n * 3 + 1, bb);\n        i += n;\n      }\n      return new _QrSegment(_QrSegment.Mode.NUMERIC, digits.length, bb);\n    }\n    // Returns a segment representing the given text string encoded in alphanumeric mode.\n    // The characters allowed are: 0 to 9, A to Z (uppercase only), space,\n    // dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n    static makeAlphanumeric(text) {\n      if (!_QrSegment.isAlphanumeric(text))\n        throw new RangeError(\"String contains unencodable characters in alphanumeric mode\");\n      let bb = [];\n      let i;\n      for (i = 0; i + 2 <= text.length; i += 2) {\n        let temp = _QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)) * 45;\n        temp += _QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i + 1));\n        appendBits(temp, 11, bb);\n      }\n      if (i < text.length)\n        appendBits(_QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)), 6, bb);\n      return new _QrSegment(_QrSegment.Mode.ALPHANUMERIC, text.length, bb);\n    }\n    // Returns a new mutable list of zero or more segments to represent the given Unicode text string.\n    // The result may use various segment modes and switch modes to optimize the length of the bit stream.\n    static makeSegments(text) {\n      if (text == \"\")\n        return [];\n      else if (_QrSegment.isNumeric(text))\n        return [_QrSegment.makeNumeric(text)];\n      else if (_QrSegment.isAlphanumeric(text))\n        return [_QrSegment.makeAlphanumeric(text)];\n      else\n        return [_QrSegment.makeBytes(_QrSegment.toUtf8ByteArray(text))];\n    }\n    // Returns a segment representing an Extended Channel Interpretation\n    // (ECI) designator with the given assignment value.\n    static makeEci(assignVal) {\n      let bb = [];\n      if (assignVal < 0)\n        throw new RangeError(\"ECI assignment value out of range\");\n      else if (assignVal < 1 << 7)\n        appendBits(assignVal, 8, bb);\n      else if (assignVal < 1 << 14) {\n        appendBits(2, 2, bb);\n        appendBits(assignVal, 14, bb);\n      } else if (assignVal < 1e6) {\n        appendBits(6, 3, bb);\n        appendBits(assignVal, 21, bb);\n      } else\n        throw new RangeError(\"ECI assignment value out of range\");\n      return new _QrSegment(_QrSegment.Mode.ECI, 0, bb);\n    }\n    // Tests whether the given string can be encoded as a segment in numeric mode.\n    // A string is encodable iff each character is in the range 0 to 9.\n    static isNumeric(text) {\n      return _QrSegment.NUMERIC_REGEX.test(text);\n    }\n    // Tests whether the given string can be encoded as a segment in alphanumeric mode.\n    // A string is encodable iff each character is in the following set: 0 to 9, A to Z\n    // (uppercase only), space, dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n    static isAlphanumeric(text) {\n      return _QrSegment.ALPHANUMERIC_REGEX.test(text);\n    }\n    /*-- Methods --*/\n    // Returns a new copy of the data bits of this segment.\n    getData() {\n      return this.bitData.slice();\n    }\n    // (Package-private) Calculates and returns the number of bits needed to encode the given segments at\n    // the given version. The result is infinity if a segment has too many characters to fit its length field.\n    static getTotalBits(segs, version) {\n      let result = 0;\n      for (const seg of segs) {\n        const ccbits = seg.mode.numCharCountBits(version);\n        if (seg.numChars >= 1 << ccbits)\n          return Infinity;\n        result += 4 + ccbits + seg.bitData.length;\n      }\n      return result;\n    }\n    // Returns a new array of bytes representing the given string encoded in UTF-8.\n    static toUtf8ByteArray(str) {\n      str = encodeURI(str);\n      let result = [];\n      for (let i = 0; i < str.length; i++) {\n        if (str.charAt(i) != \"%\")\n          result.push(str.charCodeAt(i));\n        else {\n          result.push(parseInt(str.substring(i + 1, i + 3), 16));\n          i += 2;\n        }\n      }\n      return result;\n    }\n  };\n  /*-- Constants --*/\n  // Describes precisely all strings that are encodable in numeric mode.\n  _QrSegment.NUMERIC_REGEX = /^[0-9]*$/;\n  // Describes precisely all strings that are encodable in alphanumeric mode.\n  _QrSegment.ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\\/:-]*$/;\n  // The set of all legal characters in alphanumeric mode,\n  // where each character value maps to the index in the string.\n  _QrSegment.ALPHANUMERIC_CHARSET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\";\n  let QrSegment = _QrSegment;\n  qrcodegen2.QrSegment = _QrSegment;\n})(qrcodegen || (qrcodegen = {}));\n((qrcodegen2) => {\n  let QrCode;\n  ((QrCode2) => {\n    const _Ecc = class _Ecc {\n      // The QR Code can tolerate about 30% erroneous codewords\n      /*-- Constructor and fields --*/\n      constructor(ordinal, formatBits) {\n        this.ordinal = ordinal;\n        this.formatBits = formatBits;\n      }\n    };\n    /*-- Constants --*/\n    _Ecc.LOW = new _Ecc(0, 1);\n    // The QR Code can tolerate about  7% erroneous codewords\n    _Ecc.MEDIUM = new _Ecc(1, 0);\n    // The QR Code can tolerate about 15% erroneous codewords\n    _Ecc.QUARTILE = new _Ecc(2, 3);\n    // The QR Code can tolerate about 25% erroneous codewords\n    _Ecc.HIGH = new _Ecc(3, 2);\n    let Ecc = _Ecc;\n    QrCode2.Ecc = _Ecc;\n  })(QrCode = qrcodegen2.QrCode || (qrcodegen2.QrCode = {}));\n})(qrcodegen || (qrcodegen = {}));\n((qrcodegen2) => {\n  let QrSegment;\n  ((QrSegment2) => {\n    const _Mode = class _Mode {\n      /*-- Constructor and fields --*/\n      constructor(modeBits, numBitsCharCount) {\n        this.modeBits = modeBits;\n        this.numBitsCharCount = numBitsCharCount;\n      }\n      /*-- Method --*/\n      // (Package-private) Returns the bit width of the character count field for a segment in\n      // this mode in a QR Code at the given version number. The result is in the range [0, 16].\n      numCharCountBits(ver) {\n        return this.numBitsCharCount[Math.floor((ver + 7) / 17)];\n      }\n    };\n    /*-- Constants --*/\n    _Mode.NUMERIC = new _Mode(1, [10, 12, 14]);\n    _Mode.ALPHANUMERIC = new _Mode(2, [9, 11, 13]);\n    _Mode.BYTE = new _Mode(4, [8, 16, 16]);\n    _Mode.KANJI = new _Mode(8, [8, 10, 12]);\n    _Mode.ECI = new _Mode(7, [0, 0, 0]);\n    let Mode = _Mode;\n    QrSegment2.Mode = _Mode;\n  })(QrSegment = qrcodegen2.QrSegment || (qrcodegen2.QrSegment = {}));\n})(qrcodegen || (qrcodegen = {}));\nvar qrcodegen_default = qrcodegen;\n\n// src/index.tsx\n/**\n * @license qrcode.react\n * Copyright (c) Paul O'Shannessy\n * SPDX-License-Identifier: ISC\n */\nvar ERROR_LEVEL_MAP = {\n  L: qrcodegen_default.QrCode.Ecc.LOW,\n  M: qrcodegen_default.QrCode.Ecc.MEDIUM,\n  Q: qrcodegen_default.QrCode.Ecc.QUARTILE,\n  H: qrcodegen_default.QrCode.Ecc.HIGH\n};\nvar DEFAULT_SIZE = 128;\nvar DEFAULT_LEVEL = \"L\";\nvar DEFAULT_BGCOLOR = \"#FFFFFF\";\nvar DEFAULT_FGCOLOR = \"#000000\";\nvar DEFAULT_INCLUDEMARGIN = false;\nvar DEFAULT_MINVERSION = 1;\nvar SPEC_MARGIN_SIZE = 4;\nvar DEFAULT_MARGIN_SIZE = 0;\nvar DEFAULT_IMG_SCALE = 0.1;\nfunction generatePath(modules, margin = 0) {\n  const ops = [];\n  modules.forEach(function(row, y) {\n    let start = null;\n    row.forEach(function(cell, x) {\n      if (!cell && start !== null) {\n        ops.push(\n          `M${start + margin} ${y + margin}h${x - start}v1H${start + margin}z`\n        );\n        start = null;\n        return;\n      }\n      if (x === row.length - 1) {\n        if (!cell) {\n          return;\n        }\n        if (start === null) {\n          ops.push(`M${x + margin},${y + margin} h1v1H${x + margin}z`);\n        } else {\n          ops.push(\n            `M${start + margin},${y + margin} h${x + 1 - start}v1H${start + margin}z`\n          );\n        }\n        return;\n      }\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join(\"\");\n}\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map((row, y) => {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n    return row.map((cell, x) => {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n      return false;\n    });\n  });\n}\nfunction getImageSettings(cells, size, margin, imageSettings) {\n  if (imageSettings == null) {\n    return null;\n  }\n  const numCells = cells.length + margin * 2;\n  const defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  const scale = numCells / size;\n  const w = (imageSettings.width || defaultSize) * scale;\n  const h = (imageSettings.height || defaultSize) * scale;\n  const x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  const y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  const opacity = imageSettings.opacity == null ? 1 : imageSettings.opacity;\n  let excavation = null;\n  if (imageSettings.excavate) {\n    let floorX = Math.floor(x);\n    let floorY = Math.floor(y);\n    let ceilW = Math.ceil(w + x - floorX);\n    let ceilH = Math.ceil(h + y - floorY);\n    excavation = { x: floorX, y: floorY, w: ceilW, h: ceilH };\n  }\n  const crossOrigin = imageSettings.crossOrigin;\n  return { x, y, h, w, excavation, opacity, crossOrigin };\n}\nfunction getMarginSize(includeMargin, marginSize) {\n  if (marginSize != null) {\n    return Math.max(Math.floor(marginSize), 0);\n  }\n  return includeMargin ? SPEC_MARGIN_SIZE : DEFAULT_MARGIN_SIZE;\n}\nfunction useQRCode({\n  value,\n  level,\n  minVersion,\n  includeMargin,\n  marginSize,\n  imageSettings,\n  size,\n  boostLevel\n}) {\n  let qrcode = React.useMemo(() => {\n    const values = Array.isArray(value) ? value : [value];\n    const segments = values.reduce((accum, v) => {\n      accum.push(...qrcodegen_default.QrSegment.makeSegments(v));\n      return accum;\n    }, []);\n    return qrcodegen_default.QrCode.encodeSegments(\n      segments,\n      ERROR_LEVEL_MAP[level],\n      minVersion,\n      void 0,\n      void 0,\n      boostLevel\n    );\n  }, [value, level, minVersion, boostLevel]);\n  const { cells, margin, numCells, calculatedImageSettings } = React.useMemo(() => {\n    let cells2 = qrcode.getModules();\n    const margin2 = getMarginSize(includeMargin, marginSize);\n    const numCells2 = cells2.length + margin2 * 2;\n    const calculatedImageSettings2 = getImageSettings(\n      cells2,\n      size,\n      margin2,\n      imageSettings\n    );\n    return {\n      cells: cells2,\n      margin: margin2,\n      numCells: numCells2,\n      calculatedImageSettings: calculatedImageSettings2\n    };\n  }, [qrcode, size, imageSettings, includeMargin, marginSize]);\n  return {\n    qrcode,\n    margin,\n    cells,\n    numCells,\n    calculatedImageSettings\n  };\n}\nvar SUPPORTS_PATH2D = function() {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n  return true;\n}();\nvar QRCodeCanvas = React.forwardRef(\n  function QRCodeCanvas2(props, forwardedRef) {\n    const _a = props, {\n      value,\n      size = DEFAULT_SIZE,\n      level = DEFAULT_LEVEL,\n      bgColor = DEFAULT_BGCOLOR,\n      fgColor = DEFAULT_FGCOLOR,\n      includeMargin = DEFAULT_INCLUDEMARGIN,\n      minVersion = DEFAULT_MINVERSION,\n      boostLevel,\n      marginSize,\n      imageSettings\n    } = _a, extraProps = __objRest(_a, [\n      \"value\",\n      \"size\",\n      \"level\",\n      \"bgColor\",\n      \"fgColor\",\n      \"includeMargin\",\n      \"minVersion\",\n      \"boostLevel\",\n      \"marginSize\",\n      \"imageSettings\"\n    ]);\n    const _b = extraProps, { style } = _b, otherProps = __objRest(_b, [\"style\"]);\n    const imgSrc = imageSettings == null ? void 0 : imageSettings.src;\n    const _canvas = React.useRef(null);\n    const _image = React.useRef(null);\n    const setCanvasRef = React.useCallback(\n      (node) => {\n        _canvas.current = node;\n        if (typeof forwardedRef === \"function\") {\n          forwardedRef(node);\n        } else if (forwardedRef) {\n          forwardedRef.current = node;\n        }\n      },\n      [forwardedRef]\n    );\n    const [isImgLoaded, setIsImageLoaded] = React.useState(false);\n    const { margin, cells, numCells, calculatedImageSettings } = useQRCode({\n      value,\n      level,\n      minVersion,\n      boostLevel,\n      includeMargin,\n      marginSize,\n      imageSettings,\n      size\n    });\n    React.useEffect(() => {\n      if (_canvas.current != null) {\n        const canvas = _canvas.current;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n          return;\n        }\n        let cellsToDraw = cells;\n        const image = _image.current;\n        const haveImageToRender = calculatedImageSettings != null && image !== null && image.complete && image.naturalHeight !== 0 && image.naturalWidth !== 0;\n        if (haveImageToRender) {\n          if (calculatedImageSettings.excavation != null) {\n            cellsToDraw = excavateModules(\n              cells,\n              calculatedImageSettings.excavation\n            );\n          }\n        }\n        const pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        const scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale);\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n        if (SUPPORTS_PATH2D) {\n          ctx.fill(new Path2D(generatePath(cellsToDraw, margin)));\n        } else {\n          cells.forEach(function(row, rdx) {\n            row.forEach(function(cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n        if (calculatedImageSettings) {\n          ctx.globalAlpha = calculatedImageSettings.opacity;\n        }\n        if (haveImageToRender) {\n          ctx.drawImage(\n            image,\n            calculatedImageSettings.x + margin,\n            calculatedImageSettings.y + margin,\n            calculatedImageSettings.w,\n            calculatedImageSettings.h\n          );\n        }\n      }\n    });\n    React.useEffect(() => {\n      setIsImageLoaded(false);\n    }, [imgSrc]);\n    const canvasStyle = __spreadValues({ height: size, width: size }, style);\n    let img = null;\n    if (imgSrc != null) {\n      img = /* @__PURE__ */ React.createElement(\n        \"img\",\n        {\n          src: imgSrc,\n          key: imgSrc,\n          style: { display: \"none\" },\n          onLoad: () => {\n            setIsImageLoaded(true);\n          },\n          ref: _image,\n          crossOrigin: calculatedImageSettings == null ? void 0 : calculatedImageSettings.crossOrigin\n        }\n      );\n    }\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      \"canvas\",\n      __spreadValues({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: setCanvasRef,\n        role: \"img\"\n      }, otherProps)\n    ), img);\n  }\n);\nQRCodeCanvas.displayName = \"QRCodeCanvas\";\nvar QRCodeSVG = React.forwardRef(\n  function QRCodeSVG2(props, forwardedRef) {\n    const _a = props, {\n      value,\n      size = DEFAULT_SIZE,\n      level = DEFAULT_LEVEL,\n      bgColor = DEFAULT_BGCOLOR,\n      fgColor = DEFAULT_FGCOLOR,\n      includeMargin = DEFAULT_INCLUDEMARGIN,\n      minVersion = DEFAULT_MINVERSION,\n      boostLevel,\n      title,\n      marginSize,\n      imageSettings\n    } = _a, otherProps = __objRest(_a, [\n      \"value\",\n      \"size\",\n      \"level\",\n      \"bgColor\",\n      \"fgColor\",\n      \"includeMargin\",\n      \"minVersion\",\n      \"boostLevel\",\n      \"title\",\n      \"marginSize\",\n      \"imageSettings\"\n    ]);\n    const { margin, cells, numCells, calculatedImageSettings } = useQRCode({\n      value,\n      level,\n      minVersion,\n      boostLevel,\n      includeMargin,\n      marginSize,\n      imageSettings,\n      size\n    });\n    let cellsToDraw = cells;\n    let image = null;\n    if (imageSettings != null && calculatedImageSettings != null) {\n      if (calculatedImageSettings.excavation != null) {\n        cellsToDraw = excavateModules(\n          cells,\n          calculatedImageSettings.excavation\n        );\n      }\n      image = /* @__PURE__ */ React.createElement(\n        \"image\",\n        {\n          href: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\",\n          opacity: calculatedImageSettings.opacity,\n          crossOrigin: calculatedImageSettings.crossOrigin\n        }\n      );\n    }\n    const fgPath = generatePath(cellsToDraw, margin);\n    return /* @__PURE__ */ React.createElement(\n      \"svg\",\n      __spreadValues({\n        height: size,\n        width: size,\n        viewBox: `0 0 ${numCells} ${numCells}`,\n        ref: forwardedRef,\n        role: \"img\"\n      }, otherProps),\n      !!title && /* @__PURE__ */ React.createElement(\"title\", null, title),\n      /* @__PURE__ */ React.createElement(\n        \"path\",\n        {\n          fill: bgColor,\n          d: `M0,0 h${numCells}v${numCells}H0z`,\n          shapeRendering: \"crispEdges\"\n        }\n      ),\n      /* @__PURE__ */ React.createElement(\"path\", { fill: fgColor, d: fgPath, shapeRendering: \"crispEdges\" }),\n      image\n    );\n  }\n);\nQRCodeSVG.displayName = \"QRCodeSVG\";\nexport {\n  QRCodeCanvas,\n  QRCodeSVG\n};\n","import { X, QrCode } from '@phosphor-icons/react';\r\nimport { QRCodeSVG } from 'qrcode.react';\r\n\r\nconst InstructorQRModal = ({ isOpen, onClose }) => {\r\n    if (!isOpen) return null;\r\n    \r\n    // Get the instructor app URL\r\n    const instructorUrl = `${window.location.origin}/instructor`;\r\n\r\n    return (\r\n        <div \r\n            style={{\r\n                position: 'fixed',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                background: '#000000',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                zIndex: 9999\r\n            }}\r\n            onClick={onClose}\r\n        >\r\n            <div \r\n                style={{\r\n                    background: 'linear-gradient(145deg, #1a1a20, #0d0d12)',\r\n                    borderRadius: '24px',\r\n                    padding: '40px',\r\n                    maxWidth: '400px',\r\n                    width: '90%',\r\n                    textAlign: 'center',\r\n                    border: '1px solid rgba(212, 175, 55, 0.3)',\r\n                    boxShadow: '0 20px 60px rgba(0,0,0,0.5)'\r\n                }}\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                {/* Close Button */}\r\n                <button\r\n                    onClick={onClose}\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: '16px',\r\n                        right: '16px',\r\n                        background: 'rgba(255,255,255,0.1)',\r\n                        border: 'none',\r\n                        borderRadius: '50%',\r\n                        width: '36px',\r\n                        height: '36px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        cursor: 'pointer',\r\n                        color: 'white'\r\n                    }}\r\n                >\r\n                    <X size={20} />\r\n                </button>\r\n\r\n                {/* Header */}\r\n                <div style={{ marginBottom: '24px' }}>\r\n                    <QrCode size={48} color=\"var(--primary-gold)\" weight=\"duotone\" />\r\n                    <h2 style={{ color: 'var(--primary-gold)', margin: '12px 0 8px', fontSize: '1.8rem' }}>\r\n                         \r\n                    </h2>\r\n                </div>\r\n\r\n                {/* QR Code */}\r\n                <div style={{ \r\n                    background: 'white', \r\n                    padding: '15px', \r\n                    borderRadius: '16px', \r\n                    display: 'inline-block',\r\n                    marginBottom: '24px'\r\n                }}>\r\n                    <QRCodeSVG \r\n                        value={instructorUrl} \r\n                        size={250}\r\n                        fgColor=\"#000000\"\r\n                        bgColor=\"#ffffff\"\r\n                        level=\"M\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Instructions */}\r\n                <div style={{ \r\n                    fontSize: '1.2rem', \r\n                    color: 'rgba(255,255,255,0.9)',\r\n                    lineHeight: 1.5,\r\n                    fontWeight: 500\r\n                }}>\r\n                    QR   <br/>\r\n                    <span style={{ color: 'var(--primary-gold)', fontWeight: 700 }}>  4</span> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InstructorQRModal;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport Keypad from '../components/Keypad';\r\nimport { storageService } from '../services/storage';\r\nimport { auth } from '../firebase';\r\nimport { signInAnonymously } from 'firebase/auth';\r\nimport { getAllBranches, getBranchName } from '../studioConfig';\r\nimport logoWide from '../assets/logo_wide.png';\r\nimport rys200Logo from '../assets/RYS200.png';\r\nimport { getKSTHour, getDaysRemaining } from '../utils/dates';\r\nimport { logError } from '../services/modules/errorModule';\r\nimport { useNetworkMonitor } from '../hooks/useNetworkMonitor';\r\nimport { useTTS } from '../hooks/useTTS';\r\nimport { useNetwork } from '../context/NetworkContext';\r\nimport { usePWA } from '../hooks/usePWA';\r\nimport TopBar from '../components/checkin/TopBar';\r\n\r\n\r\n// [PERF]     (4  1, WebP )\r\nconst getBgForPeriod = (period) => {\r\n    switch (period) {\r\n        case 'morning': return import('../assets/bg_morning.webp');\r\n        case 'afternoon': return import('../assets/bg_afternoon.webp');\r\n        case 'evening': return import('../assets/bg_evening.webp');\r\n        default: return import('../assets/bg_night.webp');\r\n    }\r\n};\r\n// InstallGuideModal is now rendered inline in this file  no import needed\r\nimport InstructorQRModal from '../components/InstructorQRModal';\r\n\r\n\r\nconst CheckInPage = () => {\r\n    // [BUILD] Force CDN cache bust  v2026.02.22.15\r\n    const BUILD_VERSION = '2026.02.22.15';\r\n    console.log('[CheckInPage] Initialized version:', BUILD_VERSION);\r\n    const [pin, setPin] = useState('');\r\n    const [message, setMessage] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isReady, setIsReady] = useState(false); // [PERF] Cache ready state\r\n    const timerRef = useRef(null);\r\n    const [currentBranch, setCurrentBranch] = useState(() => storageService.getKioskBranch());\r\n    const [duplicateMembers, setDuplicateMembers] = useState([]);\r\n    const [showSelectionModal, setShowSelectionModal] = useState(false);\r\n    const [weather, setWeather] = useState(null);\r\n    const [isFullscreen, setIsFullscreen] = useState(false);\r\n    const [aiExperience, setAiExperience] = useState(null);\r\n    const [aiEnhancedMsg, setAiEnhancedMsg] = useState(null); // [AI]  AI   ( )\r\n    const [aiLoading, setAiLoading] = useState(false); // [AI] AI    \r\n    const [showKioskInstallGuide, setShowKioskInstallGuide] = useState(false);\r\n    const [showInstallGuide, setShowInstallGuide] = useState(false);\r\n    \r\n    // [NEW] Kiosk Notice & PWA Auto-Update\r\n    const [kioskSettings, setKioskSettings] = useState({ active: false, imageUrl: null });\r\n    const { needRefresh, updateServiceWorker } = usePWA();\r\n    const [selectedMemberId, setSelectedMemberId] = useState(null); // [UX] 2-Step Check-in: track selection\r\n    const [showInstructorQR, setShowInstructorQR] = useState(false);\r\n    const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n    const [keypadLocked, setKeypadLocked] = useState(false); // [FIX] Prevent ghost touches\r\n    const { isOnline, checkConnection } = useNetworkMonitor();\r\n    const { setIsOnline } = useNetwork(); // [NETWORK] GLOBAL Connectivity state\r\n    const { speak } = useTTS();\r\n\r\n    // [DUPLICATE]   \r\n    const recentCheckInsRef = useRef([]); // [{pin, timestamp}, ...]\r\n    const [showDuplicateConfirm, setShowDuplicateConfirm] = useState(false);\r\n    const [pendingPin, setPendingPin] = useState(null);\r\n    const duplicateAutoCloseRef = useRef(null);\r\n    const [duplicateTimer, setDuplicateTimer] = useState(10); // [UX] 10s countdown for auto-confirm\r\n    // [FIX] State to track if we are in a forced duplicate check-in flow\r\n    const [isDuplicateFlow, setIsDuplicateFlow] = useState(false);\r\n    // [FIX] Always use Korean for Check-in Page as requested\r\n    // const { language } = useLanguage();\r\n    const language = 'ko';\r\n\r\n    // [UX] Loading Message Logic\r\n    const [loadingMessage, setLoadingMessage] = useState('  ...');\r\n    \r\n    useEffect(() => {\r\n        if (!loading) {\r\n            setLoadingMessage('  ...');\r\n            return;\r\n        }\r\n\r\n        const timer1 = setTimeout(() => {\r\n            setLoadingMessage(' ...');\r\n        }, 5000);\r\n\r\n        const timer2 = setTimeout(() => {\r\n            setLoadingMessage('  .\\n    ');\r\n        }, 12000);\r\n\r\n        return () => {\r\n            clearTimeout(timer1);\r\n            clearTimeout(timer2);\r\n        };\r\n    }, [loading]);\r\n\r\n\r\n\r\n    // ... (Use a slow timer for background period updates) ...\r\n\r\n    // ...\r\n\r\n\r\n\r\n    // Use a slow timer for background period updates (every 5 minutes)\r\n    const [period, setPeriod] = useState(() => {\r\n        const hour = getKSTHour();\r\n        if (hour >= 6 && hour < 12) return 'morning';\r\n        if (hour >= 12 && hour < 17) return 'afternoon';\r\n        if (hour >= 17 && hour < 21) return 'evening';\r\n        return 'night';\r\n    });\r\n\r\n\r\n\r\n    // [PERF]     \r\n    const [bgImage, setBgImage] = useState(null);\r\n    useEffect(() => {\r\n        getBgForPeriod(period).then(m => setBgImage(m.default));\r\n    }, [period]);\r\n\r\n    // [New] Auto-reset input after 20s of inactivity\r\n    useEffect(() => {\r\n        if (pin.length > 0) {\r\n            const timer = setTimeout(() => {\r\n                setPin('');\r\n                setMessage(null);\r\n            }, 20000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [pin]);\r\n\r\n\r\n    const branches = getAllBranches();\r\n\r\n    useEffect(() => {\r\n        const handleBeforeInstallPrompt = (e) => {\r\n            e.preventDefault();\r\n            setDeferredPrompt(e);\r\n            window.deferredPrompt = e; // [FIX] Persist globally\r\n            console.log(\"Install prompt captured\");\r\n        };\r\n        window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n\r\n        // Check if already captured before mount\r\n        if (window.deferredPrompt) {\r\n            setDeferredPrompt(window.deferredPrompt);\r\n        }\r\n\r\n        return () => window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n    }, []);\r\n\r\n    // [NEW] Kiosk Notice Listener\r\n    useEffect(() => {\r\n        const unsubscribe = storageService.subscribeToKioskSettings((settings) => {\r\n            setKioskSettings(settings);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    // [NEW] Kiosk PWA Auto-Update when Idle & Update Available\r\n    useEffect(() => {\r\n        let idleTimer;\r\n        \r\n        const resetIdleTimer = () => {\r\n            clearTimeout(idleTimer);\r\n            if (needRefresh) {\r\n                // If update is available, wait 3 minutes of inactivity before applying it\r\n                idleTimer = setTimeout(() => {\r\n                    // Only update if no check-in is currently in progress\r\n                    if (!pin && !message && !loading && !showSelectionModal && !showDuplicateConfirm) {\r\n                        console.log('[Kiosk] Idle update triggered.');\r\n                        updateServiceWorker(true);\r\n                    }\r\n                }, 3 * 60 * 1000); // 3 minutes idle\r\n            }\r\n        };\r\n\r\n        window.addEventListener('touchstart', resetIdleTimer);\r\n        window.addEventListener('click', resetIdleTimer);\r\n        resetIdleTimer();\r\n\r\n        return () => {\r\n            clearTimeout(idleTimer);\r\n            window.removeEventListener('touchstart', resetIdleTimer);\r\n            window.removeEventListener('click', resetIdleTimer);\r\n        };\r\n    }, [needRefresh, pin, message, loading, showSelectionModal, showDuplicateConfirm, updateServiceWorker]);\r\n\r\n    // [New] Auto-close Install Guide after 5 minutes\r\n    useEffect(() => {\r\n        let timer;\r\n        if (showInstallGuide || showKioskInstallGuide) {\r\n            timer = setTimeout(() => {\r\n                // Assuming handleModalClose is a function that sets state to close modals\r\n                // The instruction implies adding isOpen={true} to the *rendered* component,\r\n                // not within this useEffect's callback.\r\n                // This useEffect is for auto-closing, so we should call the close functions.\r\n                setShowInstallGuide(false);\r\n                setShowKioskInstallGuide(false);\r\n            }, 300000); // 5 minutes\r\n        }\r\n        return () => clearTimeout(timer);\r\n    }, [showInstallGuide, showKioskInstallGuide]);\r\n\r\n\r\n\r\n    // Correctly proceeding with logic...\r\n\r\n    const handleInstallClick = () => {\r\n        const promptEvent = deferredPrompt || window.deferredPrompt;\r\n        if (promptEvent) {\r\n            promptEvent.prompt();\r\n            promptEvent.userChoice.then((choiceResult) => {\r\n                if (choiceResult.outcome === 'accepted') {\r\n                    console.log('User accepted the install prompt');\r\n                }\r\n                setDeferredPrompt(null);\r\n                window.deferredPrompt = null;\r\n            });\r\n        } else {\r\n            setShowInstallGuide(true);\r\n        }\r\n    };\r\n\r\n    const fetchWeatherAndAI = async () => {\r\n        try {\r\n            const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=37.5665&longitude=126.9780&current_weather=true');\r\n            const data = await res.json();\r\n            const currentWeatherData = data.current_weather;\r\n            setWeather(currentWeatherData);\r\n            // AI standby loading will be handled by loadAIExperience which checks cache\r\n            loadAIExperience(\" \", null, null, currentWeatherData);\r\n        } catch (err) {\r\n            console.log('Weather fetch failed', err);\r\n            loadAIExperience();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // [KIOSK MODE] Initialize with cache warming for maximum speed\r\n        const initKiosk = async () => {\r\n            console.time('[CheckIn] Total Init');\r\n            \r\n            // [STABILITY] Get anonymous auth to ensure Firestore write permissions for logging\r\n            try {\r\n                await signInAnonymously(auth);\r\n                console.log('[CheckIn]  Anonymous auth successful');\r\n            } catch (authErr) {\r\n                console.warn('[CheckIn] Anonymous auth failed:', authErr.message);\r\n            }\r\n\r\n            await storageService.initialize({ mode: 'kiosk' });\r\n            setIsReady(true);\r\n            console.timeEnd('[CheckIn] Total Init');\r\n            console.log('[CheckIn]  Kiosk ready - keypad enabled');\r\n        };\r\n        initKiosk();\r\n\r\n        // Initial fetch (weather & AI - can run in parallel)\r\n        fetchWeatherAndAI();\r\n\r\n        // Background / Period Slow Timer\r\n        const periodTimer = setInterval(() => {\r\n            const hour = getKSTHour();\r\n            let newPeriod = 'night';\r\n            if (hour >= 6 && hour < 12) newPeriod = 'morning';\r\n            else if (hour >= 12 && hour < 17) newPeriod = 'afternoon';\r\n            else if (hour >= 17 && hour < 21) newPeriod = 'evening';\r\n            setPeriod(newPeriod);\r\n        }, 5 * 60 * 1000); // 5 minutes\r\n\r\n        // Auto-refresh Weather & AI Standby Message every 60 minutes (User requested 1-2h)\r\n        const refreshTimer = setInterval(() => {\r\n            console.log(\"Refreshing Weather & AI context (Hourly)...\");\r\n            fetchWeatherAndAI();\r\n        }, 60 * 60 * 1000);\r\n\r\n\r\n        //    (   / )\r\n        const handleFirstInteraction = () => {\r\n            if (!document.fullscreenElement) {\r\n                document.documentElement.requestFullscreen().catch(e => console.log(\"Fullscreen auto-entry blocked\", e));\r\n                setIsFullscreen(true);\r\n            }\r\n            window.removeEventListener('click', handleFirstInteraction);\r\n            window.removeEventListener('touchstart', handleFirstInteraction);\r\n        };\r\n\r\n        window.addEventListener('click', handleFirstInteraction);\r\n        window.addEventListener('touchstart', handleFirstInteraction);\r\n\r\n        return () => {\r\n            clearInterval(periodTimer);\r\n            clearInterval(refreshTimer);\r\n            if (duplicateAutoCloseRef.current) clearInterval(duplicateAutoCloseRef.current); //  Memory Leak Fix: Zombie Timer Destruction\r\n            window.removeEventListener('click', handleFirstInteraction);\r\n            window.removeEventListener('touchstart', handleFirstInteraction);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // Reload AI when significant state changes\r\n    useEffect(() => {\r\n        // [STABILITY] Don't clear aiExperience here (prevents flickering)\r\n        // loadAIExperience will handle the \"is loading\" state internally ONLY if no cache exists\r\n        loadAIExperience(\" \", null, null, weather);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [language, currentBranch]);\r\n\r\n    // [NETWORK] Monitor online/offline status handled by NetworkContext\r\n\r\n\r\n    // ============================================================\r\n    // [ALWAYS-ON GUARD SYSTEM]    \r\n    // ============================================================\r\n\r\n    // [GUARD 1]    (visibilitychange)\r\n    //       +    \r\n    useEffect(() => {\r\n        let lastActiveTime = Date.now();\r\n\r\n        const handleVisibilityChange = async () => {\r\n            if (document.visibilityState === 'visible') {\r\n                const sleepDuration = Date.now() - lastActiveTime;\r\n                const sleepMinutes = Math.round(sleepDuration / 60000);\r\n                console.log(`[AlwaysOn] Tab woke up after ${sleepMinutes}m`);\r\n\r\n                // 5     (Firestore  )\r\n                if (sleepDuration > 5 * 60 * 1000) {\r\n                    console.log('[AlwaysOn] Long sleep detected, reloading page...');\r\n                    window.location.reload();\r\n                    return;\r\n                }\r\n\r\n                // 1    \r\n                if (sleepDuration > 60 * 1000) {\r\n                    try {\r\n                        console.log('[AlwaysOn] Refreshing cache after short sleep...');\r\n                        await storageService.loadAllMembers();\r\n                        fetchWeatherAndAI();\r\n                    } catch (e) {\r\n                        console.warn('[AlwaysOn] Cache refresh failed:', e);\r\n                    }\r\n                }\r\n            } else {\r\n                lastActiveTime = Date.now();\r\n            }\r\n        };\r\n\r\n        document.addEventListener('visibilitychange', handleVisibilityChange);\r\n        return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // [GUARD 2]    (Wake Lock API)\r\n    //     \r\n    useEffect(() => {\r\n        let wakeLock = null;\r\n\r\n        const requestWakeLock = async () => {\r\n            try {\r\n                if ('wakeLock' in navigator) {\r\n                    wakeLock = await navigator.wakeLock.request('screen');\r\n                    console.log('[AlwaysOn] Wake Lock acquired ');\r\n                    wakeLock.addEventListener('release', () => {\r\n                        console.log('[AlwaysOn] Wake Lock released, re-acquiring...');\r\n                        //  \r\n                        setTimeout(requestWakeLock, 1000);\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                console.log('[AlwaysOn] Wake Lock not supported or failed:', e.message);\r\n            }\r\n        };\r\n\r\n        requestWakeLock();\r\n\r\n        // visibilitychange  Wake Lock  (   )\r\n        const handleWakeLockVisibility = () => {\r\n            if (document.visibilityState === 'visible') {\r\n                requestWakeLock();\r\n            }\r\n        };\r\n        document.addEventListener('visibilitychange', handleWakeLockVisibility);\r\n\r\n        return () => {\r\n            if (wakeLock) wakeLock.release().catch(() => {});\r\n            document.removeEventListener('visibilitychange', handleWakeLockVisibility);\r\n        };\r\n    }, []);\r\n\r\n    // [GUARD 3]    (Heartbeat)\r\n    // 3   ,    \r\n    useEffect(() => {\r\n        let heartbeatCount = 0;\r\n\r\n        const heartbeat = setInterval(() => {\r\n            heartbeatCount++;\r\n            const rootEl = document.getElementById('root');\r\n\r\n            // DOM    \r\n            if (!rootEl || !rootEl.children || rootEl.children.length === 0) {\r\n                console.error('[AlwaysOn] Heartbeat: DOM dead, reloading...');\r\n                window.location.reload();\r\n                return;\r\n            }\r\n\r\n            //  30(~90)   \r\n            if (heartbeatCount % 30 === 0) {\r\n                console.log('[AlwaysOn] Heartbeat: Preventive cache refresh');\r\n                storageService.loadAllMembers().catch(() => {});\r\n            }\r\n        }, 3 * 60 * 1000); // 3\r\n\r\n        return () => clearInterval(heartbeat);\r\n    }, []);\r\n\r\n    const loadAIExperience = async (memberName = \" \", credits = null, remainingDays = null, currentWeatherData = null) => {\r\n        const isStandby = memberName === \" \" || memberName === \"visitor\";\r\n\r\n        try {\r\n            const now = new Date();\r\n            const hour = getKSTHour();\r\n            const days = ['', '', '', '', '', '', ''];\r\n            const day = days[now.getDay()];\r\n\r\n            // [BUSINESS HOURS] Only use AI between 7am-11pm\r\n            const isBusinessHours = hour >= 7 && hour < 23;\r\n\r\n            if (!isBusinessHours) {\r\n                // Use fixed message outside business hours\r\n                const fallbackMsg = \"      .\";\r\n                setAiExperience({\r\n                    message: fallbackMsg,\r\n                    bgTheme: \"dawn\",\r\n                    colorTone: \"#FDFCF0\",\r\n                    isFallback: true\r\n                });\r\n                return;\r\n            }\r\n\r\n            // Find upcoming class to inform AI\r\n            const classInfo = await storageService.getCurrentClass(currentBranch);\r\n            const classTitle = classInfo?.title || \"\";\r\n            const weatherCode = currentWeatherData?.weathercode || weather?.weathercode || '0';\r\n\r\n            // [STATIC STANDBY LOGIC] Context-Aware Message Generator\r\n            if (isStandby) {\r\n                let staticMsg = \"\";\r\n\r\n                // 1. Weather Context (Priority 1)\r\n                const wCode = parseInt(weatherCode);\r\n                const isRainy = wCode >= 51 && wCode <= 67 || wCode >= 80 && wCode <= 82;\r\n                const isSnowy = wCode >= 71 && wCode <= 77 || wCode >= 85 && wCode <= 86;\r\n\r\n                if (isRainy && Math.random() > 0.3) {\r\n                    const rainMsgs = [\r\n                        \"  ,    .\",\r\n                        \"      .\",\r\n                        \"    .\",\r\n                        \"     .\",\r\n                        \" ,  .\"\r\n                    ];\r\n                    staticMsg = rainMsgs[Math.floor(Math.random() * rainMsgs.length)];\r\n                } else if (isSnowy && Math.random() > 0.3) {\r\n                    const snowMsgs = [\r\n                        \"  ,   .\",\r\n                        \"  ,   .\",\r\n                        \"     .\",\r\n                        \"    .\"\r\n                    ];\r\n                    staticMsg = snowMsgs[Math.floor(Math.random() * snowMsgs.length)];\r\n                }\r\n\r\n                // 2. Class Context (Priority 2)\r\n                if (!staticMsg && classTitle && classTitle !== \"\" && Math.random() > 0.5) {\r\n                    if (classTitle.includes(\"\")) {\r\n                        const flyingMsgs = [\r\n                            \"    .\",\r\n                            \"     .\",\r\n                            \" ,    .\",\r\n                            \" ,   .\"\r\n                        ];\r\n                        staticMsg = flyingMsgs[Math.floor(Math.random() * flyingMsgs.length)];\r\n                    } else if (classTitle.includes(\"\") || classTitle.includes(\"\")) {\r\n                        const healingMsgs = [\r\n                            \"    .\",\r\n                            \"   .\",\r\n                            \"    ,  .\",\r\n                            \"     .\"\r\n                        ];\r\n                        staticMsg = healingMsgs[Math.floor(Math.random() * healingMsgs.length)];\r\n                    } else if (classTitle.includes(\"\") || classTitle.includes(\"\")) {\r\n                        const flowMsgs = [\r\n                            \"     .\",\r\n                            \"   .\",\r\n                            \"    .\",\r\n                            \"    .\"\r\n                        ];\r\n                        staticMsg = flowMsgs[Math.floor(Math.random() * flowMsgs.length)];\r\n                    }\r\n                }\r\n\r\n                // 3. Time Context (Priority 3)\r\n                if (!staticMsg) {\r\n                    let timeMsgs = [];\r\n                    if (hour >= 6 && hour < 11) {\r\n                        timeMsgs = [\r\n                            \" ,   .\",\r\n                            \" ,    .\",\r\n                            \"    .\",\r\n                            \"    .\",\r\n                            \"    .\",\r\n                            \"      .\"\r\n                        ];\r\n                    } else if (hour >= 11 && hour < 14) {\r\n                        timeMsgs = [\r\n                            \"  ,  .\",\r\n                            \"    .\",\r\n                            \"  ,    .\",\r\n                            \" ,    .\",\r\n                            \"    .\"\r\n                        ];\r\n                    } else if (hour >= 14 && hour < 18) {\r\n                        timeMsgs = [\r\n                            \"    .\",\r\n                            \" ,     .\",\r\n                            \"     .\",\r\n                            \"  ,   .\",\r\n                            \"    .\"\r\n                        ];\r\n                    } else if (hour >= 18 && hour < 21) {\r\n                        timeMsgs = [\r\n                            \"    .\",\r\n                            \" ,    .\",\r\n                            \"    .\",\r\n                            \"    .\",\r\n                            \" ,    .\",\r\n                            \"     .\"\r\n                        ];\r\n                    } else {\r\n                        timeMsgs = [\r\n                            \" ,    .\",\r\n                            \" ,    .\",\r\n                            \"     .\",\r\n                            \"     .\",\r\n                            \"    .\"\r\n                        ];\r\n                    }\r\n                    staticMsg = timeMsgs[Math.floor(Math.random() * timeMsgs.length)];\r\n                }\r\n\r\n                // [INSTANT]     ( )\r\n                setAiExperience({\r\n                    message: staticMsg,\r\n                    bgTheme: (hour >= 6 && hour < 18) ? \"day\" : \"night\",\r\n                    colorTone: \"#FDFCF0\",\r\n                    isFallback: true\r\n                });\r\n\r\n                // [AI ENHANCEMENT]  AI   \r\n                setAiLoading(true);\r\n                storageService.getAIExperience(\r\n                    memberName, 0, day, hour, classTitle,\r\n                    currentWeatherData || weather,\r\n                    null, null, language, null, 'visitor', 'checkin'\r\n                ).then(aiResult => {\r\n                    if (aiResult && aiResult.message && !aiResult.isFallback) {\r\n                        let cleanMsg = aiResult.message\r\n                            .replace(/[.]?\\s*?/gi, '')\r\n                            .replace(/^.*,\\s*/, '')\r\n                            .trim();\r\n                        if (cleanMsg && cleanMsg !== staticMsg) {\r\n                            setAiEnhancedMsg(cleanMsg);\r\n                        }\r\n                        //  \r\n                        const cacheKey = `ai_standby_${currentBranch}_${hour}_${day}_${classTitle}_${weatherCode}`;\r\n                        localStorage.setItem('ai_standby_cache', JSON.stringify({ key: cacheKey, data: aiResult }));\r\n                    }\r\n                }).catch(err => {\r\n                    console.warn('[AI Standby] Background AI failed:', err);\r\n                }).finally(() => {\r\n                    setAiLoading(false);\r\n                });\r\n                return; //    (   AI )\r\n            }\r\n\r\n            const exp = await storageService.getAIExperience(\r\n                memberName,\r\n                0,\r\n                day,\r\n                hour,\r\n                classTitle,\r\n                currentWeatherData || weather,\r\n                credits,\r\n                remainingDays,\r\n                language,\r\n                null,\r\n                isStandby ? 'visitor' : 'member',\r\n                'checkin'\r\n            );\r\n\r\n            if (exp) {\r\n                // Aggressively remove 'Namaste' and any trailing variations\r\n                let cleanMsg = \"\";\r\n                if (exp.message) {\r\n                    cleanMsg = exp.message.replace(/[.]?\\s*?/gi, '');\r\n                    cleanMsg = cleanMsg.replace(/^.*,\\s*/, ''); // Remove \"Name,\" prefix if exists\r\n                    cleanMsg = cleanMsg.trim();\r\n                }\r\n\r\n                const finalData = {\r\n                    ...exp,\r\n                    message: cleanMsg || exp.message\r\n                };\r\n\r\n                setAiExperience(finalData);\r\n\r\n                // [CACHE SAVE]\r\n                if (isStandby) {\r\n                    const cacheKey = `ai_standby_${currentBranch}_${hour}_${day}_${classTitle}_${weatherCode}`;\r\n                    localStorage.setItem('ai_standby_cache', JSON.stringify({ key: cacheKey, data: finalData }));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"AI Experience load failed\", e);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const handleKeyPress = (num) => {\r\n        setPin(prev => {\r\n            // [NETWORK]    ( )     (Just-in-Time Check)\r\n            //         \r\n            if (prev.length === 0) {\r\n                console.log('[CheckIn] User started typing - Triggering background network check');\r\n                checkConnection().catch(e => console.debug('[CheckIn] Background check failed', e));\r\n            }\r\n\r\n            if (prev.length < 4) {\r\n                const newPin = prev + num;\r\n                if (newPin.length === 4) {\r\n                    // Immediate submission for performance\r\n                    handleSubmit(newPin);\r\n                }\r\n                return newPin;\r\n            }\r\n            return prev;\r\n        });\r\n    };\r\n\r\n    const handleClear = () => {\r\n        setPin(prev => prev.slice(0, -1));\r\n    };\r\n\r\n    const handleQRInteraction = (e) => {\r\n        // [FIX] Robust touch handling to prevent \"open then close\" ghost clicks\r\n        if (e.type === 'touchstart') {\r\n            e.preventDefault(); // Stop mouse emulation\r\n        }\r\n        e.stopPropagation(); // Stop bubbling\r\n\r\n        // Toggle logic or Ensure Open\r\n        // If modal logic is buggy (auto-close), force it open with a small delay to bypass race conditions\r\n        setTimeout(() => setShowInstallGuide(true), 10);\r\n    };\r\n\r\n    const handleBranchChange = (branchId) => {\r\n        setCurrentBranch(branchId);\r\n        storageService.setKioskBranch(branchId);\r\n    };\r\n\r\n    const toggleFullscreen = () => {\r\n        if (!document.fullscreenElement) {\r\n            document.documentElement.requestFullscreen().catch(e => {\r\n                console.error(`Error attempting to enable full-screen mode: ${e.message}`);\r\n            });\r\n            setIsFullscreen(true);\r\n        } else {\r\n            if (document.exitFullscreen) {\r\n                document.exitFullscreen();\r\n                setIsFullscreen(false);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // [DUPLICATE]       \r\n    const proceedWithCheckIn = async (pinCode, isDuplicateConfirm = false) => {\r\n        console.log(`[CheckIn] Starting submission for PIN: ${pinCode}`);\r\n        setLoading(true);\r\n        try {\r\n            const members = await storageService.findMembersByPhone(pinCode);\r\n            console.log(`[CheckIn] Members found: ${members.length}`);\r\n\r\n            if (members.length === 0) {\r\n                setMessage({ type: 'error', text: '    .' });\r\n                speak(\"error\");\r\n                setPin('');\r\n                startDismissTimer(3000);\r\n                setIsDuplicateFlow(false); // Reset flow\r\n                return;\r\n            }\r\n\r\n            // [FIX] Set flow state if confirmed\r\n            if (isDuplicateConfirm) {\r\n                setIsDuplicateFlow(true);\r\n            } else {\r\n                setIsDuplicateFlow(false);\r\n            }\r\n\r\n            if (members.length > 1) {\r\n                console.log(`[CheckIn] Multiple members found, showing selection modal`);\r\n                setDuplicateMembers(members);\r\n                setShowSelectionModal(true);\r\n                return;\r\n            }\r\n\r\n            const member = members[0];\r\n            console.log(`[CheckIn] Single member selected: ${member.name} (${member.id}), force: ${isDuplicateConfirm}`);\r\n\r\n            const result = await storageService.checkInById(member.id, currentBranch, isDuplicateConfirm);\r\n\r\n            if (result.success) {\r\n                // [NETWORK] If success and NOT offline, ensure we are Online\r\n                if (!result.isOffline) {\r\n                    setIsOnline(true);\r\n                } else {\r\n                    // [NETWORK] Sync status if we fell back to offline\r\n                    setIsOnline(false);\r\n                }\r\n\r\n                if (result.attendanceStatus === 'denied') {\r\n                    handleCheckInError(`   .`);\r\n                } else {\r\n                    //     \r\n                    recentCheckInsRef.current.push({ pin: pinCode, timestamp: Date.now() });\r\n                    showCheckInSuccess(result, isDuplicateConfirm);\r\n                }\r\n            } else {\r\n                handleCheckInError(result.message);\r\n            }\r\n        } catch (err) {\r\n            handleCheckInError(err.message || String(err));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // [DUPLICATE]   \" \" \r\n    const confirmDuplicateCheckIn = async () => {\r\n        if (duplicateAutoCloseRef.current) clearInterval(duplicateAutoCloseRef.current);\r\n        setShowDuplicateConfirm(false);\r\n        if (pendingPin) {\r\n            await proceedWithCheckIn(pendingPin, true);\r\n            setPendingPin(null);\r\n        }\r\n    };\r\n\r\n    // [DUPLICATE]   \"\" \r\n    const cancelDuplicateCheckIn = () => {\r\n        if (duplicateAutoCloseRef.current) clearInterval(duplicateAutoCloseRef.current);\r\n        setShowDuplicateConfirm(false);\r\n        setPendingPin(null);\r\n        setPin('');\r\n        setLoading(false);\r\n        setDuplicateTimer(10); // Reset\r\n    };\r\n\r\n    const handleSubmit = async (code) => {\r\n        const pinCode = code || pin;\r\n        if (pinCode.length !== 4 || loading) return;\r\n\r\n        // [NETWORK] We now support offline check-in via storageService fallback\r\n        // The navigator.onLine check is no longer a blocker. \r\n        // We will show a warning but allow the user to proceed.\r\n        if (!navigator.onLine) {\r\n            console.log('[CheckIn] Proceeding in offline mode...');\r\n        }\r\n\r\n        // [DUPLICATE] 60   PIN  \r\n        const now = Date.now();\r\n        const DUPLICATE_WINDOW_MS = 600000; // 10\r\n        //   \r\n        recentCheckInsRef.current = recentCheckInsRef.current.filter(\r\n            entry => (now - entry.timestamp) < DUPLICATE_WINDOW_MS\r\n        );\r\n        const isDuplicate = recentCheckInsRef.current.some(entry => entry.pin === pinCode);\r\n\r\n        if (isDuplicate) {\r\n            console.log(`[CheckIn] Duplicate PIN detected: ${pinCode} (within ${DUPLICATE_WINDOW_MS/1000}s)`);\r\n            setPendingPin(pinCode);\r\n            setShowDuplicateConfirm(true);\r\n            setPin('');\r\n            \r\n            // [UX] Start 10s Countdown for Auto-Confirm (Request: \"If I do nothing, attendance should be checked\")\r\n            setDuplicateTimer(10);\r\n            \r\n            // Clear existing timer if any\r\n            if (duplicateAutoCloseRef.current) clearInterval(duplicateAutoCloseRef.current);\r\n\r\n            duplicateAutoCloseRef.current = setInterval(() => {\r\n                setDuplicateTimer(prev => {\r\n                    if (prev <= 1) {\r\n                        clearInterval(duplicateAutoCloseRef.current);\r\n                        // [UX] Auto-Confirm Logic\r\n                        console.log(\"Auto-confirming duplicate check-in due to timeout\");\r\n                        // We need to trigger confirmDuplicateCheckIn, but we can't call it directly inside state update easily\r\n                        // So we use an effect or just call a wrapped version.\r\n                        // However, duplicatePin state acts as a trigger.\r\n                        // Let's call a separate function or use useEffect to watch timer?\r\n                        // Actually, simpler to just trigger it here if we refactor confirmDuplicateCheckIn to not depend on event.\r\n                        // Check below for confirmDuplicateCheckIn implementation. It uses pendingPin.\r\n                        return 0; \r\n                    }\r\n                    return prev - 1;\r\n                });\r\n            }, 1000);\r\n\r\n            return;\r\n        }\r\n\r\n        await proceedWithCheckIn(pinCode);\r\n    };\r\n\r\n    // [UX] Watch for timer reaching 0 to trigger auto-confirm\r\n    useEffect(() => {\r\n        if (duplicateTimer === 0 && showDuplicateConfirm && pendingPin) {\r\n            confirmDuplicateCheckIn();\r\n        }\r\n    }, [duplicateTimer, showDuplicateConfirm, pendingPin]);\r\n\r\n    const handleCheckInError = (errorStr) => {\r\n        console.error(\"[CheckIn] Error caught:\", errorStr);\r\n        \r\n        // [STABILITY] Log error to Firestore for tracking (e.g., Da-sol Joung's case)\r\n        logError(new Error(errorStr), { \r\n            context: 'Kiosk CheckIn', \r\n            branch: currentBranch,\r\n            pin: pin.slice(-4), // Only log last 4 digits for privacy if possible, but here 'pin' is usually last 4 anyway\r\n            pathname: window.location.pathname\r\n        });\r\n\r\n        let displayMsg = '    .';\r\n        const lowerErr = errorStr.toLowerCase();\r\n\r\n        // [NETWORK] Network-specific error messages (check first for better UX)\r\n        if (lowerErr.includes(' ') || lowerErr.includes('timeout')) {\r\n            displayMsg = '     -  ';\r\n        } else if (lowerErr.includes('network') || lowerErr.includes('fetch') || lowerErr.includes('failed to fetch')) {\r\n            displayMsg = '   -  ';\r\n        } else if (lowerErr.includes(\"insufficient credits\")) {\r\n            displayMsg = \"  . (0)\";\r\n        } else if (lowerErr.includes(\"membership expired\") || lowerErr.includes(\"expired\") || lowerErr.includes(\"\")) {\r\n            const dateMatch = errorStr.match(/\\((.*?)\\)/);\r\n            const date = dateMatch ? dateMatch[1] : '';\r\n            displayMsg = date ? `   . (~${date})` : \"   .\";\r\n        } else if (lowerErr.includes(\"not-found\")) {\r\n            displayMsg = \"    .\";\r\n        } else if (lowerErr.includes(\"infinity\")) { // [FIX] Handle 'Infinity' error specifically\r\n            displayMsg = \"  . (Infinity)\";\r\n            console.error(\"[CheckIn] Critical Data Error: Infinity detected\");\r\n        } else if (lowerErr.includes(\"\")) {\r\n             displayMsg = ` ${errorStr}`; // Special icon for denial\r\n        } else {\r\n            // [FIX] Prevent showing \"Infinity\" in raw error messages\r\n            if (errorStr.includes(\"Infinity\")) {\r\n                 displayMsg = \"  . (Infinity)\";\r\n            } else {\r\n                 displayMsg += ` (${errorStr})`;\r\n            }\r\n        }\r\n\r\n        if (lowerErr.includes(\"insufficient credits\") || lowerErr.includes(\"expired\") || lowerErr.includes(\"\") || lowerErr.includes(\"\") || lowerErr.includes(\"not-found\")) {\r\n             speak(\"denied\"); // [TTS] Denied Feedback\r\n        }\r\n\r\n        setMessage({ type: 'error', text: displayMsg });\r\n        setPin('');\r\n        startDismissTimer(3000);\r\n    };\r\n\r\n    const handleSelectMember = async (memberId) => {\r\n        if (loading) return;\r\n        setShowSelectionModal(false);\r\n        setLoading(true);\r\n        try {\r\n            const member = duplicateMembers.find(m => m.id === memberId);\r\n            console.log(`[CheckIn] Selected member from modal: ${member?.name} (${memberId})`);\r\n\r\n            // [FIX] Pass force flag if in duplicate flow\r\n            const result = await storageService.checkInById(memberId, currentBranch, isDuplicateFlow);\r\n            console.log(`[CheckIn] SelectMember Result: ${result.success ? 'Success' : 'Fail'}`);\r\n\r\n            if (result.success) {\r\n                 // [FIX] Check for DENIED status even if success=true\r\n                 if (result.attendanceStatus === 'denied') {\r\n                    const reason = result.denialReason === 'expired' ? ' ' : ' ';\r\n                    handleCheckInError(` . (${reason})`);\r\n                } else {\r\n                    // [NETWORK] Sync status if we fell back to offline\r\n                    if (result.isOffline) {\r\n                        setIsOnline(false);\r\n                    } else {\r\n                        setIsOnline(true);\r\n                    }\r\n                    showCheckInSuccess(result);\r\n                }\r\n            } else {\r\n                handleCheckInError(result.message);\r\n            }\r\n        } catch (err) {\r\n            handleCheckInError(err.message || String(err));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const showCheckInSuccess = (result, isDuplicate = false) => {\r\n        console.log(`[CheckIn] Showing success for: ${result.member?.name}, isDuplicate: ${isDuplicate}`);\r\n\r\n        // [PERSONALIZED FORMULA] No AI, just logic\r\n        const member = result.member;\r\n        const streak = member.streak || 0;\r\n        const credits = member.credits || 0;\r\n        const attCount = member.attendanceCount || 0;\r\n        const today = new Date();\r\n        const endDate = member.endDate ? new Date(member.endDate) : null;\r\n        let daysLeft = 999;\r\n\r\n        if (endDate) {\r\n            today.setHours(0, 0, 0, 0);\r\n            endDate.setHours(0, 0, 0, 0);\r\n            daysLeft = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));\r\n            if (!Number.isFinite(daysLeft)) daysLeft = 999; // [FIX] Prevent Infinity\r\n        }\r\n\r\n        let finalMsg = \"  .\";\r\n\r\n        // EXPIRY Check first (before duplicate msg)\r\n        const isExpiredPeriod = daysLeft < 0;\r\n        // [FIX] credits === 0 means they just successfully used their LAST session. It's only an error if strictly < 0.\r\n        const isExpiredCredits = credits < 0 && Number.isFinite(credits);\r\n        const isLastSessionOrDay = (credits === 0 && Number.isFinite(credits)) || daysLeft === 0;\r\n\r\n        // [TTS] Feedback logic\r\n        if (isExpiredPeriod || isExpiredCredits) {\r\n            speak(\"denied\"); \r\n        } else if (isLastSessionOrDay && !result.isDuplicate) {\r\n            speak(\"last_session\");\r\n        } else if (result.isDuplicate) {\r\n            speak(\"duplicate\");\r\n        } else {\r\n            speak(\"success\"); \r\n        }\r\n\r\n        // [New] Duplicate Check-in Feedback\r\n        if (result.isDuplicate) {\r\n             finalMsg = \"  .\";\r\n        } else if (isExpiredPeriod && isExpiredCredits) {\r\n            finalMsg = \"   .\";\r\n        } else if (isExpiredPeriod) {\r\n            finalMsg = \" .\";\r\n        } else if (isExpiredCredits) {\r\n            finalMsg = \"  .\";\r\n        } else if (isLastSessionOrDay) {\r\n            finalMsg = \"     .\";\r\n        // Priority Logic matches context\r\n        } else if (streak >= 10 && Number.isFinite(streak)) { // [FIX] Check finite\r\n            finalMsg = `${streak}   .  !`;\r\n        } else if (streak >= 3 && Number.isFinite(streak)) { // [FIX] Check finite\r\n            finalMsg = `${streak}   .  .`;\r\n        } else if (daysLeft <= 7 && daysLeft >= 0) {\r\n            finalMsg = `  ${daysLeft} .`;\r\n        } else if (credits <= 3 && credits > 0 && Number.isFinite(credits)) { // [FIX] Check finite\r\n            finalMsg = `  ${credits} .`;\r\n        } else if (attCount >= 100) {\r\n            finalMsg = `${attCount} .    .`;\r\n        } else if (attCount === 1) {\r\n            finalMsg = \"   !   .\";\r\n        } else {\r\n            // Random Fallback\r\n            const fallbacks = [\r\n                \"    .\",\r\n                \"    .\",\r\n                \"   .\",\r\n                \"   .\",\r\n                \"    .\"\r\n            ];\r\n            finalMsg = fallbacks[Math.floor(Math.random() * fallbacks.length)];\r\n        }\r\n\r\n        // [AI ENHANCEMENT]     + AI  \r\n        setAiEnhancedMsg(null); // \r\n        setAiLoading(true); // AI  \r\n\r\n            setMessage({\r\n                type: 'success', // [UX] Always show success style\r\n                member: result.member,\r\n                text: `${result.member.name}`,\r\n                subText: finalMsg, // [UX] No special offline text\r\n            details: (\r\n                <div className=\"attendance-info\" style={{\r\n                    marginTop: '30px',\r\n                    padding: '30px 40px',\r\n                    background: 'rgba(255,255,255,0.05)',\r\n                    borderRadius: '24px',\r\n                    border: '1px solid rgba(255,255,255,0.1)'\r\n                }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '30px' }}>\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            <div style={{ fontSize: '1.1rem', opacity: 0.6, marginBottom: '6px' }}> </div>\r\n                            <div style={{ fontSize: '2.8rem', fontWeight: 800, color: 'var(--primary-gold)' }}>\r\n                                {result.member.credits}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div style={{ width: '1px', height: '50px', background: 'rgba(255,255,255,0.1)' }} />\r\n\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            <div style={{ fontSize: '1.1rem', opacity: 0.6, marginBottom: '6px' }}> </div>\r\n                            <div style={{ fontSize: '2.8rem', fontWeight: 800, color: '#4CAF50' }}>\r\n                                {(() => {\r\n                                    if (!result.member.endDate || result.member.endDate === 'TBD') {\r\n                                        return <span style={{ fontSize: '1.8rem' }}> </span>;\r\n                                    }\r\n                                    if (result.member.endDate === 'unlimited') {\r\n                                        return <span style={{ fontSize: '1.8rem' }}></span>;\r\n                                    }\r\n                                    const days = getDaysRemaining(result.member.endDate);\r\n                                    if (days === null) return <span style={{ fontSize: '1.8rem' }}> </span>;\r\n                                    if (days < 0) return <span style={{ color: '#FF5252' }}></span>;\r\n                                    return `D-${days}`;\r\n                                })()}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/*   :   */}\r\n                        <div style={{ width: '1px', height: '40px', background: 'rgba(255,255,255,0.1)', marginLeft: '10px' }} />\r\n                        \r\n                        <button \r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleModalClose(() => setMessage(null));\r\n                            }}\r\n                            className=\"interactive\"\r\n                            style={{\r\n                                background: 'var(--primary-gold)',\r\n                                color: 'black',\r\n                                border: 'none',\r\n                                padding: '15px 35px',\r\n                                borderRadius: '15px',\r\n                                fontSize: '1.3rem',\r\n                                fontWeight: '900',\r\n                                cursor: 'pointer',\r\n                                transition: 'all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)',\r\n                                boxShadow: '0 8px 25px var(--primary-gold-glow)',\r\n                                minWidth: '120px',\r\n                                marginLeft: '10px'\r\n                            }}\r\n                        >\r\n                            \r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        });\r\n        setPin('');\r\n        startDismissTimer(12000); // [EXTENDED] 7s -> 12s per user request\r\n\r\n        // [AI]  AI   \r\n        const now2 = new Date();\r\n        const dayNames = ['', '', '', '', '', '', ''];\r\n        storageService.getAIExperience(\r\n            member.name, attCount, dayNames[now2.getDay()], now2.getHours(),\r\n            null, weather, credits, daysLeft, language,\r\n            { streak, lastAttendanceAt: null },\r\n            'member', 'checkin'\r\n        ).then(aiResult => {\r\n            if (aiResult && aiResult.message && !aiResult.isFallback) {\r\n                let cleanMsg = aiResult.message\r\n                    .replace(/[.]?\\s*?/gi, '')\r\n                    .replace(/^.*,\\s*/, '')\r\n                    .trim();\r\n                if (cleanMsg) {\r\n                    setAiEnhancedMsg(cleanMsg);\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            console.warn('[AI CheckIn] Background AI failed:', err);\r\n        }).finally(() => {\r\n            setAiLoading(false);\r\n        });\r\n    };\r\n\r\n    const startDismissTimer = (duration = 5000) => {\r\n        if (timerRef.current) clearTimeout(timerRef.current);\r\n        timerRef.current = setTimeout(() => {\r\n            handleModalClose(() => setMessage(null));\r\n            setPin(''); // [FIX] Ensure PIN is clear when returning to standby\r\n        }, duration);\r\n    };\r\n\r\n    // [FIX] Centralized modal close handler with ghost touch prevention\r\n    const handleModalClose = (closeAction) => {\r\n        setKeypadLocked(true);\r\n        closeAction();\r\n        setPin(''); // [FIX]     PIN \r\n        setAiEnhancedMsg(null); // [AI]   \r\n        setAiLoading(false); // [AI]   \r\n        // Buffer time to ignore any lingering touch/click events (ghost touches)\r\n        setTimeout(() => {\r\n            setKeypadLocked(false);\r\n        }, 350);\r\n    };\r\n\r\n    // [UX] Auto-close Selection Modal after 30s\r\n    useEffect(() => {\r\n        let timer;\r\n        if (showSelectionModal) {\r\n            timer = setTimeout(() => {\r\n                handleModalClose(() => setShowSelectionModal(false));\r\n            }, 30000); // 30s timeout\r\n        }\r\n        return () => clearTimeout(timer);\r\n    }, [showSelectionModal]);\r\n\r\n    const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.location.origin + '/member')}&bgcolor=ffffff&color=2c2c2c&margin=10`;\r\n\r\n    return (\r\n        <div className=\"checkin-wrapper\" style={{\r\n            position: 'relative',\r\n            width: '100%',\r\n            height: '100dvh',\r\n            overflow: 'hidden',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            background: '#000'\r\n        }}>\r\n            {/* [NETWORK] Global indicator moved to bottom right per user request */}\r\n\r\n            {/* Background Image with optimized rendering */}\r\n            <div className=\"bg-container\" style={{\r\n                position: 'fixed',\r\n                top: 0,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '100%',\r\n                zIndex: 0\r\n            }}>\r\n                <img\r\n                    src={bgImage}\r\n                    alt=\"bg\"\r\n                    className=\"static-bg\"\r\n                    style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        objectFit: 'cover'\r\n                    }}\r\n                />\r\n                <div className=\"bg-overlay\" style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    background: 'rgba(0,0,0,0.5)' // Solid overlay for speed\r\n                }} />\r\n            </div>\r\n\r\n            {/* Top Bar - Optimized with Memoization & Internal Clock */}\r\n            <TopBar\r\n                weather={weather}\r\n                currentBranch={currentBranch}\r\n                branches={branches}\r\n                handleBranchChange={handleBranchChange}\r\n                toggleFullscreen={toggleFullscreen}\r\n                isFullscreen={isFullscreen}\r\n                language={language}\r\n                onInstructorClick={() => setShowInstructorQR(true)}\r\n            />\r\n\r\n            <div className=\"checkin-content\" style={{\r\n                zIndex: 5,\r\n                flex: 1,\r\n                display: 'flex',\r\n                gap: '40px',\r\n                padding: '20px 40px 40px',\r\n                width: '100%',\r\n                margin: '0 auto',\r\n                alignItems: 'stretch',\r\n                overflow: 'hidden'\r\n            }}>\r\n                <div className=\"checkin-info-section\" style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center'\r\n                }}>\r\n                    {!message && (\r\n                        <header className=\"info-header\" style={{ marginBottom: '40px' }}>\r\n                            <div className=\"logo-container\" style={{ display: 'flex', alignItems: 'center', gap: '35px', justifyContent: 'center' }}>\r\n                                {/* [ADJUSTED] Logo sizes: RYS200 (80px), Main Logo (80px) per user request */}\r\n                                <img src={rys200Logo} alt=\"RYS200\" style={{ height: '80px', width: 'auto', filter: 'brightness(0) invert(1)', opacity: 0.8 }} />\r\n                                <img src={logoWide} alt=\"logo\" style={{ height: '78px', width: 'auto' }} />\r\n                            </div>\r\n                        </header>\r\n                    )}\r\n\r\n                    <div className=\"info-body\">\r\n                        {!message && !showInstallGuide && (\r\n                            <div className=\"pin-display\">\r\n                                {pin.padEnd(4, '').split('').map((c, i) => (\r\n                                    <span key={i} className={i < pin.length ? 'pin-active' : 'pin-inactive'}>{c}</span>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* [FIX] Moved message modal logic to root level or use portal concept */}\r\n                        <div className=\"message-container\">\r\n                            {/* Only show instruction when no message */}\r\n                            {!message && (\r\n                                <div className={`instruction-text ${loading ? 'loading' : ''}`}>\r\n                                    {aiExperience ? (\r\n                                        <div>\r\n                                            <span className=\"outfit-font\" style={{\r\n                                                fontSize: 'clamp(1.8rem, 4.5vh, 2.6rem)',\r\n                                                fontWeight: 700,\r\n                                                display: 'block',\r\n                                                marginBottom: '15px',\r\n                                                color: '#FFFFFF',\r\n                                                textShadow: '0 2px 4px rgba(0,0,0,0.8)',\r\n                                                wordBreak: 'keep-all',\r\n                                                lineHeight: 1.2,\r\n                                                opacity: loading ? 0.3 : 1\r\n                                            }}>\r\n                                                {aiExperience.message}\r\n                                            </span>\r\n                                            {/* [AI] AI   -     */}\r\n                                            {aiEnhancedMsg && !loading && (\r\n                                                <div style={{\r\n                                                    marginTop: '8px',\r\n                                                    padding: '12px 16px',\r\n                                                    background: 'linear-gradient(135deg, rgba(212,175,55,0.12), rgba(212,175,55,0.04))',\r\n                                                    border: '1px solid rgba(212,175,55,0.25)',\r\n                                                    borderRadius: '16px',\r\n                                                    animation: 'slideUp 0.6s ease-out',\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'flex-start',\r\n                                                    gap: '10px'\r\n                                                }}>\r\n                                                    <span style={{ fontSize: '1.2rem', flexShrink: 0, marginTop: '2px' }}></span>\r\n                                                    <span style={{\r\n                                                        fontSize: 'clamp(1rem, 2.5vh, 1.4rem)',\r\n                                                        color: 'rgba(255,255,255,0.9)',\r\n                                                        lineHeight: 1.5,\r\n                                                        fontWeight: 500,\r\n                                                        wordBreak: 'keep-all',\r\n                                                        fontStyle: 'italic'\r\n                                                    }}>\r\n                                                        {aiEnhancedMsg}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )}\r\n                                            {/* [AI] AI   -   */}\r\n                                            {aiLoading && !loading && (\r\n                                                <div style={{\r\n                                                    marginTop: '12px',\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    justifyContent: 'center',\r\n                                                    gap: '10px',\r\n                                                    padding: '10px 16px',\r\n                                                    borderRadius: '20px',\r\n                                                    background: 'rgba(212,175,55,0.08)',\r\n                                                    border: '1px solid rgba(212,175,55,0.15)',\r\n                                                    animation: 'fadeIn 0.5s ease-out'\r\n                                                }}>\r\n                                                    <div className=\"ai-thinking-icon\" style={{\r\n                                                        width: '24px', height: '24px',\r\n                                                        display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n                                                    }}>\r\n                                                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 256 256\" fill=\"var(--primary-gold)\">\r\n                                                            <path d=\"M200,48H136V16a8,8,0,0,0-16,0V48H56A32,32,0,0,0,24,80v96a32,32,0,0,0,32,32h80v32a8,8,0,0,0,16,0V208h48a32,32,0,0,0,32-32V80A32,32,0,0,0,200,48ZM172,168H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Zm0-48H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Z\"/>\r\n                                                        </svg>\r\n                                                    </div>\r\n                                                    <span style={{\r\n                                                        color: 'rgba(212,175,55,0.85)',\r\n                                                        fontSize: '0.95rem',\r\n                                                        fontWeight: 500,\r\n                                                        animation: 'pulse 1.5s ease-in-out infinite'\r\n                                                    }}>\r\n                                                        AI    \r\n                                                    </span>\r\n                                                    <div style={{\r\n                                                        display: 'flex', gap: '4px'\r\n                                                    }}>\r\n                                                        {[0, 1, 2].map(i => (\r\n                                                            <div key={i} style={{\r\n                                                                width: '6px', height: '6px',\r\n                                                                borderRadius: '50%',\r\n                                                                background: 'var(--primary-gold)',\r\n                                                                opacity: 0.7,\r\n                                                                animation: `pulse 1.4s ease-in-out ${i * 0.2}s infinite`\r\n                                                            }} />\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                            {loading && (\r\n                                                <div className=\"mini-loader\" style={{\r\n                                                    fontSize: '1.1rem',\r\n                                                    color: 'var(--primary-gold)',\r\n                                                    fontWeight: 'bold',\r\n                                                    marginTop: '-10px'\r\n                                                }}>\r\n                                                       ...\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div style={{ opacity: 0.5, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>\r\n                                            <div className=\"ai-thinking-icon\" style={{ width: '24px', height: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 256 256\" fill=\"var(--primary-gold)\">\r\n                                                    <path d=\"M200,48H136V16a8,8,0,0,0-16,0V48H56A32,32,0,0,0,24,80v96a32,32,0,0,0,32,32h80v32a8,8,0,0,0,16,0V208h48a32,32,0,0,0,32-32V80A32,32,0,0,0,200,48ZM172,168H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Zm0-48H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Z\"/>\r\n                                                </svg>\r\n                                            </div>\r\n                                            <span style={{ animation: 'pulse 1.5s ease-in-out infinite' }}>    ...</span>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!message && (\r\n                        <div\r\n                            className=\"qr-box\" // Removed glass-panel\r\n                            style={{\r\n                                background: 'rgba(0,0,0,0.6)', // Simple background\r\n                                borderRadius: '20px',\r\n                                padding: '20px 30px',\r\n                                cursor: 'pointer',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                gap: '25px',\r\n                                alignSelf: 'center',\r\n                                border: '1px solid rgba(255, 215, 0, 0.4)',\r\n                                touchAction: 'none'\r\n                            }}\r\n                            onTouchStart={handleQRInteraction}\r\n                            onMouseDown={(e) => {\r\n                                if (e.button === 0) handleQRInteraction(e);\r\n                            }}\r\n                        >\r\n                            <div className=\"qr-img-wrapper\" style={{ background: 'white', padding: '12px', borderRadius: '16px', flexShrink: 0 }}>\r\n                                <img src={qrCodeUrl} alt=\"QR\" style={{ width: '130px', height: '130px', display: 'block' }} />\r\n                            </div>\r\n                            <div className=\"qr-text\" style={{\r\n                                textAlign: 'left',\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                justifyContent: 'center',\r\n                                marginTop: '-5px' // Adjusted alignment\r\n                            }}>\r\n                                <h3 style={{ fontSize: '1.9rem', color: 'var(--primary-gold)', marginBottom: '16px', fontWeight: 900, lineHeight: 1 }}>\r\n                                     \r\n                                </h3>\r\n                                <ul style={{ listStyle: 'none', padding: 0, margin: 0, display: 'flex', flexDirection: 'column', gap: '5px' }}>\r\n                                    <li style={{ fontSize: '1.2rem', color: 'rgba(255, 255, 255, 0.95)', display: 'flex', alignItems: 'center', gap: '8px', lineHeight: 1.1 }}>\r\n                                           \r\n                                    </li>\r\n                                    <li style={{ fontSize: '1.2rem', color: 'rgba(255, 255, 255, 0.95)', display: 'flex', alignItems: 'center', gap: '8px', lineHeight: 1.1 }}>\r\n                                           \r\n                                    </li>\r\n                                    <li style={{ fontSize: '1.2rem', color: 'rgba(255, 255, 255, 0.95)', display: 'flex', alignItems: 'center', gap: '8px', lineHeight: 1.1 }}>\r\n                                           \r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"checkin-keypad-section\" style={{ position: 'relative', background: 'transparent', boxShadow: 'none', border: 'none' }}>\r\n                    {/* [UX] Loading Overlay with Friendly Messages (30s Timeout Support) */}\r\n                    {loading && (\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            bottom: 0,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            background: 'rgba(0,0,0,0.85)',\r\n                            borderRadius: '24px',\r\n                            zIndex: 100,\r\n                            padding: '20px',\r\n                            textAlign: 'center'\r\n                        }}>\r\n                            <div style={{\r\n                                width: '40px',\r\n                                height: '40px',\r\n                                border: '3px solid rgba(255,215,0,0.3)',\r\n                                borderTop: '3px solid var(--primary-gold)',\r\n                                borderRadius: '50%',\r\n                                animation: 'spin 1s linear infinite',\r\n                                marginBottom: '20px'\r\n                            }} />\r\n                            <p style={{ color: 'var(--primary-gold)', fontSize: '1.2rem', fontWeight: 600, margin: 0 }}>\r\n                                {loadingMessage || '  ...'}\r\n                            </p>\r\n                            <p style={{ color: 'rgba(255,255,255,0.7)', fontSize: '0.9rem', marginTop: '8px' }}>\r\n                                 \r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                    {/* [PERF] Loading overlay while cache is warming */}\r\n                    {!isReady && (\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            bottom: 0,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            background: 'rgba(0,0,0,0.7)',\r\n                            borderRadius: '24px',\r\n                            zIndex: 100\r\n                        }}>\r\n                            <div style={{\r\n                                width: '50px',\r\n                                height: '50px',\r\n                                border: '4px solid rgba(255,215,0,0.3)',\r\n                                borderTop: '4px solid var(--primary-gold)',\r\n                                borderRadius: '50%',\r\n                                animation: 'spin 1s linear infinite'\r\n                            }} />\r\n                            <p style={{ marginTop: '20px', color: 'var(--primary-gold)', fontSize: '1.2rem', fontWeight: 600 }}>\r\n                                   ...\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                    {pin.length === 0 && !message && isReady && (\r\n                        <div className=\"keypad-floating-instruction\">\r\n                              4 \r\n                        </div>\r\n                    )}\r\n                    <Keypad\r\n                        onKeyPress={handleKeyPress}\r\n                        onClear={handleClear}\r\n                        onSubmit={handleSubmit}\r\n                        disabled={loading || keypadLocked || !!message || showSelectionModal || showInstallGuide || showKioskInstallGuide || !isReady}\r\n                    />\r\n                </div>\r\n            </div >\r\n\r\n            {\r\n                showSelectionModal && (\r\n                    <div\r\n                        className=\"modal-overlay\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                        onTouchStart={(e) => {\r\n                            if (e.cancelable) e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }}\r\n                        style={{ zIndex: 3000, touchAction: 'none' }} // Ensure it's on top and blocks gestures\r\n                    >\r\n                        <div className=\"modal-content glass-panel\" style={{\r\n                            width: '95%',\r\n                            maxWidth: '1100px',\r\n                            maxHeight: '90vh',\r\n                            padding: '25px 30px',\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: '12px',\r\n                            overflow: 'hidden'\r\n                        }}>\r\n                            <h2 style={{ fontSize: '2rem', marginBottom: '5px', textAlign: 'center' }}> </h2>\r\n                            <p style={{ textAlign: 'center', opacity: 0.7, marginBottom: '10px', fontSize: '0.95rem' }}>\r\n                                  \r\n                                <span style={{ marginLeft: '10px', fontSize: '0.85em', color: '#ff6b6b' }}>\r\n                                    (30   )\r\n                                </span>\r\n                            </p>\r\n\r\n                            {/* [LOGIC] Split Active / Inactive Members */}\r\n                            {(() => {\r\n                                const today = new Date();\r\n                                today.setHours(0, 0, 0, 0);\r\n\r\n                                const activeMembers = [];\r\n                                const inactiveMembers = [];\r\n\r\n                                duplicateMembers.forEach(m => {\r\n                                    let isActive = false;\r\n                                    const credits = m.credits || 0;\r\n                                    const endDateStr = m.endDate;\r\n\r\n                                    // 1. Check Credits\r\n                                    const hasCredits = credits > 0 || credits === Infinity;\r\n\r\n                                    // 2. Check Date\r\n                                    let hasValidDate = true;\r\n                                    if (endDateStr && endDateStr !== 'unlimited' && endDateStr !== 'TBD') {\r\n                                        const endDate = new Date(endDateStr);\r\n                                        endDate.setHours(0, 0, 0, 0);\r\n                                        if (endDate < today) {\r\n                                            hasValidDate = false;\r\n                                        }\r\n                                    }\r\n\r\n                                    // Active Logic: Must have credits AND valid date\r\n                                    if (hasCredits && hasValidDate) {\r\n                                        activeMembers.push(m);\r\n                                    } else {\r\n                                        inactiveMembers.push(m);\r\n                                    }\r\n                                });\r\n\r\n                                return (\r\n                                    <div style={{ display: 'flex', gap: '20px', flex: 1, minHeight: '280px' }}>\r\n                                        {/* LEFT: Active Members (Prominent, Horizontal) */}\r\n                                        <div style={{ flex: 2, display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                                            <h3 style={{ fontSize: '1.2rem', color: 'var(--primary-gold)', borderBottom: '1px solid rgba(212,175,55,0.3)', paddingBottom: '8px' }}>\r\n                                                   \r\n                                            </h3>\r\n                                            <div style={{\r\n                                                display: 'flex',\r\n                                                flexWrap: 'wrap',\r\n                                                gap: '15px',\r\n                                                flex: 1,\r\n                                                overflowY: 'auto',\r\n                                                alignContent: 'start',\r\n                                                paddingRight: '5px'\r\n                                            }}>\r\n                                                {activeMembers.length > 0 ? activeMembers.map(m => {\r\n                                                    const isSelected = selectedMemberId === m.id;\r\n                                                    return (\r\n                                                        <button\r\n                                                            key={m.id}\r\n                                                            onClick={(e) => {\r\n                                                                if (loading) return;\r\n                                                                e.stopPropagation();\r\n                                                                setSelectedMemberId(m.id);\r\n                                                            }}\r\n                                                            className={`member-card active-member-card ${isSelected ? 'selected' : ''}`}\r\n                                                            style={{\r\n                                                                flex: '1 1 calc(50% - 15px)', // 2 cards per row\r\n                                                                minWidth: '220px',\r\n                                                                padding: '20px',\r\n                                                                borderRadius: '16px',\r\n                                                                background: isSelected ? 'linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05))' : 'linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02))',\r\n                                                                color: 'white',\r\n                                                                border: isSelected ? '2px solid var(--primary-gold)' : '2px solid rgba(255,255,255,0.2)',\r\n                                                                boxShadow: isSelected ? '0 0 20px rgba(212,175,55,0.3)' : '0 4px 15px rgba(0,0,0,0.1)',\r\n                                                                display: 'flex',\r\n                                                                flexDirection: 'column',\r\n                                                                alignItems: 'center',\r\n                                                                justifyContent: 'center',\r\n                                                                gap: '12px',\r\n                                                                cursor: 'pointer',\r\n                                                                transition: 'all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)',\r\n                                                                transform: isSelected ? 'scale(1.02)' : 'scale(1)',\r\n                                                                minHeight: '140px'\r\n                                                            }}\r\n                                                        >\r\n                                                            <span style={{ fontSize: '1.9rem', fontWeight: '800', color: isSelected ? 'var(--primary-gold)' : 'white' }}>{m.name}</span>\r\n                                                            <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                                                                <span style={{ fontSize: '0.9rem', background: 'rgba(0,0,0,0.5)', padding: '5px 12px', borderRadius: '50px' }}>\r\n                                                                    {getBranchName(m.homeBranch)}\r\n                                                                </span>\r\n                                                                <span style={{ fontSize: '0.9rem', background: isSelected ? 'rgba(76, 175, 80, 0.3)' : 'rgba(255,255,255,0.1)', padding: '5px 12px', borderRadius: '50px', color: isSelected ? '#a5d6a7' : 'rgba(255,255,255,0.8)' }}>\r\n                                                                    {m.credits > 900 ? '' : `${m.credits}`}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </button>\r\n                                                    );\r\n                                                }) : (\r\n                                                    <div style={{ width: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', opacity: 0.5, fontSize: '1.2rem', padding: '30px' }}>\r\n                                                          .\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* RIGHT: Inactive Members (Compact, Smaller, Unclickable typically) */}\r\n                                        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '8px', borderLeft: '1px solid rgba(255,255,255,0.1)', paddingLeft: '20px', maxWidth: '300px' }}>\r\n                                            <h3 style={{ fontSize: '1rem', color: 'rgba(255,255,255,0.4)', borderBottom: '1px solid rgba(255,255,255,0.1)', paddingBottom: '6px' }}>\r\n                                                 /\r\n                                            </h3>\r\n                                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px', overflowY: 'auto' }}>\r\n                                                {inactiveMembers.length > 0 ? inactiveMembers.map(m => (\r\n                                                    <div\r\n                                                        key={m.id}\r\n                                                        className=\"member-card inactive-member-card\"\r\n                                                        style={{\r\n                                                            padding: '10px 15px',\r\n                                                            borderRadius: '8px',\r\n                                                            background: 'rgba(0,0,0,0.3)',\r\n                                                            color: 'rgba(255,255,255,0.4)',\r\n                                                            border: '1px dashed rgba(255,255,255,0.1)',\r\n                                                            display: 'flex',\r\n                                                            alignItems: 'center',\r\n                                                            justifyContent: 'space-between',\r\n                                                            textAlign: 'left',\r\n                                                            cursor: 'default',\r\n                                                            opacity: 0.7\r\n                                                        }}\r\n                                                    >\r\n                                                        <div>\r\n                                                            <div style={{ fontSize: '1.05rem', fontWeight: '600' }}>{m.name}</div>\r\n                                                            <div style={{ fontSize: '0.75rem', opacity: 0.6 }}>{getBranchName(m.homeBranch)}</div>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: '0.8rem', color: '#ff6b6b' }}></div>\r\n                                                    </div>\r\n                                                )) : (\r\n                                                    <div style={{ opacity: 0.3, textAlign: 'center', padding: '15px', fontSize: '0.85rem' }}>\r\n                                                         \r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })()}\r\n\r\n                            <div style={{ display: 'flex', justifyContent: 'center', gap: '15px', marginTop: '20px' }}>\r\n                                <button\r\n                                    onClick={() => handleModalClose(() => setShowSelectionModal(false))}\r\n                                    style={{\r\n                                        background: 'transparent',\r\n                                        border: '1px solid rgba(255,255,255,0.2)',\r\n                                        color: 'rgba(255,255,255,0.6)',\r\n                                        padding: '12px 30px',\r\n                                        borderRadius: '50px',\r\n                                        fontSize: '1.1rem',\r\n                                        fontWeight: '500',\r\n                                        cursor: 'pointer',\r\n                                        transition: 'all 0.2s',\r\n                                    }}\r\n                                    onMouseOver={(e) => {\r\n                                        e.currentTarget.style.borderColor = 'rgba(255,255,255,0.5)';\r\n                                        e.currentTarget.style.color = 'rgba(255,255,255,0.9)';\r\n                                    }}\r\n                                    onMouseOut={(e) => {\r\n                                        e.currentTarget.style.borderColor = 'rgba(255,255,255,0.2)';\r\n                                        e.currentTarget.style.color = 'rgba(255,255,255,0.6)';\r\n                                    }}\r\n                                >\r\n                                     ()\r\n                                </button>\r\n                                \r\n                                {/* [UX] 2-Step Check-in Final Button */}\r\n                                <button\r\n                                    onClick={(e) => {\r\n                                        if (loading || !selectedMemberId) return;\r\n                                        e.stopPropagation();\r\n                                        handleSelectMember(selectedMemberId);\r\n                                    }}\r\n                                    disabled={!selectedMemberId || loading}\r\n                                    style={{\r\n                                        background: selectedMemberId ? 'var(--primary-gold)' : 'rgba(255,255,255,0.1)',\r\n                                        border: 'none',\r\n                                        color: selectedMemberId ? '#000' : 'rgba(255,255,255,0.3)',\r\n                                        padding: '12px 40px',\r\n                                        borderRadius: '50px',\r\n                                        fontSize: '1.1rem',\r\n                                        fontWeight: '700',\r\n                                        cursor: selectedMemberId ? 'pointer' : 'not-allowed',\r\n                                        transition: 'all 0.2s',\r\n                                        boxShadow: selectedMemberId ? '0 4px 15px rgba(212,175,55,0.3)' : 'none'\r\n                                    }}\r\n                                    onMouseOver={(e) => selectedMemberId && (e.currentTarget.style.transform = 'translateY(-2px)')}\r\n                                    onMouseOut={(e) => selectedMemberId && (e.currentTarget.style.transform = 'translateY(0)')}\r\n                                >\r\n                                    {selectedMemberId ? '  ' : '  '}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            {/* [FIX] Message Modal as Fixed Overlay for reliable closing */}\r\n            \r\n            {/* [BUILD-FIX] Unminifiable version string inside DOM to defeat all dead-code elimination (v2026.02.22.v7) */}\r\n            <div style={{ display: 'none' }} data-version=\"2026.02.22.v7\">v2026.02.22.v7</div>\r\n            \r\n            {\r\n                message && (\r\n                    <div\r\n                        className=\"modal-overlay\"\r\n                        style={{\r\n                            zIndex: 2500,\r\n                            background: 'rgba(0,0,0,0.8)',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleModalClose(() => setMessage(null));\r\n                            setPin('');\r\n                            if (timerRef.current) clearTimeout(timerRef.current);\r\n                        }}\r\n                        onTouchStart={(e) => {\r\n                            if (e.cancelable) e.preventDefault();\r\n                            e.stopPropagation();\r\n                            handleModalClose(() => setMessage(null));\r\n                            setPin('');\r\n                            if (timerRef.current) clearTimeout(timerRef.current);\r\n                        }}\r\n                    >\r\n                        <div\r\n                            className={`message-box ${message.type}`}\r\n                            style={{\r\n                                maxWidth: '900px', // Restrict width so it looks like a modal\r\n                                width: '90%',\r\n                                height: 'auto',\r\n                                maxHeight: '80vh',\r\n                                display: 'flex', // Re-apply flex inside\r\n                                flexDirection: 'column'\r\n                            }}\r\n                            onClick={(e) => {\r\n                                // Also allow clicking inside the box to close it (per user request: \"touch screen to close immediately\")\r\n                                e.stopPropagation();\r\n                                handleModalClose(() => setMessage(null));\r\n                                setPin('');\r\n                                if (timerRef.current) clearTimeout(timerRef.current);\r\n                            }}\r\n                        >\r\n                            <div className=\"message-content\">\r\n                                <div className=\"message-text\" style={{ fontSize: '2.5rem', fontWeight: '800', marginBottom: '15px' }}>{message.text}</div>\r\n                                {message.subText && <div className=\"message-subtext\" style={{ fontSize: '1.5rem', opacity: 1, marginBottom: '20px', whiteSpace: 'pre-wrap', lineHeight: '1.3' }}>{message.subText}</div>}\r\n                                {/* [AI]   AI   */}\r\n                                {message.type === 'success' && aiEnhancedMsg && (\r\n                                    <div style={{\r\n                                        margin: '0 20px 15px',\r\n                                        padding: '14px 18px',\r\n                                        background: 'linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05))',\r\n                                        border: '1px solid rgba(212,175,55,0.3)',\r\n                                        borderRadius: '16px',\r\n                                        animation: 'slideUp 0.6s ease-out',\r\n                                        display: 'flex',\r\n                                        alignItems: 'flex-start',\r\n                                        gap: '10px'\r\n                                    }}>\r\n                                        <span style={{ fontSize: '1.3rem', flexShrink: 0, marginTop: '2px' }}></span>\r\n                                        <span style={{\r\n                                            fontSize: '1.15rem',\r\n                                            color: 'rgba(255,255,255,0.95)',\r\n                                            lineHeight: 1.5,\r\n                                            fontWeight: 500,\r\n                                            wordBreak: 'keep-all',\r\n                                            fontStyle: 'italic'\r\n                                        }}>\r\n                                            {aiEnhancedMsg}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                                {/* [AI]   AI   */}\r\n                                {message.type === 'success' && aiLoading && (\r\n                                    <div style={{\r\n                                        margin: '0 20px 15px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        gap: '8px',\r\n                                        padding: '10px 16px',\r\n                                        borderRadius: '20px',\r\n                                        background: 'rgba(212,175,55,0.08)',\r\n                                        border: '1px solid rgba(212,175,55,0.15)',\r\n                                        animation: 'fadeIn 0.5s ease-out'\r\n                                    }}>\r\n                                        <div className=\"ai-thinking-icon\" style={{\r\n                                            width: '20px', height: '20px',\r\n                                            display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n                                        }}>\r\n                                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 256 256\" fill=\"var(--primary-gold)\">\r\n                                                <path d=\"M200,48H136V16a8,8,0,0,0-16,0V48H56A32,32,0,0,0,24,80v96a32,32,0,0,0,32,32h80v32a8,8,0,0,0,16,0V208h48a32,32,0,0,0,32-32V80A32,32,0,0,0,200,48ZM172,168H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Zm0-48H84a12,12,0,0,1,0-24h88a12,12,0,0,1,0,24Z\"/>\r\n                                            </svg>\r\n                                        </div>\r\n                                        <span style={{\r\n                                            color: 'rgba(212,175,55,0.85)',\r\n                                            fontSize: '0.85rem',\r\n                                            fontWeight: 500,\r\n                                            animation: 'pulse 1.5s ease-in-out infinite'\r\n                                        }}>\r\n                                                ...\r\n                                        </span>\r\n                                        <div style={{ display: 'flex', gap: '3px' }}>\r\n                                            {[0, 1, 2].map(i => (\r\n                                                <div key={i} style={{\r\n                                                    width: '5px', height: '5px',\r\n                                                    borderRadius: '50%',\r\n                                                    background: 'var(--primary-gold)',\r\n                                                    opacity: 0.7,\r\n                                                    animation: `pulse 1.4s ease-in-out ${i * 0.2}s infinite`\r\n                                                }} />\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                                {message.details}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            {/* [NEW] Kiosk Notice Overlay */}\r\n            {kioskSettings?.active && kioskSettings?.imageUrl && !message && !showSelectionModal && !showDuplicateConfirm && (\r\n                <div \r\n                    onClick={() => {\r\n                        // Dismiss locally until page reloads or settings update\r\n                        setKioskSettings(prev => ({...prev, active: false}));\r\n                    }}\r\n                    style={{\r\n                        position: 'fixed',\r\n                        top: 0, left: 0, right: 0, bottom: 0,\r\n                        backgroundColor: '#000',\r\n                        zIndex: 2000,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        animation: 'fadeIn 0.3s ease-in-out'\r\n                    }}\r\n                >\r\n                    <img \r\n                        src={kioskSettings.imageUrl} \r\n                        alt=\" \" \r\n                        style={{ maxWidth: '100%', maxHeight: '100%', objectFit: 'contain' }} \r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setKioskSettings(prev => ({...prev, active: false}));\r\n                        }}\r\n                    />\r\n                    <div style={{ position: 'absolute', top: '20px', right: '20px', background: 'rgba(0,0,0,0.5)', color: 'white', padding: '10px 20px', borderRadius: '20px', pointerEvents: 'none', fontWeight: 'bold' }}>\r\n                           \r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* PWA Install Guide  INLINE to prevent silent render failures */}\r\n            {\r\n                (showKioskInstallGuide || showInstallGuide) && (\r\n                    <div\r\n                        style={{\r\n                            position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n                            background: 'rgba(0,0,0,0.92)', zIndex: 9999,\r\n                            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                            touchAction: 'none'\r\n                        }}\r\n                        onClick={() => handleModalClose(() => {\r\n                            setShowKioskInstallGuide(false);\r\n                            setShowInstallGuide(false);\r\n                        })}\r\n                    >\r\n                        <div\r\n                            onClick={e => e.stopPropagation()}\r\n                            onTouchStart={e => e.stopPropagation()}\r\n                            style={{\r\n                                width: '90%', maxWidth: '1200px', minHeight: '50vh',\r\n                                background: 'rgba(35, 35, 35, 0.98)', borderRadius: '40px',\r\n                                border: '1px solid rgba(255, 215, 0, 0.3)',\r\n                                boxShadow: '0 50px 100px rgba(0,0,0,0.8)',\r\n                                padding: '40px', display: 'flex', flexDirection: 'column',\r\n                                alignItems: 'center', justifyContent: 'center', gap: '30px'\r\n                            }}\r\n                        >\r\n                            <h2 style={{ fontSize: '2.4rem', color: 'var(--primary-gold)', fontWeight: 900, margin: 0 }}>\r\n                                   \r\n                            </h2>\r\n                            <p style={{ fontSize: '1.4rem', color: 'rgba(255,255,255,0.7)', textAlign: 'center', lineHeight: 1.6, margin: 0 }}>\r\n                                      .\r\n                            </p>\r\n                            <div style={{ display: 'flex', gap: '40px', flexWrap: 'wrap', justifyContent: 'center', marginTop: '10px' }}>\r\n                                <div style={{ textAlign: 'center', flex: '1 1 200px' }}>\r\n                                    <div style={{ fontSize: '3rem', marginBottom: '10px' }}></div>\r\n                                    <h4 style={{ fontSize: '1.6rem', fontWeight: 800, color: 'white', marginBottom: '10px' }}>1.  </h4>\r\n                                    <p style={{ fontSize: '1.2rem', color: 'rgba(255,255,255,0.5)' }}> 3    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'center', flex: '1 1 200px' }}>\r\n                                    <div style={{ fontSize: '3rem', marginBottom: '10px' }}></div>\r\n                                    <h4 style={{ fontSize: '1.6rem', fontWeight: 800, color: 'white', marginBottom: '10px' }}>2.   </h4>\r\n                                    <p style={{ fontSize: '1.2rem', color: 'rgba(255,255,255,0.5)' }}>'  ' </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'center', flex: '1 1 200px' }}>\r\n                                    <div style={{ fontSize: '3rem', marginBottom: '10px' }}></div>\r\n                                    <h4 style={{ fontSize: '1.6rem', fontWeight: 800, color: 'white', marginBottom: '10px' }}>3.  </h4>\r\n                                    <p style={{ fontSize: '1.2rem', color: 'rgba(255,255,255,0.5)' }}>''   </p>\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => handleModalClose(() => {\r\n                                    setShowKioskInstallGuide(false);\r\n                                    setShowInstallGuide(false);\r\n                                })}\r\n                                style={{\r\n                                    marginTop: '20px', padding: '16px 60px', fontSize: '1.5rem',\r\n                                    fontWeight: 800, background: 'var(--primary-gold)', color: 'black',\r\n                                    border: 'none', borderRadius: '16px', cursor: 'pointer'\r\n                                }}\r\n                            >\r\n                                \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            {/* Instructor QR Modal */}\r\n            <InstructorQRModal \r\n                isOpen={showInstructorQR} \r\n                onClose={() => setShowInstructorQR(false)} \r\n            />\r\n\r\n            {showDuplicateConfirm && (\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: 0, left: 0, right: 0, bottom: 0,\r\n                    background: 'rgba(0,0,0,0.85)', // [UI] Darker background for focus\r\n                    zIndex: 10000,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    animation: 'fadeIn 0.2s ease-out'\r\n                }}>\r\n                    <div style={{\r\n                        background: 'rgba(30,30,30,0.98)',\r\n                        backdropFilter: 'blur(30px)',\r\n                        border: '2px solid rgba(255,80,80,0.5)',\r\n                        borderRadius: '28px',\r\n                        padding: '30px 40px',\r\n                        maxWidth: '750px',\r\n                        width: '95%',\r\n                        textAlign: 'center',\r\n                        boxShadow: '0 30px 80px rgba(0,0,0,0.7)',\r\n                        animation: 'scaleUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)'\r\n                    }}>\r\n                        <div style={{\r\n                            fontSize: '3rem',\r\n                            marginBottom: '10px'\r\n                        }}></div>\r\n                        <h3 style={{\r\n                            color: '#ff6b6b',\r\n                            fontSize: '2rem',\r\n                            fontWeight: 800,\r\n                            marginBottom: '12px',\r\n                            textShadow: '0 2px 10px rgba(255,107,107,0.3)'\r\n                        }}>!  </h3>\r\n                        \r\n                        <p style={{\r\n                            color: 'white',\r\n                            fontSize: '1.3rem',\r\n                            lineHeight: 1.4,\r\n                            marginBottom: '6px',\r\n                            fontWeight: 600\r\n                        }}>\r\n                             <span style={{color: '#ffd700'}}>/</span>  ?\r\n                        </p>\r\n                        <p style={{\r\n                            color: 'rgba(255,255,255,0.7)',\r\n                            fontSize: '1.1rem',\r\n                            marginBottom: '25px'\r\n                        }}>\r\n                             ,  <span style={{color: '#ff6b6b', textDecoration: 'underline'}}> </span> !\r\n                        </p>\r\n\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            gap: '20px',\r\n                            justifyContent: 'center',\r\n                            flexWrap: 'wrap'\r\n                        }}>\r\n                            {/* [UI] Huge Cancel Button */}\r\n                            <button\r\n                                onClick={cancelDuplicateCheckIn}\r\n                                style={{\r\n                                    flex: '1 1 280px',\r\n                                    padding: '20px 15px',\r\n                                    borderRadius: '20px',\r\n                                    border: '3px solid #ff6b6b',\r\n                                    background: 'rgba(255,107,107,0.15)',\r\n                                    color: '#ff6b6b',\r\n                                    fontSize: '1.5rem',\r\n                                    fontWeight: 800,\r\n                                    cursor: 'pointer',\r\n                                    boxShadow: '0 10px 30px rgba(255,107,107,0.2)',\r\n                                    transition: 'all 0.2s',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    gap: '6px'\r\n                                }}\r\n                            >\r\n                                <span>  !</span>\r\n                                <span style={{fontSize: '0.85rem', fontWeight: 500, opacity: 0.8}}>()</span>\r\n                            </button>\r\n\r\n                            {/* [UI] Huge Confirm Button */}\r\n                            <button\r\n                                onClick={confirmDuplicateCheckIn}\r\n                                style={{\r\n                                    flex: '1 1 280px',\r\n                                    padding: '20px 15px',\r\n                                    borderRadius: '20px',\r\n                                    border: 'none',\r\n                                    background: 'linear-gradient(135deg, #d4af37, #f5d76e)',\r\n                                    color: '#1a1a1a',\r\n                                    fontSize: '1.5rem',\r\n                                    fontWeight: 800,\r\n                                    cursor: 'pointer',\r\n                                    boxShadow: '0 10px 30px rgba(212,175,55,0.4)',\r\n                                    transition: 'all 0.2s',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    gap: '6px'\r\n                                }}\r\n                            >\r\n                                <span> ,  </span>\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* [Logic] Auto-confirm countdown */}\r\n                        <div style={{\r\n                            marginTop: '20px',\r\n                            padding: '12px 15px',\r\n                            background: 'rgba(255,255,255,0.05)',\r\n                            borderRadius: '14px',\r\n                            border: '1px dashed rgba(255,255,255,0.2)'\r\n                        }}>\r\n                            <p style={{\r\n                                color: 'rgba(255,255,255,0.9)',\r\n                                fontSize: '1rem',\r\n                                marginBottom: '6px'\r\n                            }}>\r\n                                  ...\r\n                            </p>\r\n                            <div style={{\r\n                                fontSize: '1.2rem',\r\n                                fontWeight: 700,\r\n                                color: '#ffd700'\r\n                            }}>\r\n                                <span style={{fontSize: '1.5rem', color: '#fff'}}>{duplicateTimer}</span>   <span style={{textDecoration: 'underline'}}> </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div >\r\n    );\r\n};\r\n\r\n// [ADD] Effect to auto-close InstallGuide after 5 minutes\r\n// Since we are inside the component, we can add this useEffect inside CheckInPage\r\n// But CheckInPage is large, let's inject it near other effects or just add a self-closing wrapper?\r\n// Actually, let's just add the useEffect hook in the main component body for simplicity.\r\n\r\n\r\n// [BUILD-FIX] Attach unminifiable property to component object to defeat tree-shaking\r\n// This guarantees Rollup will generate a new chunk hash, forcing Workbox to update!\r\nCheckInPage.__buildVersion = '2026.02.22.v5';\r\n\r\nexport default CheckInPage;\r\n"],"file":"CheckInPage-T8I_kDQ1-v7.js"}